var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){const n=t.subscribe(e);return n.unsubscribe?()=>n.unsubscribe():n}function a(t,e,n,r){if(t){const i=u(t,e,n,r);return t[0](i)}}function u(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function c(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if("object"==typeof e.dirty){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}function h(t){return null==t?"":t}function l(t,e){t.appendChild(e)}function f(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function g(){return m(" ")}function y(){return m("")}function b(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function w(t){return function(e){return e.preventDefault(),t.call(this,e)}}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function E(t){return""===t?void 0:+t}function I(t,e){e=""+e,t.data!==e&&(t.data=e)}function T(t,e){(null!=e||t.value)&&(t.value=e)}function k(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function A(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let N;function S(t){N=t}function x(){if(!N)throw new Error("Function called outside component initialization");return N}function O(t){x().$$.on_mount.push(t)}function D(t){x().$$.on_destroy.push(t)}function C(){const t=x();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const i=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);r.slice().forEach(e=>{e.call(t,i)})}}}function L(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}const P=[],R=[],M=[],j=[],U=Promise.resolve();let V=!1;function $(t){M.push(t)}function F(){const t=new Set;do{for(;P.length;){const t=P.shift();S(t),q(t.$$)}for(;R.length;)R.pop()();for(let e=0;e<M.length;e+=1){const n=M[e];t.has(n)||(n(),t.add(n))}M.length=0}while(P.length);for(;j.length;)j.pop()();V=!1}function q(t){null!==t.fragment&&(t.update(),r(t.before_update),t.fragment&&t.fragment.p(t.ctx,t.dirty),t.dirty=[-1],t.after_update.forEach($))}const B=new Set;let G;function W(){G={r:0,c:[],p:G}}function z(){G.r||r(G.c),G=G.p}function H(t,e){t&&t.i&&(B.delete(t),t.i(e))}function K(t,e,n,r){if(t&&t.o){if(B.has(t))return;B.add(t),G.c.push(()=>{B.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function Y(t){t&&t.c()}function X(t,n,o){const{fragment:s,on_mount:a,on_destroy:u,after_update:c}=t.$$;s&&s.m(n,o),$(()=>{const n=a.map(e).filter(i);u?u.push(...n):r(n),t.$$.on_mount=[]}),c.forEach($)}function J(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Q(t,e){-1===t.$$.dirty[0]&&(P.push(t),V||(V=!0,U.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Z(e,i,o,s,a,u,c=[-1]){const h=N;S(e);const l=i.props||{},f=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:n(),dirty:c};let p=!1;f.ctx=o?o(e,l,(t,n,r=n)=>(f.ctx&&a(f.ctx[t],f.ctx[t]=r)&&(f.bound[t]&&f.bound[t](r),p&&Q(e,t)),n)):[],f.update(),p=!0,r(f.before_update),f.fragment=!!s&&s(f.ctx),i.target&&(i.hydrate?f.fragment&&f.fragment.l(function(t){return Array.from(t.childNodes)}(i.target)):f.fragment&&f.fragment.c(),i.intro&&H(e.$$.fragment),X(e,i.target,i.anchor),F()),S(h)}class tt{$destroy(){J(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function et(t){let e;const n=t[6].default,r=a(n,t,t[5],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&32&e&&r.p(u(n,t,t[5],null),c(n,t[5],e,null))},i(t){e||(H(r,t),e=!0)},o(t){K(r,t),e=!1},d(t){r&&r.d(t)}}}function nt(t){let e,n,r=t[0]&&et(t);return{c(){r&&r.c(),e=y()},m(t,i){r&&r.m(t,i),f(t,e,i),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),H(r,1)):(r=et(t),r.c(),H(r,1),r.m(e.parentNode,e)):r&&(W(),K(r,1,1,()=>{r=null}),z())},i(t){n||(H(r),n=!0)},o(t){K(r),n=!1},d(t){r&&r.d(t),t&&p(e)}}}function rt(t,e,n){let{firebase:r}=e,{perf:i=!1}=e,{analytics:o=!1}=e,s=!1;const a=C();var u,c;r=r||window.firebase,u="firebase",c=r,x().$$.context.set(u,c),O(()=>{if(!r)throw Error("No firebase app was provided. You must provide an initialized Firebase app or make it available globally.");i&&r.performance(),o&&r.analytics(),a("initializeApp",{firebase:r}),n(0,s=!0)});let{$$slots:h={},$$scope:l}=e;return t.$set=t=>{"firebase"in t&&n(1,r=t.firebase),"perf"in t&&n(2,i=t.perf),"analytics"in t&&n(3,o=t.analytics),"$$scope"in t&&n(5,l=t.$$scope)},[s,r,i,o,a,l,h]}class it extends tt{constructor(t){super(),Z(this,t,rt,nt,o,{firebase:1,perf:2,analytics:3})}}const ot=[];function st(e,n=t){let r;const i=[];function s(t){if(o(e,t)&&(e=t,r)){const t=!ot.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),ot.push(n,e)}if(t){for(let t=0;t<ot.length;t+=2)ot[t][0](ot[t+1]);ot.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(o,a=t){const u=[o,a];return i.push(u),1===i.length&&(r=n(s)||t),o(e),()=>{const t=i.indexOf(u);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function at(){return t="firebase",x().$$.context.get(t);var t}function ut(t){const e=at();if(!e)throw new Error("Missing Firebase app in context. Are you inside a 'FirebaseApp' component?");if(t){const n=e[t];if(n&&n())return n();throw new Error(`Firebase ${t} not found. You may be missing "import 'firebase/${t}'" `)}return e}const ct=t=>({user:1&t}),ht=t=>({user:t[0],auth:t[1].auth}),lt=t=>({user:1&t}),ft=t=>({user:t[0],auth:t[1].auth}),pt=t=>({user:1&t}),dt=t=>({user:t[0],auth:t[1].auth}),vt=t=>({user:1&t}),mt=t=>({user:t[0],auth:t[1].auth});function gt(t){let e;const n=t[6]["signed-out"],r=a(n,t,t[5],ft);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&33&e&&r.p(u(n,t,t[5],ft),c(n,t[5],e,lt))},i(t){e||(H(r,t),e=!0)},o(t){K(r,t),e=!1},d(t){r&&r.d(t)}}}function yt(t){let e;const n=t[6].default,r=a(n,t,t[5],dt);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&33&e&&r.p(u(n,t,t[5],dt),c(n,t[5],e,pt))},i(t){e||(H(r,t),e=!0)},o(t){K(r,t),e=!1},d(t){r&&r.d(t)}}}function bt(t){let e,n,r,i,o;const s=t[6].before,h=a(s,t,t[5],mt),l=[yt,gt],d=[];function v(t,e){return t[0]?0:1}n=v(t),r=d[n]=l[n](t);const m=t[6].after,y=a(m,t,t[5],ht);return{c(){h&&h.c(),e=g(),r.c(),i=g(),y&&y.c()},m(t,r){h&&h.m(t,r),f(t,e,r),d[n].m(t,r),f(t,i,r),y&&y.m(t,r),o=!0},p(t,[e]){h&&h.p&&33&e&&h.p(u(s,t,t[5],mt),c(s,t[5],e,vt));let o=n;n=v(t),n===o?d[n].p(t,e):(W(),K(d[o],1,1,()=>{d[o]=null}),z(),r=d[n],r||(r=d[n]=l[n](t),r.c()),H(r,1),r.m(i.parentNode,i)),y&&y.p&&33&e&&y.p(u(m,t,t[5],ht),c(m,t[5],e,ct))},i(t){o||(H(h,t),H(r),H(y,t),o=!0)},o(t){K(h,t),K(r),K(y,t),o=!1},d(t){h&&h.d(t),t&&p(e),d[n].d(t),t&&p(i),y&&y.d(t)}}}function wt(t,e,n){let r,{persist:i=null}=e,o=function(t={persist:null}){const e=ut("auth"),n="sveltefire_user";let r=null;const{persist:i}=t;i&&(r=JSON.parse(t.persist.getItem(n)));const o=st(r,()=>{const r=e.onAuthStateChanged(e=>{a(e),i&&t.persist.setItem(n,JSON.stringify(e))});return()=>r}),{subscribe:s,set:a}=o;return{subscribe:s,auth:e}}({persist:i});!function(t,e,n){t.$$.on_destroy.push(s(e,n))}(t,o,t=>n(0,r=t));const a=C();let u;O(()=>{u=o.subscribe(t=>{a("user",{user:t})})}),D(()=>u());let{$$slots:c={},$$scope:h}=e;return t.$set=t=>{"persist"in t&&n(2,i=t.persist),"$$scope"in t&&n(5,h=t.$$scope)},[r,o,i,u,a,h,c]}class _t extends tt{constructor(t){super(),Z(this,t,wt,bt,o,{persist:2})}}function Et(t){const e=ut("performance").trace(t);return e.start(),e}async function It(t){return 2===t.state&&t.stop(),null}function Tt(t,e){const n=ut("firestore"),{startWith:r,log:i,traceId:o,maxWait:s,once:a}={maxWait:1e4,...e},u="string"==typeof t?n.doc(t):t,c=o&&Et(o);let h,l,f=void 0!==typeof r,p=!0,d=null;const v=(t,e)=>{f=!1,p=!1,l&&clearTimeout(l),d=e||null,y(t),c&&It(c)},m=st(r,()=>(l=s&&setTimeout(()=>f&&v(null,new Error(`Timeout at ${s}. Using fallback slot.`)),s),h=u.onSnapshot(t=>{const e=t.data()||p&&r||null;i&&(console.groupCollapsed("Doc "+t.id),console.log("Path: "+u.path),console.log("Snapshot:",t),console.groupEnd()),v(e),a&&h()},t=>{console.error(t),v(null,t)}),()=>h())),{subscribe:g,set:y}=m;return{subscribe:g,firestore:n,ref:u,get loading(){return f},get error(){return d}}}function kt(t,e,n){const r=ut("firestore"),{startWith:i,log:o,traceId:s,maxWait:a,once:u,idField:c,refField:h}={idField:"id",refField:"ref",maxWait:1e4,...n},l="string"==typeof t?r.collection(t):t,f=e&&e(l),p=s&&Et(s);let d,v,m=void 0!==typeof i,g=null,y={};const b=(t,e)=>{m=!1,v&&clearTimeout(v),g=e||null,y=(t=>t&&t.length?{first:t[0],last:t[t.length-1]}:{})(t),E(t),p&&It(p)},w=st(i,()=>(v=a&&setTimeout(()=>m&&b(null,new Error(`Timeout at ${a}. Using fallback slot.`)),a),d=(f||l).onSnapshot(t=>{const e=t.docs.map(t=>({...t.data(),...c?{[c]:t.id}:null,...h?{[h]:t.ref}:null}));if(o){const n=m?"New Query":"Updated Query";console.groupCollapsed(`${n} ${l.id} | ${e.length} hits`),console.log(""+l.path),console.log("Snapshot: ",t),console.groupEnd()}b(e),u&&d()},t=>{console.error(t),b(null,t)}),()=>d())),{subscribe:_,set:E}=w;return{subscribe:_,firestore:r,ref:l,get loading(){return m},get error(){return g},get meta(){return y}}}const At=t=>({data:2&t,ref:1&t,error:1&t}),Nt=t=>({data:t[1],ref:t[0].ref,error:t[0].error}),St=t=>({data:2&t,ref:1&t,error:1&t}),xt=t=>({data:t[1],ref:t[0].ref,error:t[0].error}),Ot=t=>({data:2&t,ref:1&t,error:1&t}),Dt=t=>({data:t[1],ref:t[0].ref,error:t[0].error}),Ct=t=>({data:2&t,ref:1&t,error:1&t}),Lt=t=>({data:t[1],ref:t[0].ref,error:t[0].error}),Pt=t=>({data:2&t,ref:1&t,error:1&t}),Rt=t=>({data:t[1],ref:t[0].ref,error:t[0].error});function Mt(t){let e;const n=t[12].fallback,r=a(n,t,t[11],xt);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&2051&e&&r.p(u(n,t,t[11],xt),c(n,t[11],e,St))},i(t){e||(H(r,t),e=!0)},o(t){K(r,t),e=!1},d(t){r&&r.d(t)}}}function jt(t){let e;const n=t[12].loading,r=a(n,t,t[11],Dt);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&2051&e&&r.p(u(n,t,t[11],Dt),c(n,t[11],e,Ot))},i(t){e||(H(r,t),e=!0)},o(t){K(r,t),e=!1},d(t){r&&r.d(t)}}}function Ut(t){let e;const n=t[12].default,r=a(n,t,t[11],Lt);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&2051&e&&r.p(u(n,t,t[11],Lt),c(n,t[11],e,Ct))},i(t){e||(H(r,t),e=!0)},o(t){K(r,t),e=!1},d(t){r&&r.d(t)}}}function Vt(t){let e,n,r,i,o;const s=t[12].before,h=a(s,t,t[11],Rt),l=[Ut,jt,Mt],d=[];function v(t,e){return t[1]?0:t[0].loading?1:2}n=v(t),r=d[n]=l[n](t);const m=t[12].after,y=a(m,t,t[11],Nt);return{c(){h&&h.c(),e=g(),r.c(),i=g(),y&&y.c()},m(t,r){h&&h.m(t,r),f(t,e,r),d[n].m(t,r),f(t,i,r),y&&y.m(t,r),o=!0},p(t,[e]){h&&h.p&&2051&e&&h.p(u(s,t,t[11],Rt),c(s,t[11],e,Pt));let o=n;n=v(t),n===o?d[n].p(t,e):(W(),K(d[o],1,1,()=>{d[o]=null}),z(),r=d[n],r||(r=d[n]=l[n](t),r.c()),H(r,1),r.m(i.parentNode,i)),y&&y.p&&2051&e&&y.p(u(m,t,t[11],Nt),c(m,t[11],e,At))},i(t){o||(H(h,t),H(r),H(y,t),o=!0)},o(t){K(h,t),K(r),K(y,t),o=!1},d(t){h&&h.d(t),t&&p(e),d[n].d(t),t&&p(i),y&&y.d(t)}}}function $t(e,n,r){let i,o=t,a=()=>(o(),o=s(v,t=>r(1,i=t)),v);e.$$.on_destroy.push(()=>o());let{path:u}=n,{log:c=!1}=n,{traceId:h=""}=n,{startWith:l}=n,{maxWait:f=1e4}=n,{once:p=!1}=n;const d={startWith:l,traceId:h,log:c,maxWait:f,once:p};let v=Tt(u,d);a();const m=C();let g;O(()=>m("ref",{ref:v.ref})),D(()=>g());let{$$slots:y={},$$scope:b}=n;return e.$set=t=>{"path"in t&&r(2,u=t.path),"log"in t&&r(3,c=t.log),"traceId"in t&&r(4,h=t.traceId),"startWith"in t&&r(5,l=t.startWith),"maxWait"in t&&r(6,f=t.maxWait),"once"in t&&r(7,p=t.once),"$$scope"in t&&r(11,b=t.$$scope)},e.$$.update=()=>{261&e.$$.dirty&&(g&&(g(),a(r(0,v=Tt(u,d))),m("ref",{ref:v.ref})),r(8,g=v.subscribe(t=>{m("data",{data:t})})))},[v,i,u,c,h,l,f,p,g,d,m,b,y]}class Ft extends tt{constructor(t){super(),Z(this,t,$t,Vt,o,{path:2,log:3,traceId:4,startWith:5,maxWait:6,once:7})}}const qt=t=>({data:2&t,ref:1&t,error:1&t,first:1&t,last:1&t}),Bt=t=>({data:t[1],ref:t[0].ref,error:t[0].error,first:t[0].meta.first,last:t[0].meta.last}),Gt=t=>({data:2&t,ref:1&t,error:1&t,first:1&t,last:1&t}),Wt=t=>({data:t[1],ref:t[0].ref,error:t[0].error,first:t[0].meta.first,last:t[0].meta.last}),zt=t=>({data:2&t,ref:1&t,error:1&t,first:1&t,last:1&t}),Ht=t=>({data:t[1],ref:t[0].ref,error:t[0].error,first:t[0].meta.first,last:t[0].meta.last}),Kt=t=>({data:2&t,ref:1&t,error:1&t,first:1&t,last:1&t}),Yt=t=>({data:t[1],ref:t[0].ref,error:t[0].error,first:t[0].meta.first,last:t[0].meta.last}),Xt=t=>({data:2&t,ref:1&t,error:1&t,first:1&t,last:1&t}),Jt=t=>({data:t[1],ref:t[0].ref,error:t[0].error,first:t[0].meta.first,last:t[0].meta.last});function Qt(t){let e;const n=t[13].fallback,r=a(n,t,t[12],Wt);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&4099&e&&r.p(u(n,t,t[12],Wt),c(n,t[12],e,Gt))},i(t){e||(H(r,t),e=!0)},o(t){K(r,t),e=!1},d(t){r&&r.d(t)}}}function Zt(t){let e;const n=t[13].loading,r=a(n,t,t[12],Ht);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&4099&e&&r.p(u(n,t,t[12],Ht),c(n,t[12],e,zt))},i(t){e||(H(r,t),e=!0)},o(t){K(r,t),e=!1},d(t){r&&r.d(t)}}}function te(t){let e;const n=t[13].default,r=a(n,t,t[12],Yt);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&4099&e&&r.p(u(n,t,t[12],Yt),c(n,t[12],e,Kt))},i(t){e||(H(r,t),e=!0)},o(t){K(r,t),e=!1},d(t){r&&r.d(t)}}}function ee(t){let e,n,r,i,o;const s=t[13].before,h=a(s,t,t[12],Jt),l=[te,Zt,Qt],d=[];function v(t,e){return t[1]?0:t[0].loading?1:2}n=v(t),r=d[n]=l[n](t);const m=t[13].after,y=a(m,t,t[12],Bt);return{c(){h&&h.c(),e=g(),r.c(),i=g(),y&&y.c()},m(t,r){h&&h.m(t,r),f(t,e,r),d[n].m(t,r),f(t,i,r),y&&y.m(t,r),o=!0},p(t,[e]){h&&h.p&&4099&e&&h.p(u(s,t,t[12],Jt),c(s,t[12],e,Xt));let o=n;n=v(t),n===o?d[n].p(t,e):(W(),K(d[o],1,1,()=>{d[o]=null}),z(),r=d[n],r||(r=d[n]=l[n](t),r.c()),H(r,1),r.m(i.parentNode,i)),y&&y.p&&4099&e&&y.p(u(m,t,t[12],Bt),c(m,t[12],e,qt))},i(t){o||(H(h,t),H(r),H(y,t),o=!0)},o(t){K(h,t),K(r),K(y,t),o=!1},d(t){h&&h.d(t),t&&p(e),d[n].d(t),t&&p(i),y&&y.d(t)}}}function ne(e,n,r){let i,o=t,a=()=>(o(),o=s(m,t=>r(1,i=t)),m);e.$$.on_destroy.push(()=>o());let{path:u}=n,{query:c=null}=n,{traceId:h=""}=n,{log:l=!1}=n,{startWith:f}=n,{maxWait:p=1e4}=n,{once:d=!1}=n;const v={startWith:f,traceId:h,log:l,maxWait:p,once:d};let m=kt(u,c,v);a();const g=C();let y;O(()=>g("ref",{ref:m.ref})),D(()=>y());let{$$slots:b={},$$scope:w}=n;return e.$set=t=>{"path"in t&&r(2,u=t.path),"query"in t&&r(3,c=t.query),"traceId"in t&&r(4,h=t.traceId),"log"in t&&r(5,l=t.log),"startWith"in t&&r(6,f=t.startWith),"maxWait"in t&&r(7,p=t.maxWait),"once"in t&&r(8,d=t.once),"$$scope"in t&&r(12,w=t.$$scope)},e.$$.update=()=>{525&e.$$.dirty&&(y&&(y(),a(r(0,m=kt(u,c,v))),g("ref",{ref:m.ref})),r(9,y=m.subscribe(t=>{g("data",{data:t})})))},[m,i,u,c,h,l,f,p,d,y,v,g,w,b]}class re extends tt{constructor(t){super(),Z(this,t,ne,ee,o,{path:2,query:3,traceId:4,log:5,startWith:6,maxWait:7,once:8})}}var ie="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function oe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function se(t,e){return t(e={exports:{}},e.exports),e.exports}var ae=se((function(t){
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
var e,n,r,i,o,s,a,u,c,h,l,f,p,d,v,m,g,y,b,w,_,E;!function(I){var T,k,A="object"==typeof ie?ie:"object"==typeof self?self:"object"==typeof this?this:{};function N(t,e){return t!==A&&("function"==typeof Object.create?Object.defineProperty(t,"__esModule",{value:!0}):t.__esModule=!0),function(n,r){return t[n]=e?e(n,r):r}}T=N(A,N(t.exports)),k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},e=function(t,e){function n(){this.constructor=t}k(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},i=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},o=function(t,e){return function(n,r){e(n,r,t)}},s=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))},u=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},c=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},h=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},f=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t},p=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},d=function(t){return this instanceof d?(this.v=t,this):new d(t)},v=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof d?Promise.resolve(n.value.v).then(u,c):h(o[0][2],n)}catch(t){h(o[0][3],t)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function h(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}},m=function(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:d(t[r](e)),done:"return"===r}:i?i(e):e}:i}},g=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=h(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}},y=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},b=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},w=function(t){return t&&t.__esModule?t:{default:t}},_=function(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)},E=function(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n},T("__extends",e),T("__assign",n),T("__rest",r),T("__decorate",i),T("__param",o),T("__metadata",s),T("__awaiter",a),T("__generator",u),T("__exportStar",c),T("__values",h),T("__read",l),T("__spread",f),T("__spreadArrays",p),T("__await",d),T("__asyncGenerator",v),T("__asyncDelegator",m),T("__asyncValues",g),T("__makeTemplateObject",y),T("__importStar",b),T("__importDefault",w),T("__classPrivateFieldGet",_),T("__classPrivateFieldSet",E)}()}));oe(ae);var ue=se((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var n={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},r=function(t,e){if(!t)throw i(e)},i=function(t){return new Error("Firebase Database ("+n.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},o=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(f=64)),r.push(n[h],n[l],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var h=s<<4&240|a>>2;if(r.push(h),64!==u){var l=a<<6&192|u;r.push(l)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},a=function(t){try{return s.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=u(t[n],e[n]));return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var l=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,f.prototype.create),i}return ae.__extends(e,t),e}(Error),f=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?p(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new l(i,a),c=0,h=Object.keys(r);c<h.length;c++){var f=h[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},t}();function p(t,e){return t.replace(d,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var d=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function v(t){return JSON.parse(t)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var m=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=v(a(o[0])||""),n=v(a(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var g=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=h^u&(c^h),s=1518500249):(o=u^c^h,s=1859775393):r<60?(o=u&c|h&(u|c),s=2400959708):(o=u^c^h,s=3395469782);i=(a<<5|a>>>27)+o+l+s+n[r]&4294967295;l=h,h=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();var y=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=b),void 0===r.error&&(r.error=b),void 0===r.complete&&(r.complete=b);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function b(){}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function w(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}e.CONSTANTS=n,e.Deferred=c,e.ErrorFactory=f,e.FirebaseError=l,e.Sha1=g,e.assert=r,e.assertionError=i,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=s,e.base64Decode=a,e.base64Encode=function(t){var e=o(t);return s.encodeByteArray(e,!0)},e.contains=
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new y(t,e);return n.subscribe.bind(n)},e.decode=m,e.deepCopy=
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t){return u(void 0,t)},e.deepExtend=u,e.errorPrefix=w,e.getUA=h,e.isAdmin=function(t){var e=m(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return h().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(ie.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===n.NODE_CLIENT||!0===n.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return h().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=m(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=m(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=m(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */,e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=55296&&o<=56319){var s=o-55296;i++,r(i<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(i)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(w(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(w(t,e,r)+"must be a valid context object.")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */,e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(w(t,e,r)+"must be a valid firebase namespace.")}}));oe(ue);ue.CONSTANTS,ue.Deferred,ue.ErrorFactory,ue.FirebaseError,ue.Sha1,ue.assert,ue.assertionError,ue.async,ue.base64,ue.base64Decode,ue.base64Encode,ue.contains,ue.createSubscribe,ue.decode,ue.deepCopy,ue.deepExtend,ue.errorPrefix,ue.getUA,ue.isAdmin,ue.isBrowser,ue.isBrowserExtension,ue.isElectron,ue.isEmpty,ue.isIE,ue.isMobileCordova,ue.isNode,ue.isNodeSdk,ue.isReactNative,ue.isUWP,ue.isValidFormat,ue.isValidTimestamp,ue.issuedAtTime,ue.jsonEval,ue.map,ue.querystring,ue.querystringDecode,ue.safeGet,ue.stringLength,ue.stringToByteArray,ue.stringify,ue.validateArgCount,ue.validateCallback,ue.validateContextObject,ue.validateNamespace;var ce=se((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),r=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new ue.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=ae.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var r=ae.__values(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=ae.__read(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return ae.__awaiter(this,void 0,void 0,(function(){var t;return ae.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var i=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new r(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=n,e.ComponentContainer=i,e.Provider=r}));oe(ce);ce.Component,ce.ComponentContainer,ce.Provider;var he=se((function(t,e){
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
function n(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var r;Object.defineProperty(e,"__esModule",{value:!0});var i,o=[];(i=e.LogLevel||(e.LogLevel={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";var s={debug:e.LogLevel.DEBUG,verbose:e.LogLevel.VERBOSE,info:e.LogLevel.INFO,warn:e.LogLevel.WARN,error:e.LogLevel.ERROR,silent:e.LogLevel.SILENT},a=e.LogLevel.INFO,u=((r={})[e.LogLevel.DEBUG]="log",r[e.LogLevel.VERBOSE]="log",r[e.LogLevel.INFO]="info",r[e.LogLevel.WARN]="warn",r[e.LogLevel.ERROR]="error",r),c=function(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=u[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,n(["["+o+"]  "+t.name+":"],r))}},h=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=c,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in e.LogLevel))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,n([this,e.LogLevel.DEBUG],t)),this._logHandler.apply(this,n([this,e.LogLevel.DEBUG],t))},t.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,n([this,e.LogLevel.VERBOSE],t)),this._logHandler.apply(this,n([this,e.LogLevel.VERBOSE],t))},t.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,n([this,e.LogLevel.INFO],t)),this._logHandler.apply(this,n([this,e.LogLevel.INFO],t))},t.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,n([this,e.LogLevel.WARN],t)),this._logHandler.apply(this,n([this,e.LogLevel.WARN],t))},t.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._userLogHandler&&this._userLogHandler.apply(this,n([this,e.LogLevel.ERROR],t)),this._logHandler.apply(this,n([this,e.LogLevel.ERROR],t))},t}();e.Logger=h,e.setLogLevel=function(t){var e="string"==typeof t?s[t]:t;o.forEach((function(t){t.logLevel=e}))},e.setUserLogHandler=function(t,n){for(var r=function(r){var i=null;n&&n.level&&(i=s[n.level]),r.userLogHandler=null===t?null:function(n,r){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var a=o.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");r>=(null!=i?i:n.logLevel)&&t({level:e.LogLevel[r].toLowerCase(),message:a,args:o,type:n.name})}},i=0,a=o;i<a.length;i++){r(a[i])}}}));oe(he);he.LogLevel,he.Logger,he.setLogLevel,he.setUserLogHandler;var le=se((function(t,e){
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var n;Object.defineProperty(e,"__esModule",{value:!0});var r,i=((n={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",n["bad-app-name"]="Illegal App name: '{$appName}",n["duplicate-app"]="Firebase App named '{$appName}' already exists",n["app-deleted"]="Firebase App named '{$appName}' already deleted",n["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",n["invalid-log-argument"]="First argument to `onLog` must be null or a function.",n),o=new ue.ErrorFactory("app","Firebase",i),s=((r={})["@firebase/app"]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),a=new he.Logger("@firebase/app"),u=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=ue.deepCopy(t),this.container=new ce.ComponentContainer(e.name),this._addComponent(new ce.Component("app",(function(){return o}),"PUBLIC"));try{for(var s=ae.__values(this.firebase_.INTERNAL.components.values()),a=s.next();!a.done;a=s.next()){var u=a.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){a.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw o.create("app-deleted",{appName:this.name_})},t}();u.prototype.name&&u.prototype.options||u.prototype.delete||console.log("dc");var c=
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function t(){var e=
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw o.create("bad-app-name",{appName:String(a)});if(ue.contains(e,a))throw o.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=s[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){var h=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&h.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&c&&h.push("and"),c&&h.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void a.warn(h.join(" "))}u(new ce.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:he.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw o.create("invalid-log-argument",{appName:name});he.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.14.5",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(t=t||"[DEFAULT]",!ue.contains(e,t))throw o.create("no-app",{appName:t});return e[t]}function u(s){var u,c,h=s.name;if(n.has(h))return a.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var l=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw o.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&ue.deepExtend(l,s.serviceProps),r[h]=l,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?t:[])}}try{for(var f=ae.__values(Object.keys(e)),p=f.next();!p.done;p=f.next()){var d=p.value;e[d]._addComponent(s)}}catch(t){u={error:t}}finally{try{p&&!p.done&&(c=f.return)&&c.call(f)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(u);return e.INTERNAL=ae.__assign(ae.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){ue.deepExtend(e,t)},createSubscribe:ue.createSubscribe,ErrorFactory:ue.ErrorFactory,deepExtend:ue.deepExtend}),e}(),h=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
if(ue.isBrowser()&&void 0!==self.firebase){a.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var l=self.firebase.SDK_VERSION;l&&l.indexOf("LITE")>=0&&a.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var f=c.initializeApp;c.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ue.isNode()&&a.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),f.apply(void 0,t)};var p=c;!function(t,e){t.INTERNAL.registerComponent(new ce.Component("platform-logger",(function(t){return new h(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.4",e),t.registerVersion("fire-js","")}(p),e.default=p,e.firebase=p}));oe(le);le.firebase;var fe,pe=(fe=le)&&"object"==typeof fe&&"default"in fe?fe.default:fe;
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
pe.registerVersion("firebase","7.14.6","app");var de=pe,ve=se((function(t,e){
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
function n(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.defineProperty(e,"__esModule",{value:!0});var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==ie?ie:"undefined"!=typeof self?self:{};var i=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){(function(){var e,r=r||{},i=this||self;function o(){}function s(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function a(t){var e=s(t);return"array"==e||"object"==e&&"number"==typeof t.length}function u(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var c="closure_uid_"+(1e9*Math.random()>>>0),h=0;function l(t,e,n){return t.call.apply(t.bind,arguments)}function f(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function p(t,e,n){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?l:f).apply(null,arguments)}function d(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var v=Date.now||function(){return+new Date};function m(t,e){function n(){}n.prototype=e.prototype,t.M=e.prototype,t.prototype=new n,t.prototype.constructor=t}function g(){this.j=this.j,this.i=this.i}g.prototype.j=!1,g.prototype.da=function(){if(!this.j&&(this.j=!0,this.C(),0))(function(t){Object.prototype.hasOwnProperty.call(t,c)&&t[c]||(t[c]=++h)})(this)},g.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var y=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},b=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function w(t){return Array.prototype.concat.apply([],arguments)}function _(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function E(t){return/^[\s\xa0]*$/.test(t)}var I,T=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function k(t,e){return-1!=t.indexOf(e)}function A(t,e){return t<e?-1:t>e?1:0}t:{var N=i.navigator;if(N){var S=N.userAgent;if(S){I=S;break t}}I=""}function x(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function O(t){var e={};for(var n in t)e[n]=t[n];return e}var D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<D.length;o++)n=D[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function L(t){return L[" "](t),t}L[" "]=o;var P,R,M=k(I,"Opera"),j=k(I,"Trident")||k(I,"MSIE"),U=k(I,"Edge"),V=U||j,$=k(I,"Gecko")&&!(k(I.toLowerCase(),"webkit")&&!k(I,"Edge"))&&!(k(I,"Trident")||k(I,"MSIE"))&&!k(I,"Edge"),F=k(I.toLowerCase(),"webkit")&&!k(I,"Edge");function q(){var t=i.document;return t?t.documentMode:void 0}t:{var B="",G=(R=I,$?/rv:([^\);]+)(\)|;)/.exec(R):U?/Edge\/([\d\.]+)/.exec(R):j?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(R):F?/WebKit\/(\S+)/.exec(R):M?/(?:Version)[ \/]?(\S+)/.exec(R):void 0);if(G&&(B=G?G[1]:""),j){var W=q();if(null!=W&&W>parseFloat(B)){P=String(W);break t}}P=B}var z,H={};function K(t){return function(t,e){var n=H;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=T(String(P)).split("."),r=T(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=A(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||A(0==s[2].length,0==a[2].length)||A(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(i.document&&j){var Y=q();z=Y||(parseInt(P,10)||void 0)}else z=void 0;var X=z,J=!j||9<=Number(X),Q=j&&!K("9"),Z=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{i.addEventListener("test",o,e),i.removeEventListener("test",o,e)}catch(t){}return t}();function tt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function et(t,e){if(tt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if($){t:{try{L(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:nt[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}tt.prototype.b=function(){this.defaultPrevented=!0},m(et,tt);var nt={2:"touch",3:"pen",4:"mouse"};et.prototype.b=function(){et.M.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Q)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var rt="closure_listenable_"+(1e6*Math.random()|0),it=0;function ot(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.aa=i,this.key=++it,this.V=this.X=!1}function st(t){t.V=!0,t.listener=null,t.proxy=null,t.src=null,t.aa=null}function at(t){this.src=t,this.a={},this.b=0}function ut(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=y(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(st(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ct(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.V&&o.listener==e&&o.capture==!!n&&o.aa==r)return i}return-1}at.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ct(t,e,r,i);return-1<s?(e=t[s],n||(e.X=!1)):((e=new ot(e,this.src,o,!!r,i)).X=n,t.push(e)),e};var ht="closure_lm_"+(1e6*Math.random()|0),lt={};function ft(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=wt(r),e&&e[rt]?e.sa(n,r,u(i)?!!i.capture:!!i,o):pt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ft(t,e[o],n,r,i);return null}return n=wt(n),t&&t[rt]?t.ra(e,n,u(r)?!!r.capture:!!r,i):pt(t,e,n,!1,r,i)}function pt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=u(i)?!!i.capture:!!i;if(s&&!J)return null;var a=yt(t);if(a||(t[ht]=a=new at(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=gt,e=J?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Z||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function dt(t){if("number"!=typeof t&&t&&!t.V){var e=t.src;if(e&&e[rt])ut(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yt(e))?(ut(n,t),0==n.b&&(n.src=null,e[ht]=null)):st(t)}}}function vt(t){return t in lt?lt[t]:lt[t]="on"+t}function mt(t,e){var n=t.listener,r=t.aa||t.src;return t.X&&dt(t),n.call(r,e)}function gt(t,e){if(t.V)return!0;if(!J){if(!e)t:{e=["window","event"];for(var n=i,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return mt(t,e=new et(e,this))}return mt(t,new et(e,this))}function yt(t){return(t=t[ht])instanceof at?t:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function wt(t){return"function"==s(t)?t:(t[bt]||(t[bt]=function(e){return t.handleEvent(e)}),t[bt])}function _t(){g.call(this),this.c=new at(this),this.J=this,this.A=null}function Et(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.V&&s.capture==n){var a=s.listener,u=s.aa||s.src;s.X&&ut(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}m(_t,g),_t.prototype[rt]=!0,(e=_t.prototype).addEventListener=function(t,e,n,r){ft(this,t,e,n,r)},e.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=u(i)?!!i.capture:!!i,r=wt(r),e&&e[rt]?(e=e.c,(n=String(n).toString())in e.a&&(-1<(r=ct(s=e.a[n],r,i,o))&&(st(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--)))):e&&(e=yt(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ct(n,r,i,o)),(r=-1<e?n[e]:null)&&dt(r))}(this,t,e,n,r)},e.dispatchEvent=function(t){var e,n=this.A;if(n)for(e=[];n;n=n.A)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new tt(t,n);else if(t instanceof tt)t.target=t.target||n;else{var i=t;C(t=new tt(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=Et(s,r,!0,t)&&i}if(i=Et(s=t.a=n,r,!0,t)&&i,i=Et(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Et(s=t.a=e[o],r,!1,t)&&i;return i},e.C=function(){if(_t.M.C.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)st(n[r]);delete e.a[t],e.b--}}this.A=null},e.ra=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},e.sa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var It=i.JSON.stringify;function Tt(){this.b=this.a=null}var kt,At=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new St}),(function(t){t.reset()}),100);function Nt(){var t=Ct,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function St(){this.next=this.b=this.a=null}function xt(t){i.setTimeout((function(){throw t}),0)}function Ot(t,e){kt||function(){var t=i.Promise.resolve(void 0);kt=function(){t.then(Lt)}}(),Dt||(kt(),Dt=!0),Ct.add(t,e)}Tt.prototype.add=function(t,e){var n=At.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},St.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},St.prototype.reset=function(){this.next=this.b=this.a=null};var Dt=!1,Ct=new Tt;function Lt(){for(var t;t=Nt();){try{t.a.call(t.b)}catch(t){xt(t)}var e=At;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Dt=!1}function Pt(t,e){_t.call(this),this.b=t||1,this.a=e||i,this.f=p(this.Ua,this),this.g=v()}function Rt(t){t.Z=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Mt(t,e,n){if("function"==s(t))n&&(t=p(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=p(t.handleEvent,t)}return 2147483647<Number(e)?-1:i.setTimeout(t,e||0)}function jt(t,e,n){g.call(this),this.f=null!=n?p(t,n):t,this.c=e,this.b=p(this.Pa,this),this.a=[]}function Ut(t){t.T=Mt(t.b,t.c),t.f.apply(null,t.a)}function Vt(t){g.call(this),this.b=t,this.a={}}m(Pt,_t),(e=Pt.prototype).Z=!1,e.L=null,e.Ua=function(){if(this.Z){var t=v()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(Rt(this),this.start()))}},e.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=v())},e.C=function(){Pt.M.C.call(this),Rt(this),delete this.a},m(jt,g),(e=jt.prototype).ba=!1,e.T=null,e.Ia=function(t){this.a=arguments,this.T?this.ba=!0:Ut(this)},e.C=function(){jt.M.C.call(this),this.T&&(i.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},e.Pa=function(){this.T=null,this.ba&&(this.ba=!1,Ut(this))},m(Vt,g);var $t=[];function Ft(t,e,n,r){Array.isArray(n)||(n&&($t[0]=n.toString()),n=$t);for(var i=0;i<n.length;i++){var o=ft(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function qt(t){x(t.a,(function(t,e){this.a.hasOwnProperty(e)&&dt(t)}),t),t.a={}}function Bt(){}Vt.prototype.C=function(){Vt.M.C.call(this),qt(this)},Vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gt=null;function Wt(){return Gt=Gt||new _t}function zt(t){tt.call(this,"serverreachability",t)}function Ht(t){var e=Wt();e.dispatchEvent(new zt(e,t))}function Kt(t){tt.call(this,"statevent",t)}function Yt(t){var e=Wt();e.dispatchEvent(new Kt(e,t))}function Xt(t){tt.call(this,"timingevent",t)}function Jt(t,e){if("function"!=s(t))throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){t()}),e)}m(zt,tt),m(Kt,tt),m(Xt,tt);var Qt={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},Zt={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};function te(){}function ee(t){var e;return(e=t.a)||(e=t.a={}),e}function ne(){}te.prototype.a=null;var re,ie={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};function oe(){tt.call(this,"d")}function se(){tt.call(this,"c")}function ae(){}function ue(t,e,n){this.g=t,this.W=e,this.U=n||1,this.G=new Vt(this),this.N=ce,t=V?125:void 0,this.O=new Pt(t),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}m(oe,tt),m(se,tt),m(ae,te),re=new ae;var ce=45e3,he={},le={};function fe(t,e,n){t.B=1,t.f=Pe(Se(e)),t.j=n,t.F=!0,pe(t,null)}function pe(t,e){t.s=v(),me(t),t.A=Se(t.f);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),He(n.b,"t",r),t.w=0,t.a=Vn(t.g,t.g.w?e:null),0<t.J&&(t.D=new jt(p(t.ya,t,t.a),t.J)),Ft(t.G,t.a,"readystatechange",t.Sa),e=t.m?O(t.m):{},t.j?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.$(t.A,t.v,t.j,e)):(t.v="GET",t.a.$(t.A,t.v,null,e)),Ht(1)}function de(t,e,n){for(var r=!0;!t.l&&t.w<n.length;){var i=ve(t,n);if(i==le){4==e&&(t.c=4,Yt(14),r=!1);break}if(i==he){t.c=4,Yt(15),r=!1;break}_e(t,i)}4==e&&0==n.length&&(t.c=1,Yt(16),r=!1),t.b=t.b&&r,r||(we(t),be(t))}function ve(t,e){var n=t.w,r=e.indexOf("\n",n);return-1==r?le:(n=Number(e.substring(n,r)),isNaN(n)?he:(r+=1)+n>e.length?le:(e=e.substr(r,n),t.w=r+n,e))}function me(t){t.P=v()+t.N,ge(t,t.N)}function ge(t,e){if(null!=t.h)throw Error("WatchDog timer not null");t.h=Jt(p(t.Qa,t),e)}function ye(t){t.h&&(i.clearTimeout(t.h),t.h=null)}function be(t){0==t.g.u||t.l||Pn(t.g,t)}function we(t){ye(t);var e=t.D;e&&"function"==typeof e.da&&e.da(),t.D=null,Rt(t.O),qt(t.G),t.a&&(e=t.a,t.a=null,e.abort(),e.da())}function _e(t,e){try{var n=t.g;if(0!=n.u&&(n.a==t||tn(n.b,t)))if(n.A=t.H,!t.o&&tn(n.b,t)&&3==n.u){try{var r=n.ja.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.i){if(n.a){if(!(n.a.s+3e3<t.s))break t;Ln(n),n.a.cancel(),n.a=null}Cn(n),Yt(18)}}else n.ia=i[1],0<n.ia-n.G&&37500>i[2]&&n.U&&0==n.m&&!n.l&&(n.l=Jt(p(n.Na,n),6e3));if(1>=Ze(n.b)&&n.O){try{n.O()}catch(t){}n.O=void 0}}else Mn(n,11)}else if((t.o||n.a==t)&&Ln(n),!E(e))for(e=r=n.ja.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.G=i[0],i=i[1],2==n.u)if("c"==i[0]){n.B=i[1],n.R=i[2];var o=i[3];null!=o&&(n.oa=o);var s=i[5];null!=s&&"number"==typeof s&&0<s&&(n.D=1.5*s);var a=n,u=t.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=a.b;!h.a&&(k(c,"spdy")||k(c,"quic")||k(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(en(h,h.b),h.b=null))}if(a.s){var l=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;l&&(a.ha=l,Le(a.v,a.s,l))}}n.u=3,n.c&&n.c.na();var f=t;if((a=n).ea=Un(a,a.w?a.R:null,a.P),f.o){nn(a.b,f);var d=f,v=a.D;v&&d.setTimeout(v),d.h&&(ye(d),me(d)),a.a=f}else Dn(a);0<n.f.length&&Nn(n)}else"stop"!=i[0]&&"close"!=i[0]||Mn(n,7);else 3==n.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Mn(n,7):Tn(n):"noop"!=i[0]&&n.c&&n.c.ma(i),n.m=0);Ht(4)}catch(t){}}function Ee(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(a(t)||"string"==typeof t)b(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.I&&"function"==typeof t.I)n=void 0;else if(a(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.I&&"function"==typeof t.I)return t.I();if("string"==typeof t)return t.split("");if(a(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ie(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ie)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Te(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ke(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ke(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ke(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(e=ue.prototype).setTimeout=function(t){this.N=t},e.Sa=function(t){t=t.target;var e=this.D;e&&3==wn(t)?e.Ia():this.ya(t)},e.ya=function(t){try{if(t==this.a)t:{var e=wn(this.a),n=this.a.qa(),r=this.a.S();if(!(3>e||3==e&&!V&&!this.a.Y())){this.l||4!=e||7==n||Ht(8==n||0>=r?3:2),ye(this);var i=this.a.S();this.H=i;var o=this.a.Y();if(this.b=200==i){if(this.R&&!this.o){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.c=3,Yt(12),we(this),be(this);break t}this.o=!0,_e(this,u)}this.F?(de(this,e,o),V&&this.b&&3==e&&(Ft(this.G,this.O,"tick",this.Ra),this.O.start())):_e(this,o),4==e&&we(this),this.b&&!this.l&&(4==e?Pn(this.g,this):(this.b=!1,me(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Yt(12)):(this.c=0,Yt(13)),we(this),be(this)}}}catch(t){}},e.Ra=function(){if(this.a){var t=wn(this.a),e=this.a.Y();this.w<e.length&&(ye(this),de(this,t,e),this.b&&4!=t&&me(this))}},e.cancel=function(){this.l=!0,we(this)},e.Qa=function(){this.h=null;var t=v();0<=t-this.P?(2!=this.B&&(Ht(3),Yt(17)),we(this),this.c=2,be(this)):ge(this,this.P-t)},(e=Ie.prototype).I=function(){Te(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},e.K=function(){return Te(this),this.a.concat()},e.get=function(t,e){return ke(this.b,t)?this.b[t]:e},e.set=function(t,e){ke(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},e.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ae=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ne(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ne){this.a=void 0!==e?e:t.a,xe(this,t.f),this.j=t.j,Oe(this,t.c),De(this,t.h),this.g=t.g,e=t.b;var n=new Be;n.c=e.c,e.a&&(n.a=new Ie(e.a),n.b=e.b),Ce(this,n),this.i=t.i}else t&&(n=String(t).match(Ae))?(this.a=!!e,xe(this,n[1]||"",!0),this.j=Re(n[2]||""),Oe(this,n[3]||"",!0),De(this,n[4]),this.g=Re(n[5]||"",!0),Ce(this,n[6]||"",!0),this.i=Re(n[7]||"")):(this.a=!!e,this.b=new Be(null,this.a))}function Se(t){return new Ne(t)}function xe(t,e,n){t.f=n?Re(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Oe(t,e,n){t.c=n?Re(e,!0):e}function De(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ce(t,e,n){e instanceof Be?(t.b=e,function(t,e){e&&!t.f&&(Ge(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(We(this,e),He(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Me(e,Fe)),t.b=new Be(e,t.a))}function Le(t,e,n){t.b.set(e,n)}function Pe(t){return Le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^v()).toString(36)),t}function Re(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Me(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,je),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function je(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ne.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Me(e,Ue,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Me(e,Ue,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Me(n,"/"==n.charAt(0)?$e:Ve,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Me(n,qe)),t.join("")};var Ue=/[#\/\?@]/g,Ve=/[#\?:]/g,$e=/[#\?]/g,Fe=/[#\?@]/g,qe=/#/g;function Be(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ge(t){t.a||(t.a=new Ie,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function We(t,e){Ge(t),e=Ke(t,e),ke(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ke((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Te(t)))}function ze(t,e){return Ge(t),e=Ke(t,e),ke(t.a.b,e)}function He(t,e,n){We(t,e),0<n.length&&(t.c=null,t.a.set(Ke(t,e),_(n)),t.b+=n.length)}function Ke(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ye(t,e){this.b=t,this.a=e}function Xe(t){this.g=t||Je,i.PerformanceNavigationTiming?t=0<(t=i.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(i.ca&&i.ca.ua&&i.ca.ua()&&i.ca.ua().mb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(e=Be.prototype).add=function(t,e){Ge(this),this.c=null,t=Ke(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},e.forEach=function(t,e){Ge(this),this.a.forEach((function(n,r){b(n,(function(n){t.call(e,n,r,this)}),this)}),this)},e.K=function(){Ge(this);for(var t=this.a.I(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},e.I=function(t){Ge(this);var e=[];if("string"==typeof t)ze(this,t)&&(e=w(e,this.a.get(Ke(this,t))));else{t=this.a.I();for(var n=0;n<t.length;n++)e=w(e,t[n])}return e},e.set=function(t,e){return Ge(this),this.c=null,ze(this,t=Ke(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},e.get=function(t,e){return t&&0<(t=this.I(t)).length?String(t[0]):e},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.I(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Je=10;function Qe(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ze(t){return t.b?1:t.a?t.a.size:0}function tn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function en(t,e){t.a?t.a.add(e):t.b=e}function nn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function rn(t){var e,r;if(null!=t.b)return t.c.concat(t.b.i);if(null!=t.a&&0!==t.a.size){var i=t.c;try{for(var o=n(t.a.values()),s=o.next();!s.done;s=o.next()){var a=s.value;i=i.concat(a.i)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return i}return _(t.c)}function on(){}function sn(){this.a=new on}function an(t,e,n){var r=n||"";try{Ee(t,(function(t,n){var i=t;u(t)&&(i=It(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function un(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Xe.prototype.cancel=function(){var t,e;if(this.c=rn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var r=n(this.a.values()),i=r.next();!i.done;i=r.next()){i.value.cancel()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.a.clear()}},on.prototype.stringify=function(t){return i.JSON.stringify(t,void 0)},on.prototype.parse=function(t){return i.JSON.parse(t,void 0)};var cn=i.JSON.parse;function hn(t){_t.call(this),this.headers=new Ie,this.G=t||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=ln,this.B=this.F=!1}m(hn,_t);var ln="",fn=/^https?$/i,pn=["POST","PUT"];function dn(t){return"content-type"==t.toLowerCase()}function vn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,mn(t),yn(t)}function mn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function gn(t){if(t.b&&void 0!==r&&(!t.s[1]||4!=wn(t)||2!=t.S()))if(t.l&&4==wn(t))Mt(t.va,0,t);else if(t.dispatchEvent("readystatechange"),4==wn(t)){t.b=!1;try{var e,n=t.S();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break t;default:o=!1}if(!(e=o)){var s;if(s=0===n){var a=String(t.D).match(Ae)[1]||null;if(!a&&i.self&&i.self.location){var u=i.self.location.protocol;a=u.substr(0,u.length-1)}s=!fn.test(a?a.toLowerCase():"")}e=s}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<wn(t)?t.a.statusText:""}catch(t){c=""}t.f=c+" ["+t.S()+"]",mn(t)}}finally{yn(t)}}}function yn(t,e){if(t.a){bn(t);var n=t.a,r=t.s[0]?o:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function bn(t){t.a&&t.B&&(t.a.ontimeout=null),t.m&&(i.clearTimeout(t.m),t.m=null)}function wn(t){return t.a?t.a.readyState:0}function _n(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return x(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Le(t,e,n))}function En(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function In(t){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=En("failFast",!1,t),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=En("baseRetryDelayMs",5e3,t),this.Ga=En("retryDelaySeedMs",1e4,t),this.Da=En("forwardChannelMaxRetries",2,t),this.ga=En("forwardChannelRequestTimeoutMs",2e4,t),this.Ea=t&&t.nb||void 0,this.D=void 0,this.w=t&&t.supportsCrossDomainXhr||!1,this.B="",this.b=new Xe(t&&t.concurrentRequestLimit),this.ja=new sn,this.fa=t&&t.fastHandshake||!1,t&&t.forceLongPolling&&(this.W=!1),this.O=void 0}function Tn(t){if(kn(t),3==t.u){var e=t.H++,n=Se(t.v);Le(n,"SID",t.B),Le(n,"RID",e),Le(n,"TYPE","terminate"),xn(t,n),(e=new ue(t,e,void 0)).B=2,e.f=Pe(Se(n)),n=!1,i.navigator&&i.navigator.sendBeacon&&(n=i.navigator.sendBeacon(e.f.toString(),"")),!n&&i.Image&&((new Image).src=e.f,n=!0),n||(e.a=Vn(e.g,null),e.a.$(e.f)),e.s=v(),me(e)}jn(t)}function kn(t){t.a&&(t.a.cancel(),t.a=null),t.i&&(i.clearTimeout(t.i),t.i=null),Ln(t),t.b.cancel(),t.g&&("number"==typeof t.g&&i.clearTimeout(t.g),t.g=null)}function An(t,e){t.f.push(new Ye(t.Fa++,e)),3==t.u&&Nn(t)}function Nn(t){Qe(t.b)||t.g||(t.g=!0,Ot(t.xa,t),t.o=0)}function Sn(t,e){var n;n=e?e.W:t.H++;var r=Se(t.v);Le(r,"SID",t.B),Le(r,"RID",n),Le(r,"AID",t.G),xn(t,r),t.h&&t.j&&_n(r,t.h,t.j),n=new ue(t,n,t.o+1),null===t.h&&(n.m=t.j),e&&(t.f=e.i.concat(t.f)),e=On(t,n,1e3),n.setTimeout(Math.round(.5*t.ga)+Math.round(.5*t.ga*Math.random())),en(t.b,n),fe(n,r,e)}function xn(t,e){t.c&&Ee({},(function(t,n){Le(e,n,t)}))}function On(t,e,n){n=Math.min(t.f.length,n);var r=t.c?p(t.c.Ha,t.c,t):null;t:for(var i=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{an(h,s,"req"+c+"_")}catch(t){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.f.splice(0,n),e.i=t,r}function Dn(t){t.a||t.i||(t.J=1,Ot(t.wa,t),t.m=0)}function Cn(t){return!(t.a||t.i||3<=t.m)&&(t.J++,t.i=Jt(p(t.wa,t),Rn(t,t.m)),t.m++,!0)}function Ln(t){null!=t.l&&(i.clearTimeout(t.l),t.l=null)}function Pn(t,e){var n=null;if(t.a==e){Ln(t),t.a=null;var r=2}else{if(!tn(t.b,e))return;n=e.i,nn(t.b,e),r=1}if(t.A=e.H,0!=t.u)if(e.b)if(1==r){n=e.j?e.j.length:0,e=v()-e.s;var i=t.o;(r=Wt()).dispatchEvent(new Xt(r,n,e,i)),Nn(t)}else Dn(t);else if(3==(i=e.c)||0==i&&0<t.A||!(1==r&&function(t,e){return!(Ze(t.b)>=t.b.f-(t.g?1:0))&&(t.g?(t.f=e.i.concat(t.f),!0):!(1==t.u||2==t.u||t.o>=(t.Ca?0:t.Da))&&(t.g=Jt(p(t.xa,t,e),Rn(t,t.o)),t.o++,!0))}(t,e)||2==r&&Cn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Mn(t,5);break;case 4:Mn(t,10);break;case 3:Mn(t,6);break;default:Mn(t,2)}}function Rn(t,e){var n=t.Ba+Math.floor(Math.random()*t.Ga);return t.c||(n*=2),n*e}function Mn(t,e){if(2==e){var n=null;t.c&&(n=null);var r=p(t.Ta,t);n||(n=new Ne("//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||xe(n,"https"),Pe(n)),function(t,e){var n=new Bt;if(i.Image){var r=new Image;r.onload=d(un,n,r,"TestLoadImage: loaded",!0,e),r.onerror=d(un,n,r,"TestLoadImage: error",!1,e),r.onabort=d(un,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=d(un,n,r,"TestLoadImage: timeout",!1,e),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Yt(2);t.u=0,t.c&&t.c.la(e),jn(t),kn(t)}function jn(t){t.u=0,t.A=-1,t.c&&(0==rn(t.b).length&&0==t.f.length||(t.b.c.length=0,_(t.f),t.f.length=0),t.c.ka())}function Un(t,e,n){var r=function(t){return t instanceof Ne?Se(t):new Ne(t,void 0)}(n);if(""!=r.c)e&&Oe(r,e+"."+r.c),De(r,r.h);else{var o=i.location;r=function(t,e,n,r){var i=new Ne(null,void 0);return t&&xe(i,t),e&&Oe(i,e),n&&De(i,n),r&&(i.g=r),i}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,n)}return t.N&&x(t.N,(function(t,e){Le(r,e,t)})),e=t.s,n=t.ha,e&&n&&Le(r,e,n),Le(r,"VER",t.oa),xn(t,r),r}function Vn(t,e){if(e&&!t.w)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new hn(t.Ea)).F=t.w,e}function $n(){}function Fn(){if(j&&!(10<=Number(X)))throw Error("Environmental error: no available transport.")}function qn(t,e){_t.call(this),this.a=new In(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.j=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.pa&&(t?t["X-WebChannel-Client-Profile"]=e.pa:t={"X-WebChannel-Client-Profile":e.pa}),this.a.F=t,(t=e&&e.httpHeadersOverwriteParam)&&!E(t)&&(this.a.h=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!E(e)&&(this.a.s=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Wn(this)}function Bn(t){oe.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Gn(){se.call(this),this.status=1}function Wn(t){this.a=t}(e=hn.prototype).$=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.G?ee(this.G):ee(re),this.a.onreadystatechange=p(this.va,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(t){return void vn(this,t)}t=n||"";var o=new Ie(this.headers);r&&Ee(r,(function(t,e){o.set(e,t)})),r=function(t){t:{for(var e=dn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.K()),n=i.FormData&&t instanceof i.FormData,!(0<=y(pn,e))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{bn(this),0<this.o&&((this.B=function(t){return j&&K(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=p(this.ta,this)):this.m=Mt(this.ta,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){vn(this,t)}},e.ta=function(){void 0!==r&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),yn(this))},e.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),yn(this,!0)),hn.M.C.call(this)},e.va=function(){this.j||(this.w||this.l||this.g?gn(this):this.Oa())},e.Oa=function(){gn(this)},e.S=function(){try{return 2<wn(this)?this.a.status:-1}catch(t){return-1}},e.Y=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},e.Ja=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),cn(e)}},e.qa=function(){return this.h},e.Ma=function(){return"string"==typeof this.f?this.f:String(this.f)},(e=In.prototype).oa=8,e.u=1,e.xa=function(t){if(this.g)if(this.g=null,1==this.u){if(!t){this.H=Math.floor(1e5*Math.random());var e,n=new ue(this,t=this.H++,void 0),r=this.j;if(this.F&&(r?C(r=O(r),this.F):r=this.F),null===this.h&&(n.m=r),this.fa)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=On(this,n,e),Le(i=Se(this.v),"RID",t),Le(i,"CVER",22),this.s&&Le(i,"X-HTTP-Session-Id",this.s),xn(this,i),this.h&&r&&_n(i,this.h,r),en(this.b,n),this.fa?(Le(i,"$req",e),Le(i,"SID","null"),n.R=!0,fe(n,i,null)):fe(n,i,e),this.u=2}}else 3==this.u&&(t?Sn(this,t):0==this.f.length||Qe(this.b)||Sn(this))},e.wa=function(){this.i=null,this.a=new ue(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var t=Se(this.ea);Le(t,"RID","rpc"),Le(t,"SID",this.B),Le(t,"CI",this.U?"0":"1"),Le(t,"AID",this.G),xn(this,t),Le(t,"TYPE","xmlhttp"),this.h&&this.j&&_n(t,this.h,this.j),this.D&&this.a.setTimeout(this.D);var e=this.a,n=this.R;e.B=1,e.f=Pe(Se(t)),e.j=null,e.F=!0,pe(e,n)},e.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,Cn(this),Yt(19))},e.Ta=function(t){Yt(t?2:1)},(e=$n.prototype).na=function(){},e.ma=function(){},e.la=function(){},e.ka=function(){},e.Ha=function(){},Fn.prototype.a=function(t,e){return new qn(t,e)},m(qn,_t),(e=qn.prototype).addEventListener=function(t,e,n,r){qn.M.addEventListener.call(this,t,e,n,r)},e.removeEventListener=function(t,e,n,r){qn.M.removeEventListener.call(this,t,e,n,r)},e.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var t=this.a,e=this.l,n=this.b||void 0;Yt(0),t.P=e,t.N=n||{},t.U=t.W,t.v=Un(t,null,t.P),Nn(t)},e.close=function(){Tn(this.a)},e.La=function(t){if("string"==typeof t){var e={};e.__data__=t,An(this.a,e)}else this.g?((e={}).__data__=It(t),An(this.a,e)):An(this.a,t)},e.C=function(){this.a.c=null,delete this.f,Tn(this.a),delete this.a,qn.M.C.call(this)},m(Bn,oe),m(Gn,se),m(Wn,$n),Wn.prototype.na=function(){this.a.dispatchEvent("a")},Wn.prototype.ma=function(t){this.a.dispatchEvent(new Bn(t))},Wn.prototype.la=function(t){this.a.dispatchEvent(new Gn(t))},Wn.prototype.ka=function(){this.a.dispatchEvent("b")},Fn.prototype.createWebChannel=Fn.prototype.a,qn.prototype.send=qn.prototype.La,qn.prototype.open=qn.prototype.Ka,qn.prototype.close=qn.prototype.close,Qt.NO_ERROR=0,Qt.TIMEOUT=8,Qt.HTTP_ERROR=6,Zt.COMPLETE="complete",ne.EventType=ie,ie.OPEN="a",ie.CLOSE="b",ie.ERROR="c",ie.MESSAGE="d",_t.prototype.listen=_t.prototype.ra,hn.prototype.listenOnce=hn.prototype.sa,hn.prototype.getLastError=hn.prototype.Ma,hn.prototype.getLastErrorCode=hn.prototype.qa,hn.prototype.getStatus=hn.prototype.S,hn.prototype.getResponseJson=hn.prototype.Ja,hn.prototype.getResponseText=hn.prototype.Y,hn.prototype.send=hn.prototype.$,t.exports={createWebChannelTransport:function(){return new Fn},ErrorCode:Qt,EventType:Zt,WebChannel:ne,XhrIo:hn}}).apply(void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})})),o=i.createWebChannelTransport,s=i.ErrorCode,a=i.EventType,u=i.WebChannel,c=i.XhrIo;e.ErrorCode=s,e.EventType=a,e.WebChannel=u,e.XhrIo=c,e.createWebChannelTransport=o,e.default=i}));oe(ve);ve.ErrorCode,ve.EventType,ve.WebChannel,ve.XhrIo,ve.createWebChannelTransport;var me=se((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n,r=ae,i=(n=le)&&"object"==typeof n&&"default"in n?n.default:n,o=he,s=ue,a=ce,u=ve,c=i.SDK_VERSION,h=function(){function t(t){this.uid=t}return t.prototype.t=function(){return null!=this.uid},t.prototype.s=function(){return this.t()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();h.UNAUTHENTICATED=new h(null),h.i=new h("google-credentials-uid"),h.h=new h("first-party-uid");
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},f=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return r.__extends(e,t),e}(Error),p=function(t,e){this.user=e,this.type="OAuth",this.o={},this.o.Authorization="Bearer "+t},d=function(){function t(){this.u=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype._=function(){},t.prototype.l=function(t){this.u=t,t(h.UNAUTHENTICATED)},t.prototype.T=function(){this.u=null},t}(),v=function(){function t(t){var e=this;this.I=null,this.currentUser=h.UNAUTHENTICATED,this.R=!1,this.A=0,this.u=null,this.forceRefresh=!1,this.I=function(){e.A++,e.currentUser=e.m(),e.R=!0,e.u&&e.u(e.currentUser)},this.A=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.I):(this.I(null),t.get().then((function(t){e.auth=t,e.I&&e.auth.addAuthTokenListener(e.I)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.A,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t.A!==e)throw new f(l.ABORTED,"getToken aborted due to token change.");return n?(Ae("string"==typeof n.accessToken),new p(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype._=function(){this.forceRefresh=!0},t.prototype.l=function(t){this.u=t,this.R&&t(this.currentUser)},t.prototype.T=function(){this.auth&&this.auth.removeAuthTokenListener(this.I),this.I=null,this.u=null},t.prototype.m=function(){var t=this.auth&&this.auth.getUid();return Ae(null===t||"string"==typeof t),new h(t)},t}(),m=function(){function t(t,e){this.P=t,this.V=e,this.type="FirstParty",this.user=h.h}return Object.defineProperty(t.prototype,"o",{get:function(){var t={"X-Goog-AuthUser":this.V},e=this.P.auth.g([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),g=function(){function t(t,e){this.P=t,this.V=e}return t.prototype.getToken=function(){return Promise.resolve(new m(this.P,this.V))},t.prototype.l=function(t){t(h.h)},t.prototype.T=function(){},t.prototype._=function(){},t}(),y=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new f(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new f(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new f(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new f(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.p=function(t){return this.seconds===t.seconds?xe(this.nanoseconds,t.nanoseconds):xe(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),b=function(){function t(t){this.timestamp=t}return t.v=function(e){return new t(e)},t.min=function(){return new t(new y(0,0))},t.prototype.S=function(t){return this.timestamp.p(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.D=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.C=function(){return this.timestamp},t}(),w=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ke(),void 0===n?n=t.length-e:n>t.length-e&&ke(),this.segments=t,this.offset=e,this.F=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.F},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.N(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.$(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.k=function(t){return t=void 0===t?1:t,this.$(this.segments,this.offset+t,this.length-t)},t.prototype.L=function(){return this.$(this.segments,this.offset,this.length-1)},t.prototype.M=function(){return this.segments[this.offset]},t.prototype.O=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.B=function(){return 0===this.length},t.prototype.q=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.U=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.W=function(){return this.segments.slice(this.offset,this.limit())},t.N=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.$=function(t,n,r){return new e(t,n,r)},e.prototype.j=function(){return this.W().join("/")},e.prototype.toString=function(){return this.j()},e.K=function(t){if(t.indexOf("//")>=0)throw new f(l.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e}(w);_.G=new _([]);var E=/^[_a-zA-Z][_a-zA-Z0-9]*$/,I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.$=function(t,n,r){return new e(t,n,r)},e.H=function(t){return E.test(t)},e.prototype.j=function(){return this.W().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.H(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.j()},e.prototype.Y=function(){return 1===this.length&&"__name__"===this.get(0)},e.J=function(){return new e(["__name__"])},e.X=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new f(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new f(l.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new f(l.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new f(l.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e}(w);I.G=new I([]);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var T=function(){function t(t){this.path=t}return t.Z=function(e){return new t(_.K(e).k(5))},t.prototype.tt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===_.N(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.N=function(t,e){return _.N(t.path,e.path)},t.et=function(t){return t.length%2==0},t.st=function(e){return new t(new _(e.slice()))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function k(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function A(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function N(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */T.EMPTY=new T(new _([]));var S=function(){function t(t){this.it=t}return t.fromBase64String=function(e){return new t(ye.nt().atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return ye.nt().btoa(this.it)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.it)},t.prototype.rt=function(){return 2*this.it.length},t.prototype.S=function(t){return xe(this.it,t.it)},t.prototype.isEqual=function(t){return this.it===t.it},t}();function x(t){return null==t}function O(t){return-0===t&&1/t==-1/0}function D(t){return"number"==typeof t&&Number.isInteger(t)&&!O(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function C(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function L(t){var e=F(t.mapValue.fields.__local_write_time__.timestampValue);return new y(e.seconds,e.nanos)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */S.ht=new S("");var P=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function R(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?C(t)?4:10:ke()}function M(t,e){var n=R(t);if(n!==R(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return L(t).isEqual(L(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=F(t.timestampValue),r=F(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return B(t.bytesValue).isEqual(B(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return q(t.geoPointValue.latitude)===q(e.geoPointValue.latitude)&&q(t.geoPointValue.longitude)===q(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return q(t.integerValue)===q(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=q(t.doubleValue),r=q(e.doubleValue);return n===r?O(n)===O(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Oe(t.arrayValue.values||[],e.arrayValue.values||[],M);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(k(n)!==k(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!M(n[i],r[i])))return!1;return!0}(t,e);default:return ke()}}function j(t,e){return void 0!==(t.values||[]).find((function(t){return M(t,e)}))}function U(t,e){var n=R(t),r=R(e);if(n!==r)return xe(n,r);switch(n){case 0:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=q(t.integerValue||t.doubleValue),r=q(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return V(t.timestampValue,e.timestampValue);case 4:return V(L(t),L(e));case 5:return xe(t.stringValue,e.stringValue);case 6:return function(t,e){var n=B(t),r=B(e);return n.S(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=xe(n[i],r[i]);if(0!==o)return o}return xe(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=xe(q(t.latitude),q(e.latitude));return 0!==n?n:xe(q(t.longitude),q(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=U(n[i],r[i]);if(o)return o}return xe(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=xe(r[s],o[s]);if(0!==a)return a;var u=U(n[r[s]],i[o[s]]);if(0!==u)return u}return xe(r.length,o.length)}(t.mapValue,e.mapValue);default:throw ke()}}function V(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return xe(t,e);var n=F(t),r=F(e),i=xe(n.seconds,r.seconds);return 0!==i?i:xe(n.nanos,r.nanos)}function $(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=F(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?B(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,T.Z(r).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=t(s)}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):ke();var n,r}(t)}function F(t){if(Ae(!!t),"string"==typeof t){var e=0,n=P.exec(t);if(Ae(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:q(t.seconds),nanos:q(t.nanos)}}function q(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function B(t){return"string"==typeof t?S.fromBase64String(t):S.fromUint8Array(t)}function G(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.j()}}function W(t){return!!t&&"integerValue"in t}function z(t){return!!t&&"arrayValue"in t}function H(t){return!!t&&"nullValue"in t}function K(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Y(t){return!!t&&"mapValue"in t}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var X=function(){function t(){}return t.prototype.ot=function(t,e){return function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(e,t)},t.prototype.at=function(t,e){return e},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t}();X.instance=new X;var J=function(){function t(t){this.elements=t}return t.prototype.ot=function(t,e){return this.apply(t)},t.prototype.at=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=tt(t),n=function(t){e.some((function(e){return M(e,t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Oe(this.elements,e.elements,M)},t}(),Q=function(){function t(t){this.elements=t}return t.prototype.ot=function(t,e){return this.apply(t)},t.prototype.at=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=tt(t),n=function(t){e=e.filter((function(e){return!M(e,t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return{arrayValue:{values:e}}},t.prototype.ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Oe(this.elements,e.elements,M)},t}(),Z=function(){function t(t,e){this.serializer=t,this.ct=e}return t.prototype.ot=function(t,e){var n=this.ut(t),r=this.asNumber(n)+this.asNumber(this.ct);return W(n)&&W(this.ct)?this.serializer._t(r):this.serializer.lt(r)},t.prototype.at=function(t,e){return e},t.prototype.ut=function(t){return W(e=t)||function(t){return!!t&&"doubleValue"in t}(e)?t:{integerValue:0};var e},t.prototype.isEqual=function(e){return e instanceof t&&M(this.ct,e.ct)},t.prototype.asNumber=function(t){return q(t.integerValue||t.doubleValue)},t}();function tt(t){return z(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var et=function(){function t(t){this.fields=t,t.sort(I.N)}return t.prototype.dt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].q(t))return!0;return!1},t.prototype.isEqual=function(t){return Oe(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),nt=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),rt=function(t,e){this.version=t,this.transformResults=e},it=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ft=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.Et=function(t){return void 0!==this.updateTime?t instanceof gt&&t.version.isEqual(this.updateTime):void 0===this.exists||this.exists===t instanceof gt},t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}(),ot=function(){function t(){}return t.prototype.It=function(t){},t.wt=function(t){return t instanceof gt?t.version:b.min()},t}(),st=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Rt=r,i.type=0,i}return r.__extends(e,t),e.prototype.at=function(t,e){this.It(t);var n=e.version;return new gt(this.key,n,this.value,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var r=ot.wt(t);return new gt(this.key,r,this.value,{At:!0})},e.prototype.Pt=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.Rt.isEqual(t.Rt)},e}(ot),at=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Vt=r,o.Rt=i,o.type=1,o}return r.__extends(e,t),e.prototype.at=function(t,e){if(this.It(t),!this.Rt.Et(t))return new bt(this.key,e.version);var n=this.gt(t);return new gt(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var r=ot.wt(t),i=this.gt(t);return new gt(this.key,r,i,{At:!0})},e.prototype.Pt=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Vt.isEqual(t.Vt)&&this.Rt.isEqual(t.Rt)},e.prototype.gt=function(t){var e;return e=t instanceof gt?t.data():lt.empty(),this.pt(e)},e.prototype.pt=function(t){var e=this,n=new ft(t);return this.Vt.fields.forEach((function(t){if(!t.B()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.yt()},e}(ot),ut=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Rt=it.exists(!0),r}return r.__extends(e,t),e.prototype.at=function(t,e){if(this.It(t),Ae(null!=e.transformResults),!this.Rt.Et(t))return new bt(this.key,e.version);var n=this.bt(t),r=this.vt(t,e.transformResults),i=e.version,o=this.St(n.data(),r);return new gt(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){if(this.It(t),!this.Rt.Et(t))return t;var r=this.bt(t),i=this.Dt(n,t,e),o=this.St(r.data(),i);return new gt(this.key,r.version,o,{At:!0})},e.prototype.Pt=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof gt?t.field(i.field):void 0,s=i.transform.ut(o||null);null!=s&&(e=null==e?(new ft).set(i.field,s):e.set(i.field,s))}return e?e.yt():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Oe(this.fieldTransforms,t.fieldTransforms,(function(t,e){return t.isEqual(e)}))&&this.Rt.isEqual(t.Rt)},e.prototype.bt=function(t){return t},e.prototype.vt=function(t,e){var n=[];Ae(this.fieldTransforms.length===e.length);for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;t instanceof gt&&(s=t.field(i.field)),n.push(o.at(s,e[r]))}return n},e.prototype.Dt=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var s=o[i],a=s.transform,u=null;e instanceof gt&&(u=e.field(s.field)),null===u&&n instanceof gt&&(u=n.field(s.field)),r.push(a.ot(u,t))}return r},e.prototype.St=function(t,e){for(var n=new ft(t),r=0;r<this.fieldTransforms.length;r++){var i=this.fieldTransforms[r].field;n.set(i,e[r])}return n.yt()},e}(ot),ct=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Rt=n,r.type=3,r}return r.__extends(e,t),e.prototype.at=function(t,e){return this.It(t),new yt(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.ot=function(t,e,n){return this.It(t),this.Rt.Et(t)?new yt(this.key,b.min()):t},e.prototype.Pt=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Rt.isEqual(t.Rt)},e}(ot),ht=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Rt=n,r.type=4,r}return r.__extends(e,t),e.prototype.at=function(t,e){ke()},e.prototype.ot=function(t,e,n){ke()},e.prototype.Pt=function(t){ke()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Rt.isEqual(t.Rt)},e}(ot),lt=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.B())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Y(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.O()])||null},t.prototype.isEqual=function(t){return M(this.proto,t.proto)},t}(),ft=function(){function t(t){void 0===t&&(t=lt.empty()),this.Ct=t,this.Ft=new Map}return t.prototype.set=function(t,e){return this.Nt(t,e),this},t.prototype.delete=function(t){return this.Nt(t,null),this},t.prototype.Nt=function(t,e){for(var n=this.Ft,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===R(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.O(),e)},t.prototype.yt=function(){var t=this.$t(I.G,this.Ft);return null!=t?new lt(t):this.Ct},t.prototype.$t=function(t,e){var n=this,r=!1,i=this.Ct.field(t),o=Y(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.$t(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function pt(t){var e=[];return A(t.fields||{},(function(t,n){var r=new I([t]);if(Y(n)){var i=pt(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new et(e)
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}var dt,vt,mt=function(t,e){this.key=t,this.version=e},gt=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).kt=r,o.At=!!i.At,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return r.__extends(e,t),e.prototype.field=function(t){return this.kt.field(t)},e.prototype.data=function(){return this.kt},e.prototype.Lt=function(){return this.kt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.At===t.At&&this.hasCommittedMutations===t.hasCommittedMutations&&this.kt.isEqual(t.kt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.kt.toString()+", {hasLocalMutations: "+this.At+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.At||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e}(mt),yt=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return r.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(mt),bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(mt),wt=function(){function t(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Mt=null}return t.prototype.canonicalId=function(){if(null===this.Mt){var t=this.path.j();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:",t+=this.filters.map((function(t){return t.canonicalId()})).join(","),t+="|ob:",t+=this.orderBy.map((function(t){return t.canonicalId()})).join(","),x(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.Mt=t}return this.Mt},t.prototype.toString=function(){var t=this.path.j();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),x(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(var n=0;n<this.filters.length;n++)if(!this.filters[n].isEqual(t.filters[n]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!!(null!==this.startAt?this.startAt.isEqual(t.startAt):null===t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.Ot=function(){return T.et(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),_t=function(){function t(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.Bt=o,this.startAt=s,this.endAt=a,this.qt=null,this.Ut=null,this.startAt&&this.Qt(this.startAt),this.endAt&&this.Qt(this.endAt)}return t.Wt=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.qt){this.qt=[];var t=this.jt(),e=this.Kt();if(null!==t&&null===e)t.Y()||this.qt.push(new xt(t)),this.qt.push(new xt(I.J(),"asc"));else{for(var n=!1,r=0,i=this.xt;r<i.length;r++){var o=i[r];this.qt.push(o),o.field.Y()&&(n=!0)}if(!n){var s=this.xt.length>0?this.xt[this.xt.length-1].dir:"asc";this.qt.push(new xt(I.J(),s))}}}return this.qt},enumerable:!0,configurable:!0}),t.prototype.Gt=function(e){var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.xt.slice(),n,this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.zt=function(e){var n=this.xt.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.Ht=function(e){return new t(this.path,this.collectionGroup,this.xt.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.Yt=function(e){return new t(this.path,this.collectionGroup,this.xt.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.Jt=function(e){return new t(this.path,this.collectionGroup,this.xt.slice(),this.filters.slice(),this.limit,this.Bt,e,this.endAt)},t.prototype.Xt=function(e){return new t(this.path,this.collectionGroup,this.xt.slice(),this.filters.slice(),this.limit,this.Bt,this.startAt,e)},t.prototype.Zt=function(e){return new t(e,null,this.xt.slice(),this.filters.slice(),this.limit,this.Bt,this.startAt,this.endAt)},t.prototype.te=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.xt.length||1===this.xt.length&&this.xt[0].field.Y())},t.prototype.canonicalId=function(){return this.ee().canonicalId()+"|lt:"+this.Bt},t.prototype.toString=function(){return"Query(target="+this.ee().toString()+"; limitType="+this.Bt+")"},t.prototype.isEqual=function(t){return this.ee().isEqual(t.ee())&&this.Bt===t.Bt},t.prototype.se=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.Y()}return 0},t.prototype.matches=function(t){return this.ie(t)&&this.ne(t)&&this.re(t)&&this.he(t)},t.prototype.oe=function(){return!x(this.limit)&&"F"===this.Bt},t.prototype.ae=function(){return!x(this.limit)&&"L"===this.Bt},t.prototype.Kt=function(){return this.xt.length>0?this.xt[0].field:null},t.prototype.jt=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Et&&n.ue())return n.field}return null},t.prototype.ce=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof Et&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.Ot=function(){return this.ee().Ot()},t.prototype._e=function(){return null!==this.collectionGroup},t.prototype.ee=function(){if(!this.Ut)if("F"===this.Bt)this.Ut=new wt(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e],i="desc"===r.dir?"asc":"desc";t.push(new xt(r.field,i))}var o=this.endAt?new St(this.endAt.position,!this.endAt.before):null,s=this.startAt?new St(this.startAt.position,!this.startAt.before):null;this.Ut=new wt(this.path,this.collectionGroup,t,this.filters,this.limit,o,s)}return this.Ut},t.prototype.ie=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.tt(this.collectionGroup)&&this.path.q(e):T.et(this.path)?this.path.isEqual(e):this.path.U(e)},t.prototype.ne=function(t){for(var e=0,n=this.xt;e<n.length;e++){var r=n[e];if(!r.field.Y()&&null===t.field(r.field))return!1}return!0},t.prototype.re=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.he=function(t){return!(this.startAt&&!this.startAt.le(this.orderBy,t)||this.endAt&&this.endAt.le(this.orderBy,t))},t.prototype.Qt=function(t){},t}(),Et=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return r.__extends(e,t),e.create=function(t,n,r){if(t.Y())return"in"===n?new Tt(t,r):new It(t,n,r);if(H(r)){if("=="!==n)throw new f(l.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(K(r)){if("=="!==n)throw new f(l.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return"array-contains"===n?new kt(t,r):"in"===n?new At(t,r):"array-contains-any"===n?new Nt(t,r):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&R(this.value)===R(e)&&this.de(U(e,this.value))},e.prototype.de=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case">":return t>0;case">=":return t>=0;default:return ke()}},e.prototype.ue=function(){return["<","<=",">",">="].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.j()+this.op.toString()+$(this.value)},e.prototype.isEqual=function(t){return t instanceof e&&this.op===t.op&&this.field.isEqual(t.field)&&M(this.value,t.value)},e.prototype.toString=function(){return this.field.j()+" "+this.op+" "+$(this.value)},e}((function(){})),It=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=T.Z(r.referenceValue),i}return r.__extends(e,t),e.prototype.matches=function(t){var e=T.N(t.key,this.key);return this.de(e)},e}(Et),Tt=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=(n.arrayValue.values||[]).map((function(t){return T.Z(t.referenceValue)})),r}return r.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Et),kt=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return z(e)&&j(e.arrayValue,this.value)},e}(Et),At=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&j(this.value.arrayValue,e)},e}(Et),Nt=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!z(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return j(e.value.arrayValue,t)}))},e}(Et),St=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){return(this.before?"b":"a")+":"+this.position.map((function(t){return $(t)})).join(",")},t.prototype.le=function(t,e){for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(n=i.field.Y()?T.N(T.Z(o.referenceValue),e.key):U(o,e.field(i.field)),"desc"===i.dir&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!M(this.position[e],t.position[e]))return!1;return!0},t}(),xt=function(){function t(t,e){this.field=t,void 0===e&&(e="asc"),this.dir=e,this.fe=t.Y()}return t.prototype.compare=function(t,e){var n=this.fe?T.N(t.key,e.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?U(r,i):ke()}(this.field,t,e);switch(this.dir){case"asc":return n;case"desc":return-1*n;default:return ke()}},t.prototype.canonicalId=function(){return this.field.j()+this.dir.toString()},t.prototype.toString=function(){return this.field.j()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Ot=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=b.min()),void 0===o&&(o=b.min()),void 0===s&&(s=S.ht),this.target=t,this.targetId=e,this.Te=n,this.sequenceNumber=r,this.Ee=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Ie=function(e){return new t(this.target,this.targetId,this.Te,e,this.Ee,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.we=function(e,n){return new t(this.target,this.targetId,this.Te,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Re=function(e){return new t(this.target,this.targetId,this.Te,this.sequenceNumber,this.Ee,e,this.resumeToken)},t}(),Dt=function(t){this.count=t};function Ct(t){switch(t){case l.OK:return ke();case l.CANCELLED:case l.UNKNOWN:case l.DEADLINE_EXCEEDED:case l.RESOURCE_EXHAUSTED:case l.INTERNAL:case l.UNAVAILABLE:case l.UNAUTHENTICATED:return!1;case l.INVALID_ARGUMENT:case l.NOT_FOUND:case l.ALREADY_EXISTS:case l.PERMISSION_DENIED:case l.FAILED_PRECONDITION:case l.ABORTED:case l.OUT_OF_RANGE:case l.UNIMPLEMENTED:case l.DATA_LOSS:return!0;default:return ke()}}function Lt(t){if(void 0===t)return Ie("GRPC error has no .code"),l.UNKNOWN;switch(t){case dt.OK:return l.OK;case dt.CANCELLED:return l.CANCELLED;case dt.UNKNOWN:return l.UNKNOWN;case dt.DEADLINE_EXCEEDED:return l.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return l.RESOURCE_EXHAUSTED;case dt.INTERNAL:return l.INTERNAL;case dt.UNAVAILABLE:return l.UNAVAILABLE;case dt.UNAUTHENTICATED:return l.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return l.INVALID_ARGUMENT;case dt.NOT_FOUND:return l.NOT_FOUND;case dt.ALREADY_EXISTS:return l.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return l.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return l.FAILED_PRECONDITION;case dt.ABORTED:return l.ABORTED;case dt.OUT_OF_RANGE:return l.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return l.UNIMPLEMENTED;case dt.DATA_LOSS:return l.DATA_LOSS;default:return ke()}}(vt=dt||(dt={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Pt=function(){function t(t,e){this.N=t,this.root=e||Mt.EMPTY}return t.prototype.Ae=function(e,n){return new t(this.N,this.root.Ae(e,n,this.N).me(null,null,Mt.Pe,null,null))},t.prototype.remove=function(e){return new t(this.N,this.root.remove(e,this.N).me(null,null,Mt.Pe,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.B();){var n=this.N(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.B();){var r=this.N(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.B=function(){return this.root.B()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.Ve=function(){return this.root.Ve()},t.prototype.ge=function(){return this.root.ge()},t.prototype.pe=function(t){return this.root.pe(t)},t.prototype.forEach=function(t){this.pe((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.pe((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ye=function(t){return this.root.ye(t)},t.prototype.be=function(){return new Rt(this.root,null,this.N,!1)},t.prototype.ve=function(t){return new Rt(this.root,t,this.N,!1)},t.prototype.Se=function(){return new Rt(this.root,null,this.N,!0)},t.prototype.De=function(t){return new Rt(this.root,t,this.N,!0)},t}(),Rt=function(){function t(t,e,n,r){this.Ce=r,this.Fe=[];for(var i=1;!t.B();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Ce?t.left:t.right;else{if(0===i){this.Fe.push(t);break}this.Fe.push(t),t=this.Ce?t.right:t.left}}return t.prototype.Ne=function(){var t=this.Fe.pop(),e={key:t.key,value:t.value};if(this.Ce)for(t=t.left;!t.B();)this.Fe.push(t),t=t.right;else for(t=t.right;!t.B();)this.Fe.push(t),t=t.left;return e},t.prototype.$e=function(){return this.Fe.length>0},t.prototype.ke=function(){if(0===this.Fe.length)return null;var t=this.Fe[this.Fe.length-1];return{key:t.key,value:t.value}},t}(),Mt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.me=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.B=function(){return!1},t.prototype.pe=function(t){return this.left.pe(t)||t(this.key,this.value)||this.right.pe(t)},t.prototype.ye=function(t){return this.right.ye(t)||t(this.key,this.value)||this.left.ye(t)},t.prototype.min=function(){return this.left.B()?this:this.left.min()},t.prototype.Ve=function(){return this.min().key},t.prototype.ge=function(){return this.right.B()?this.key:this.right.ge()},t.prototype.Ae=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.me(null,null,null,r.left.Ae(t,e,n),null):0===i?r.me(null,e,null,null,null):r.me(null,null,null,null,r.right.Ae(t,e,n))).Le()},t.prototype.Me=function(){if(this.left.B())return t.EMPTY;var e=this;return e.left.Oe()||e.left.left.Oe()||(e=e.xe()),(e=e.me(null,null,null,e.left.Me(),null)).Le()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.B()||i.left.Oe()||i.left.left.Oe()||(i=i.xe()),i=i.me(null,null,null,i.left.remove(e,n),null);else{if(i.left.Oe()&&(i=i.Be()),i.right.B()||i.right.Oe()||i.right.left.Oe()||(i=i.qe()),0===n(e,i.key)){if(i.right.B())return t.EMPTY;r=i.right.min(),i=i.me(r.key,r.value,null,null,i.right.Me())}i=i.me(null,null,null,null,i.right.remove(e,n))}return i.Le()},t.prototype.Oe=function(){return this.color},t.prototype.Le=function(){var t=this;return t.right.Oe()&&!t.left.Oe()&&(t=t.Ue()),t.left.Oe()&&t.left.left.Oe()&&(t=t.Be()),t.left.Oe()&&t.right.Oe()&&(t=t.Qe()),t},t.prototype.xe=function(){var t=this.Qe();return t.right.left.Oe()&&(t=(t=(t=t.me(null,null,null,null,t.right.Be())).Ue()).Qe()),t},t.prototype.qe=function(){var t=this.Qe();return t.left.left.Oe()&&(t=(t=t.Be()).Qe()),t},t.prototype.Ue=function(){var e=this.me(null,null,t.RED,null,this.right.left);return this.right.me(null,null,this.color,e,null)},t.prototype.Be=function(){var e=this.me(null,null,t.RED,this.left.right,null);return this.left.me(null,null,this.color,null,e)},t.prototype.Qe=function(){var t=this.left.me(null,null,!this.left.color,null,null),e=this.right.me(null,null,!this.right.color,null,null);return this.me(null,null,!this.color,t,e)},t.prototype.We=function(){var t=this.je();return Math.pow(2,t)<=this.size+1},t.prototype.je=function(){if(this.Oe()&&this.left.Oe())throw ke();if(this.right.Oe())throw ke();var t=this.left.je();if(t!==this.right.je())throw ke();return t+(this.Oe()?0:1)},t}();Mt.EMPTY=null,Mt.RED=!0,Mt.Pe=!1,Mt.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ke()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ke()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ke()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ke()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ke()},enumerable:!0,configurable:!0}),t.prototype.me=function(t,e,n,r,i){return this},t.prototype.Ae=function(t,e,n){return new Mt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.B=function(){return!0},t.prototype.pe=function(t){return!1},t.prototype.ye=function(t){return!1},t.prototype.Ve=function(){return null},t.prototype.ge=function(){return null},t.prototype.Oe=function(){return!1},t.prototype.We=function(){return!0},t.prototype.je=function(){return 0},t}());
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var jt=function(){function t(t){this.N=t,this.data=new Pt(this.N)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Ve()},t.prototype.last=function(){return this.data.ge()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.pe((function(e,n){return t(e),!1}))},t.prototype.Ke=function(t,e){for(var n=this.data.ve(t[0]);n.$e();){var r=n.Ne();if(this.N(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ge=function(t,e){var n;for(n=void 0!==e?this.data.ve(e):this.data.be();n.$e();)if(!t(n.Ne().key))return},t.prototype.ze=function(t){var e=this.data.ve(t);return e.$e()?e.Ne().key:null},t.prototype.be=function(){return new Ut(this.data.be())},t.prototype.ve=function(t){return new Ut(this.data.ve(t))},t.prototype.add=function(t){return this.me(this.data.remove(t).Ae(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.me(this.data.remove(t)):this},t.prototype.B=function(){return this.data.B()},t.prototype.He=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.be(),r=e.data.be();n.$e();){var i=n.Ne().key,o=r.Ne().key;if(0!==this.N(i,o))return!1}return!0},t.prototype.W=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.me=function(e){var n=new t(this.N);return n.data=e,n},t}(),Ut=function(){function t(t){this.Ye=t}return t.prototype.Ne=function(){return this.Ye.Ne().key},t.prototype.$e=function(){return this.Ye.$e()},t}(),Vt=new Pt(T.N);function $t(){return Vt}function Ft(){return $t()}var qt=new Pt(T.N);function Bt(){return qt}var Gt=new Pt(T.N);function Wt(){return Gt}var zt=new jt(T.N);function Ht(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=zt,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Kt=new jt(xe);function Yt(){return Kt}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Xt=function(){function t(t){this.N=t?function(e,n){return t(e,n)||T.N(e.key,n.key)}:function(t,e){return T.N(t.key,e.key)},this.Je=Bt(),this.Xe=new Pt(this.N)}return t.Ze=function(e){return new t(e.N)},t.prototype.has=function(t){return null!=this.Je.get(t)},t.prototype.get=function(t){return this.Je.get(t)},t.prototype.first=function(){return this.Xe.Ve()},t.prototype.last=function(){return this.Xe.ge()},t.prototype.B=function(){return this.Xe.B()},t.prototype.indexOf=function(t){var e=this.Je.get(t);return e?this.Xe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Xe.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.Xe.pe((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.me(e.Je.Ae(t.key,t),e.Xe.Ae(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.me(this.Je.remove(t),this.Xe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Xe.be(),r=e.Xe.be();n.$e();){var i=n.Ne().key,o=r.Ne().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.me=function(e,n){var r=new t;return r.N=this.N,r.Je=e,r.Xe=n,r},t}(),Jt=function(){function t(){this.ts=new Pt(T.N)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ts.get(e);n?0!==t.type&&3===n.type?this.ts=this.ts.Ae(e,t):3===t.type&&1!==n.type?this.ts=this.ts.Ae(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ts=this.ts.Ae(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ts=this.ts.Ae(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ts=this.ts.remove(e):1===t.type&&2===n.type?this.ts=this.ts.Ae(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ts=this.ts.Ae(e,{type:2,doc:t.doc}):ke():this.ts=this.ts.Ae(e,t)},t.prototype.es=function(){var t=[];return this.ts.pe((function(e,n){t.push(n)})),t},t}(),Qt=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.ss=n,this.docChanges=r,this.ns=i,this.fromCache=o,this.rs=s,this.hs=a}return t.os=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Xt.Ze(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ns.B()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.rs===t.rs&&this.ns.isEqual(t.ns)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.ss.isEqual(t.ss)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Zt=function(){function t(t,e,n,r,i){this.Ee=t,this.as=e,this.us=n,this.cs=r,this._s=i}return t.ls=function(e,n){var r=new Map;return r.set(e,te.ds(e,n)),new t(b.min(),r,Yt(),$t(),Ht())},t}(),te=function(){function t(t,e,n,r,i){this.resumeToken=t,this.fs=e,this.Ts=n,this.Es=r,this.Is=i}return t.ds=function(e,n){return new t(S.ht,n,Ht(),Ht(),Ht())},t}(),ee=function(t,e,n,r){this.ws=t,this.removedTargetIds=e,this.key=n,this.Rs=r},ne=function(t,e){this.targetId=t,this.As=e},re=function(t,e,n,r){void 0===n&&(n=S.ht),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ie=function(){function t(){this.ms=0,this.Ps=fe(),this.Vs=S.ht,this.gs=!1,this.ps=!0}return Object.defineProperty(t.prototype,"fs",{get:function(){return this.gs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Vs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ys",{get:function(){return 0!==this.ms},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bs",{get:function(){return this.ps},enumerable:!0,configurable:!0}),t.prototype.vs=function(t){t.rt()>0&&(this.ps=!0,this.Vs=t)},t.prototype.Ss=function(){var t=Ht(),e=Ht(),n=Ht();return this.Ps.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ke()}})),new te(this.Vs,this.gs,t,e,n)},t.prototype.Ds=function(){this.ps=!1,this.Ps=fe()},t.prototype.Cs=function(t,e){this.ps=!0,this.Ps=this.Ps.Ae(t,e)},t.prototype.Fs=function(t){this.ps=!0,this.Ps=this.Ps.remove(t)},t.prototype.Ns=function(){this.ms+=1},t.prototype.$s=function(){this.ms-=1},t.prototype.ks=function(){this.ps=!0,this.gs=!0},t}(),oe=function(){function t(t){this.Ls=t,this.Ms=new Map,this.Os=$t(),this.xs=se(),this.Bs=new jt(xe)}return t.prototype.qs=function(t){for(var e=0,n=t.ws;e<n.length;e++){var r=n[e];t.Rs instanceof gt?this.Us(r,t.Rs):t.Rs instanceof yt&&this.Qs(r,t.key,t.Rs)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var s=o[i];this.Qs(s,t.key,t.Rs)}},t.prototype.Ws=function(t){var e=this;this.js(t,(function(n){var r=e.Ks(n);switch(t.state){case 0:e.Gs(n)&&r.vs(t.resumeToken);break;case 1:r.$s(),r.ys||r.Ds(),r.vs(t.resumeToken);break;case 2:r.$s(),r.ys||e.removeTarget(n);break;case 3:e.Gs(n)&&(r.ks(),r.vs(t.resumeToken));break;case 4:e.Gs(n)&&(e.zs(n),r.vs(t.resumeToken));break;default:ke()}}))},t.prototype.js=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ms.forEach((function(t,r){n.Gs(r)&&e(r)}))},t.prototype.Hs=function(t){var e=t.targetId,n=t.As.count,r=this.Ys(e);if(r){var i=r.target;if(i.Ot())if(0===n){var o=new T(i.path);this.Qs(e,o,new yt(o,b.min()))}else Ae(1===n);else this.Js(e)!==n&&(this.zs(e),this.Bs=this.Bs.add(e))}},t.prototype.Xs=function(t){var e=this,n=new Map;this.Ms.forEach((function(r,i){var o=e.Ys(i);if(o){if(r.fs&&o.target.Ot()){var s=new T(o.target.path);null!==e.Os.get(s)||e.Zs(i,s)||e.Qs(i,s,new yt(s,t))}r.bs&&(n.set(i,r.Ss()),r.Ds())}}));var r=Ht();this.xs.forEach((function(t,n){var i=!0;n.Ge((function(t){var n=e.Ys(t);return!n||2===n.Te||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Zt(t,n,this.Bs,this.Os,r);return this.Os=$t(),this.xs=se(),this.Bs=new jt(xe),i},t.prototype.Us=function(t,e){if(this.Gs(t)){var n=this.Zs(t,e.key)?2:0;this.Ks(t).Cs(e.key,n),this.Os=this.Os.Ae(e.key,e),this.xs=this.xs.Ae(e.key,this.ti(e.key).add(t))}},t.prototype.Qs=function(t,e,n){if(this.Gs(t)){var r=this.Ks(t);this.Zs(t,e)?r.Cs(e,1):r.Fs(e),this.xs=this.xs.Ae(e,this.ti(e).delete(t)),n&&(this.Os=this.Os.Ae(e,n))}},t.prototype.removeTarget=function(t){this.Ms.delete(t)},t.prototype.Js=function(t){var e=this.Ks(t).Ss();return this.Ls.ei(t).size+e.Ts.size-e.Is.size},t.prototype.Ns=function(t){this.Ks(t).Ns()},t.prototype.Ks=function(t){var e=this.Ms.get(t);return e||(e=new ie,this.Ms.set(t,e)),e},t.prototype.ti=function(t){var e=this.xs.get(t);return e||(e=new jt(xe),this.xs=this.xs.Ae(t,e)),e},t.prototype.Gs=function(t){var e=null!==this.Ys(t);return e||Ee("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ys=function(t){var e=this.Ms.get(t);return e&&e.ys?null:this.Ls.si(t)},t.prototype.zs=function(t){var e=this;this.Ms.set(t,new ie),this.Ls.ei(t).forEach((function(n){e.Qs(t,n,null)}))},t.prototype.Zs=function(t,e){return this.Ls.ei(t).has(e)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function se(){return new Pt(T.N)}function fe(){return new Pt(T.N)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var pe={asc:"ASCENDING",desc:"DESCENDING"},de={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},me=function(){function t(t,e){this.ii=t,this.options=e}return t.prototype.ni=function(t){var e=void 0===t.code?l.UNKNOWN:Lt(t.code);return new f(e,t.message||"")},t.prototype.ri=function(t){return this.options.hi||x(t)?t:{value:t}},t.prototype.oi=function(t){var e;return x(e="object"==typeof t?t.value:t)?null:e},t.prototype._t=function(t){return{integerValue:""+t}},t.prototype.lt=function(t){if(this.options.hi){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:O(t)?"-0":t}},t.prototype.ai=function(t){return D(t)?this._t(t):this.lt(t)},t.prototype.C=function(t){return this.options.hi?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.v=function(t){var e=F(t);return new y(e.seconds,e.nanos)},t.prototype.ui=function(t){return this.options.hi?t.toBase64():t.toUint8Array()},t.prototype.ci=function(t){return this.options.hi?(Ae(void 0===t||"string"==typeof t),S.fromBase64String(t||"")):(Ae(void 0===t||t instanceof Uint8Array),S.fromUint8Array(t||new Uint8Array))},t.prototype.toVersion=function(t){return this.C(t.C())},t.prototype.fromVersion=function(t){return Ae(!!t),b.v(this.v(t))},t.prototype._i=function(t,e){return this.li(e||this.ii).child("documents").child(t).j()},t.prototype.di=function(t){var e=_.K(t);return Ae(ge(e)),e},t.prototype.fi=function(t){return this._i(t.path)},t.prototype.Z=function(t){var e=this.di(t);return Ae(e.get(1)===this.ii.projectId),Ae(!e.get(3)&&!this.ii.database||e.get(3)===this.ii.database),new T(this.Ti(e))},t.prototype.Ei=function(t){return this._i(t)},t.prototype.Ii=function(t){var e=this.di(t);return 4===e.length?_.G:this.Ti(e)},Object.defineProperty(t.prototype,"wi",{get:function(){return new _(["projects",this.ii.projectId,"databases",this.ii.database]).j()},enumerable:!0,configurable:!0}),t.prototype.li=function(t){return new _(["projects",t.projectId,"databases",t.database])},t.prototype.Ti=function(t){return Ae(t.length>4&&"documents"===t.get(4)),t.k(5)},t.prototype.Ri=function(t,e){return{name:this.fi(t),fields:e.proto.mapValue.fields}},t.prototype.Ai=function(t){return{name:this.fi(t.key),fields:t.Lt().mapValue.fields,updateTime:this.C(t.version.C())}},t.prototype.mi=function(t,e){var n=this.Z(t.name),r=this.fromVersion(t.updateTime),i=new lt({mapValue:{fields:t.fields}});return new gt(n,r,i,{hasCommittedMutations:!!e})},t.prototype.Pi=function(t){Ae(!!t.found),t.found.name,t.found.updateTime;var e=this.Z(t.found.name),n=this.fromVersion(t.found.updateTime),r=new lt({mapValue:{fields:t.found.fields}});return new gt(e,n,r,{})},t.prototype.Vi=function(t){Ae(!!t.missing),Ae(!!t.readTime);var e=this.Z(t.missing),n=this.fromVersion(t.readTime);return new yt(e,n)},t.prototype.gi=function(t){return"found"in t?this.Pi(t):"missing"in t?this.Vi(t):ke()},t.prototype.pi=function(t){var e;if("targetChange"in t){t.targetChange;var n=this.yi(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],i=this.ci(t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&this.ni(o);e=new re(n,r,i,s||null)}else if("documentChange"in t){t.documentChange;var a=t.documentChange;a.document,a.document.name,a.document.updateTime;var u=this.Z(a.document.name),c=this.fromVersion(a.document.updateTime),h=new lt({mapValue:{fields:a.document.fields}}),l=new gt(u,c,h,{}),f=a.targetIds||[],p=a.removedTargetIds||[];e=new ee(f,p,l.key,l)}else if("documentDelete"in t){t.documentDelete;var d=t.documentDelete;d.document;var v=this.Z(d.document),m=d.readTime?this.fromVersion(d.readTime):b.min(),g=new yt(v,m),y=d.removedTargetIds||[];e=new ee([],y,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=this.Z(w.document),E=w.removedTargetIds||[];e=new ee([],E,_,null)}else{if(!("filter"in t))return ke();t.filter;var I=t.filter;I.targetId;var T=I.count||0,k=new Dt(T),A=I.targetId;e=new ne(A,k)}return e},t.prototype.yi=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ke()},t.prototype.bi=function(t){if(!("targetChange"in t))return b.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?b.min():e.readTime?this.fromVersion(e.readTime):b.min()},t.prototype.vi=function(t){var e,n=this;if(t instanceof st)e={update:this.Ri(t.key,t.value)};else if(t instanceof ct)e={delete:this.fi(t.key)};else if(t instanceof at)e={update:this.Ri(t.key,t.data),updateMask:this.Si(t.Vt)};else if(t instanceof ut)e={transform:{document:this.fi(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.Di(t)}))}};else{if(!(t instanceof ht))return ke();e={verify:this.fi(t.key)}}return t.Rt.Tt||(e.currentDocument=this.Ci(t.Rt)),e},t.prototype.Fi=function(t){var e=this,n=t.currentDocument?this.Ni(t.currentDocument):it.ft();if(t.update){t.update.name;var r=this.Z(t.update.name),i=new lt({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=this.$i(t.updateMask);return new at(r,i,o,n)}return new st(r,i,n)}if(t.delete){var s=this.Z(t.delete);return new ct(s,n)}if(t.transform){var a=this.Z(t.transform.document),u=t.transform.fieldTransforms.map((function(t){return e.ki(t)}));return Ae(!0===n.exists),new ut(a,u)}if(t.verify){var c=this.Z(t.verify);return new ht(c,n)}return ke()},t.prototype.Ci=function(t){return void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ke()},t.prototype.Ni=function(t){return void 0!==t.updateTime?it.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?it.exists(t.exists):it.ft()},t.prototype.Li=function(t,e){var n=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e);n.isEqual(b.min())&&(n=this.fromVersion(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new rt(n,r)},t.prototype.Mi=function(t,e){var n=this;return t&&t.length>0?(Ae(void 0!==e),t.map((function(t){return n.Li(t,e)}))):[]},t.prototype.Di=function(t){var e=t.transform;if(e instanceof X)return{fieldPath:t.field.j(),setToServerValue:"REQUEST_TIME"};if(e instanceof J)return{fieldPath:t.field.j(),appendMissingElements:{values:e.elements}};if(e instanceof Q)return{fieldPath:t.field.j(),removeAllFromArray:{values:e.elements}};if(e instanceof Z)return{fieldPath:t.field.j(),increment:e.ct};throw ke()},t.prototype.ki=function(t){var e=null;if("setToServerValue"in t)Ae("REQUEST_TIME"===t.setToServerValue),e=X.instance;else if("appendMissingElements"in t){var n=t.appendMissingElements.values||[];e=new J(n)}else if("removeAllFromArray"in t){var r=t.removeAllFromArray.values||[];e=new Q(r)}else"increment"in t?e=new Z(this,t.increment):ke();var i=I.X(t.fieldPath);return new nt(i,e)},t.prototype.Oi=function(t){return{documents:[this.Ei(t.path)]}},t.prototype.xi=function(t){Ae(1===t.documents.length);var e=t.documents[0];return _t.Wt(this.Ii(e)).ee()},t.prototype.Bi=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(e.parent=this.Ei(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=this.Ei(n.L()),e.structuredQuery.from=[{collectionId:n.O()}]);var r=this.qi(t.filters);r&&(e.structuredQuery.where=r);var i=this.Ui(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.ri(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.Qi(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Qi(t.endAt)),e},t.prototype.Wi=function(t){var e=this.Ii(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ae(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=this.ji(n.where));var a=[];n.orderBy&&(a=this.Ki(n.orderBy));var u=null;n.limit&&(u=this.oi(n.limit));var c=null;n.startAt&&(c=this.Gi(n.startAt));var h=null;return n.endAt&&(h=this.Gi(n.endAt)),new _t(e,i,a,s,u,"F",c,h).ee()},t.prototype.zi=function(t){var e=this.Hi(t.Te);return null==e?null:{"goog-listen-tags":e}},t.prototype.Hi=function(t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ke()}},t.prototype.ee=function(t){var e,n=t.target;return(e=n.Ot()?{documents:this.Oi(n)}:{query:this.Bi(n)}).targetId=t.targetId,t.resumeToken.rt()>0&&(e.resumeToken=this.ui(t.resumeToken)),e},t.prototype.qi=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof Et?e.Yi(t):ke()}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.ji=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.Ji(t)]:void 0!==t.fieldFilter?[this.Xi(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.ji(t)})).reduce((function(t,e){return t.concat(e)})):ke():[]},t.prototype.Ui=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.Zi(t)}))},t.prototype.Ki=function(t){var e=this;return t.map((function(t){return e.tn(t)}))},t.prototype.Qi=function(t){return{before:t.before,values:t.position}},t.prototype.Gi=function(t){var e=!!t.before,n=t.values||[];return new St(n,e)},t.prototype.en=function(t){return pe[t]},t.prototype.sn=function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}},t.prototype.nn=function(t){return de[t]},t.prototype.rn=function(t){switch(t){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ke()}},t.prototype.hn=function(t){return{fieldPath:t.j()}},t.prototype.on=function(t){return I.X(t.fieldPath)},t.prototype.Zi=function(t){return{field:this.hn(t.field),direction:this.en(t.dir)}},t.prototype.tn=function(t){return new xt(this.on(t.field),this.sn(t.direction))},t.prototype.Xi=function(t){return Et.create(this.on(t.fieldFilter.field),this.rn(t.fieldFilter.op),t.fieldFilter.value)},t.prototype.Yi=function(t){if("=="===t.op){if(K(t.value))return{unaryFilter:{field:this.hn(t.field),op:"IS_NAN"}};if(H(t.value))return{unaryFilter:{field:this.hn(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.hn(t.field),op:this.nn(t.op),value:t.value}}},t.prototype.Ji=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.on(t.unaryFilter.field);return Et.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=this.on(t.unaryFilter.field);return Et.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ke()}},t.prototype.Si=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.j())})),{fieldPaths:e}},t.prototype.$i=function(t){var e=t.fieldPaths||[];return new et(e.map((function(t){return I.X(t)})))},t}();function ge(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ye=function(){function t(){}return t.an=function(e){t.platform&&ke(),t.platform=e},t.nt=function(){return t.platform||ke(),t.platform},t}(),be=new o.Logger("@firebase/firestore");
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function we(){return be.logLevel}function _e(t){be.logLevel=t}function Ee(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(be.logLevel<=o.LogLevel.DEBUG){var i=e.map(Te);be.debug.apply(be,r.__spreadArrays(["Firestore ("+c+"): "+t],i))}}function Ie(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(be.logLevel<=o.LogLevel.ERROR){var i=e.map(Te);be.error.apply(be,r.__spreadArrays(["Firestore ("+c+"): "+t],i))}}function Te(t){if("string"==typeof t)return t;var e=ye.nt();try{return e.un(t)}catch(e){return t}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ke(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE ("+c+") INTERNAL ASSERTION FAILED: "+t;throw Ie(e),new Error(e)}function Ae(t,e){t||ke()}function Ne(t,e){return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Se=function(){function t(){}return t.cn=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=ye.nt()._n(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function xe(t,e){return t<e?-1:t>e?1:0}function Oe(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function De(t){return t+"\0"}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ce=function(t,e,n,r,i){this.ii=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},Le=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"ln",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.S=function(t){return xe(this.projectId,t.projectId)||xe(this.database,t.database)},t}(),Pe=function(){function t(t){this.dn=t,this.fn={}}return t.prototype.get=function(t){var e=this.dn(t),n=this.fn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(s.isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.dn(t),r=this.fn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.fn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.dn(t),n=this.fn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.fn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){A(this.fn,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.B=function(){return N(this.fn)},t}(),Re=function(){function t(t,e,n,r){this.batchId=t,this.Tn=e,this.baseMutations=n,this.mutations=r}return t.prototype.at=function(t,e,n){for(var r=n.En,i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var s=r[i];e=o.at(e,s)}}return e},t.prototype.ot=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=i.ot(e,e,this.Tn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=u.ot(e,o,this.Tn))}return e},t.prototype.In=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.ot(r.key,t.get(r.key));i&&(n=n.Ae(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Ht())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Oe(this.mutations,t.mutations,(function(t,e){return t.isEqual(e)}))&&Oe(this.baseMutations,t.baseMutations,(function(t,e){return t.isEqual(e)}))},t}(),Me=function(){function t(t,e,n,r,i){this.batch=t,this.wn=e,this.En=n,this.streamToken=r,this.Rn=i}return t.from=function(e,n,r,i){Ae(e.mutations.length===r.length);for(var o=Wt(),s=e.mutations,a=0;a<s.length;a++)o=o.Ae(s[a].key,r[a].version);return new t(e,n,r,i,o)},t}(),je=function(){function t(t){var e=this;this.An=null,this.mn=null,this.result=void 0,this.error=void 0,this.Pn=!1,this.Vn=!1,t((function(t){e.Pn=!0,e.result=t,e.An&&e.An(t)}),(function(t){e.Pn=!0,e.error=t,e.mn&&e.mn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Vn&&ke(),this.Vn=!0,this.Pn?this.error?this.gn(n,this.error):this.pn(e,this.result):new t((function(t,i){r.An=function(n){r.pn(e,n).next(t,i)},r.mn=function(e){r.gn(n,e).next(t,i)}}))},t.prototype.yn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.pn=function(e,n){return e?this.bn((function(){return e(n)})):t.resolve(n)},t.prototype.gn=function(e,n){return e?this.bn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.vn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Sn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.vn(r)},t}(),Ue=function(){function t(){this.Dn=new Pe((function(t){return t.toString()})),this.Cn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Fn},set:function(t){this.Fn=t},enumerable:!0,configurable:!0}),t.prototype.Nn=function(t,e){this.$n(),this.readTime=e,this.Dn.set(t.key,t)},t.prototype.kn=function(t,e){this.$n(),e&&(this.readTime=e),this.Dn.set(t,null)},t.prototype.Ln=function(t,e){this.$n();var n=this.Dn.get(e);return void 0!==n?je.resolve(n):this.Mn(t,e)},t.prototype.getEntries=function(t,e){return this.On(t,e)},t.prototype.apply=function(t){return this.$n(),this.Cn=!0,this.xn(t)},t.prototype.$n=function(){},t}(),Ve="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$e=function(){function t(){this.Bn=[]}return t.prototype.qn=function(t){this.Bn.push(t)},t.prototype.Un=function(){this.Bn.forEach((function(t){return t()}))},t}(),Fe=function(){function t(t,e,n){this.Qn=t,this.Wn=e,this.jn=n}return t.prototype.Kn=function(t,e){var n=this;return this.Wn.Gn(t,e).next((function(r){return n.zn(t,e,r)}))},t.prototype.zn=function(t,e,n){return this.Qn.Ln(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].ot(e,t);return t}))},t.prototype.Hn=function(t,e,n){var r=Ft();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].ot(t,e);r=r.Ae(t,e)})),r},t.prototype.Yn=function(t,e){var n=this;return this.Qn.getEntries(t,e).next((function(e){return n.Jn(t,e)}))},t.prototype.Jn=function(t,e){var n=this;return this.Wn.Xn(t,e).next((function(r){var i=n.Hn(t,e,r),o=$t();return i.forEach((function(t,e){e||(e=new yt(t,b.min())),o=o.Ae(t,e)})),o}))},t.prototype.Zn=function(t,e,n){return e.Ot()?this.tr(t,e.path):e._e()?this.er(t,e,n):this.sr(t,e,n)},t.prototype.tr=function(t,e){return this.Kn(t,new T(e)).next((function(t){var e=Bt();return t instanceof gt&&(e=e.Ae(t.key,t)),e}))},t.prototype.er=function(t,e,n){var r=this,i=e.collectionGroup,o=Bt();return this.jn.ir(t,i).next((function(s){return je.forEach(s,(function(s){var a=e.Zt(s.child(i));return r.sr(t,a,n).next((function(t){t.forEach((function(t,e){o=o.Ae(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sr=function(t,e,n){var r,i,o=this;return this.Qn.Zn(t,e,n).next((function(n){return r=n,o.Wn.nr(t,e)})).next((function(e){return i=e,o.rr(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,h=r.get(c),l=u.ot(h,h,o.Tn);r=l instanceof gt?r.Ae(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},t.prototype.rr=function(t,e,n){for(var r=Ht(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof at&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Qn.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof gt&&(c=c.Ae(t,e))})),c}))},t}(),qe=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.hr=n,this.or=r}return t.ar=function(e,n){for(var r=Ht(),i=Ht(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Be=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ur=function(t){return n.cr(t)},this._r=function(t){return e.lr(t)})}return t.prototype.cr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this._r&&this._r(t),t},t}();Be.dr=-1;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ge=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},We=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Tr=t,this.Er=e,this.Ir=n,this.wr=r,this.Rr=i,this.Ar=0,this.mr=null,this.Pr=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ar=0},t.prototype.Vr=function(){this.Ar=this.Rr},t.prototype.gr=function(t){var e=this;this.cancel();var n=Math.floor(this.Ar+this.pr()),r=Math.max(0,Date.now()-this.Pr),i=Math.max(0,n-r);i>0&&Ee("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ar+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.mr=this.Tr.yr(this.Er,i,(function(){return e.Pr=Date.now(),t()})),this.Ar*=this.wr,this.Ar<this.Ir&&(this.Ar=this.Ir),this.Ar>this.Rr&&(this.Ar=this.Rr)},t.prototype.br=function(){null!==this.mr&&(this.mr.vr(),this.mr=null)},t.prototype.cancel=function(){null!==this.mr&&(this.mr.cancel(),this.mr=null)},t.prototype.pr=function(){return(Math.random()-.5)*this.Ar},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ze(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ke(e)),e=He(t.get(n),e);return Ke(e)}function He(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Ke(t){return t+""}function Ye(t){var e=t.length;if(Ae(e>=2),2===e)return Ae(""===t.charAt(0)&&""===t.charAt(1)),_.G;for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&ke(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:ke()}o=s+2}return new _(r)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Xe=function(){function t(){this.Sr=new Je}return t.prototype.Dr=function(t,e){return this.Sr.add(e),je.resolve()},t.prototype.ir=function(t,e){return je.resolve(this.Sr.getEntries(e))},t}(),Je=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.O(),n=t.L(),r=this.index[e]||new jt(_.N),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.O(),n=t.L(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new jt(_.N)).W()},t}(),Qe=function(){function t(){this.Cr=new Je}return t.prototype.Dr=function(t,e){var n=this;if(!this.Cr.has(e)){var r=e.O(),i=e.L();t.qn((function(){n.Cr.add(e)}));var o={collectionId:r,parent:ze(i)};return Ze(t).put(o)}return je.resolve()},t.prototype.ir=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[De(e),""],!1,!0);return Ze(t).Fr(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Ye(o.parent))}return n}))},t}();function Ze(t){return dn.Nr(t,Vn.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var tn=function(){function t(t,e){this.serializer=t,this.jn=e}return t.prototype.Nn=function(t,e,n){return nn(t).put(rn(e),n)},t.prototype.kn=function(t,e){var n=nn(t),r=rn(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.$r(t,r)}))},t.prototype.Ln=function(t,e){var n=this;return nn(t).get(rn(e)).next((function(t){return n.kr(t)}))},t.prototype.Lr=function(t,e){var n=this;return nn(t).get(rn(e)).next((function(t){var e=n.kr(t);return e?{Mr:e,size:on(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Ft();return this.Or(t,e,(function(t,e){var i=n.kr(e);r=r.Ae(t,i)})).next((function(){return r}))},t.prototype.xr=function(t,e){var n=this,r=Ft(),i=new Pt(T.N);return this.Or(t,e,(function(t,e){var o=n.kr(e);o?(r=r.Ae(t,o),i=i.Ae(t,on(e))):(r=r.Ae(t,null),i=i.Ae(t,0))})).next((function(){return{Br:r,qr:i}}))},t.prototype.Or=function(t,e,n){if(e.B())return je.resolve();var r=IDBKeyRange.bound(e.first().path.W(),e.last().path.W()),i=e.be(),o=i.Ne();return nn(t).Ur({range:r},(function(t,e,r){for(var s=T.st(t);o&&T.N(o,s)<0;)n(o,null),o=i.Ne();o&&o.isEqual(s)&&(n(o,e),o=i.$e()?i.Ne():null),o?r.Qr(o.path.W()):r.done()})).next((function(){for(;o;)n(o,null),o=i.$e()?i.Ne():null}))},t.prototype.Zn=function(t,e,n){var r=this,i=Bt(),o=e.path.length+1,s={};if(n.isEqual(b.min())){var a=e.path.W();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.W(),c=this.serializer.Wr(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Pn.collectionReadTimeIndex}return nn(t).Ur(s,(function(t,n,s){if(t.length===o){var a=r.serializer.jr(n);e.path.q(a.key.path)?a instanceof gt&&e.matches(a)&&(i=i.Ae(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Kr=function(t,e){var n=this,r=$t(),i=this.serializer.Wr(e),o=nn(t),s=IDBKeyRange.lowerBound(i,!0);return o.Ur({index:Pn.readTimeIndex,range:s},(function(t,e){var o=n.serializer.jr(e);r=r.Ae(o.key,o),i=e.readTime})).next((function(){return{Gr:r,readTime:n.serializer.zr(i)}}))},t.prototype.Hr=function(t){var e=this,n=nn(t),r=b.min();return n.Ur({index:Pn.readTimeIndex,reverse:!0},(function(t,n,i){n.readTime&&(r=e.serializer.zr(n.readTime)),i.done()})).next((function(){return r}))},t.prototype.Yr=function(e){return new t.Jr(this,!!e&&e.Xr)},t.prototype.Zr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return en(t).get(Rn.key).next((function(t){return Ae(!!t),t}))},t.prototype.$r=function(t,e){return en(t).put(Rn.key,e)},t.prototype.kr=function(t){if(t){var e=this.serializer.jr(t);return e instanceof yt&&e.version.isEqual(b.min())?null:e}return null},t}();function en(t){return dn.Nr(t,Rn.store)}function nn(t){return dn.Nr(t,Pn.store)}function rn(t){return t.path.W()}function on(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ke();e=t.noDocument}return JSON.stringify(e).length}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */tn.Jr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).th=e,r.Xr=n,r.eh=new Pe((function(t){return t.toString()})),r}return r.__extends(e,t),e.prototype.xn=function(t){var e=this,n=[],r=0,i=new jt((function(t,e){return xe(t.j(),e.j())}));return this.Dn.forEach((function(o,s){var a=e.eh.get(o);if(s){var u=e.th.serializer.sh(s,e.readTime);i=i.add(o.path.L());var c=on(u);r+=c-a,n.push(e.th.Nn(t,o,u))}else if(r-=a,e.Xr){var h=e.th.serializer.sh(new yt(o,b.min()),e.readTime);n.push(e.th.Nn(t,o,h))}else n.push(e.th.kn(t,o))})),i.forEach((function(r){n.push(e.th.jn.Dr(t,r))})),n.push(this.th.updateMetadata(t,r)),je.vn(n)},e.prototype.Mn=function(t,e){var n=this;return this.th.Lr(t,e).next((function(t){return null===t?(n.eh.set(e,0),null):(n.eh.set(e,t.size),t.Mr)}))},e.prototype.On=function(t,e){var n=this;return this.th.xr(t,e).next((function(t){var e=t.Br;return t.qr.forEach((function(t,e){n.eh.set(t,e)})),e}))},e}(Ue);var sn=function(){function t(t){this.ih=t}return t.prototype.next=function(){return this.ih+=2,this.ih},t.nh=function(){return new t(0)},t.rh=function(){return new t(-1)},t}(),an=function(){function t(t,e){this.hh=t,this.serializer=e}return t.prototype.oh=function(t){var e=this;return this.ah(t).next((function(n){var r=new sn(n.highestTargetId);return n.highestTargetId=r.next(),e.uh(t,n).next((function(){return n.highestTargetId}))}))},t.prototype._h=function(t){return this.ah(t).next((function(t){return b.v(new y(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.lh=function(t){return this.ah(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.dh=function(t,e,n){var r=this;return this.ah(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.C()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.uh(t,i)}))},t.prototype.fh=function(t,e){var n=this;return this.Th(t,e).next((function(){return n.ah(t).next((function(r){return r.targetCount+=1,n.Eh(e,r),n.uh(t,r)}))}))},t.prototype.Ih=function(t,e){return this.Th(t,e)},t.prototype.wh=function(t,e){var n=this;return this.Rh(t,e.targetId).next((function(){return un(t).delete(e.targetId)})).next((function(){return n.ah(t)})).next((function(e){return Ae(e.targetCount>0),e.targetCount-=1,n.uh(t,e)}))},t.prototype.Ah=function(t,e,n){var r=this,i=0,o=[];return un(t).Ur((function(s,a){var u=r.serializer.mh(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.wh(t,u)))})).next((function(){return je.vn(o)})).next((function(){return i}))},t.prototype.js=function(t,e){var n=this;return un(t).Ur((function(t,r){var i=n.serializer.mh(r);e(i)}))},t.prototype.ah=function(t){return cn(t).get(Un.key).next((function(t){return Ae(null!==t),t}))},t.prototype.uh=function(t,e){return cn(t).put(Un.key,e)},t.prototype.Th=function(t,e){return un(t).put(this.serializer.Ph(e))},t.prototype.Eh=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Vh=function(t){return this.ah(t).next((function(t){return t.targetCount}))},t.prototype.gh=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return un(t).Ur({range:i,index:Mn.queryTargetsIndexName},(function(t,r,i){var s=n.serializer.mh(r);e.isEqual(s.target)&&(o=s,i.done())})).next((function(){return o}))},t.prototype.ph=function(t,e,n){var r=this,i=[],o=hn(t);return e.forEach((function(e){var s=ze(e.path);i.push(o.put(new jn(n,s))),i.push(r.hh.yh(t,n,e))})),je.vn(i)},t.prototype.bh=function(t,e,n){var r=this,i=hn(t);return je.forEach(e,(function(e){var o=ze(e.path);return je.vn([i.delete([n,o]),r.hh.vh(t,n,e)])}))},t.prototype.Rh=function(t,e){var n=hn(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Sh=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=hn(t),i=Ht();return r.Ur({range:n,Dh:!0},(function(t,e,n){var r=Ye(t[1]),o=new T(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Ch=function(t,e){var n=ze(e.path),r=IDBKeyRange.bound([n],[De(n)],!1,!0),i=0;return hn(t).Ur({index:jn.documentTargetsIndex,Dh:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.si=function(t,e){var n=this;return un(t).get(e).next((function(t){return t?n.serializer.mh(t):null}))},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function un(t){return dn.Nr(t,Mn.store)}function cn(t){return dn.Nr(t,Un.store)}function hn(t){return dn.Nr(t,jn.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ln=function(){function t(t){this.Fh=t}return t.prototype.jr=function(t){if(t.document)return this.Fh.mi(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=T.st(t.noDocument.path),n=this.Nh(t.noDocument.readTime);return new yt(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var r=T.st(t.unknownDocument.path),i=this.Nh(t.unknownDocument.version);return new bt(r,i)}return ke()},t.prototype.sh=function(t,e){var n=this.Wr(e),r=t.key.path.L().W();if(t instanceof gt){var i=this.Fh.Ai(t),o=t.hasCommittedMutations;return new Pn(null,null,i,o,n,r)}if(t instanceof yt){var s=t.key.path.W(),a=this.$h(t.version),u=t.hasCommittedMutations;return new Pn(null,new Cn(s,a),null,u,n,r)}if(t instanceof bt){var c=t.key.path.W(),h=this.$h(t.version);return new Pn(new Ln(c,h),null,null,!0,n,r)}return ke()},t.prototype.Wr=function(t){var e=t.C();return[e.seconds,e.nanoseconds]},t.prototype.zr=function(t){var e=new y(t[0],t[1]);return b.v(e)},t.prototype.$h=function(t){var e=t.C();return new Nn(e.seconds,e.nanoseconds)},t.prototype.Nh=function(t){var e=new y(t.seconds,t.nanoseconds);return b.v(e)},t.prototype.kh=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n.Fh.vi(t)})),i=e.mutations.map((function(t){return n.Fh.vi(t)}));return new On(t,e.batchId,e.Tn.toMillis(),r,i)},t.prototype.Lh=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.Fh.Fi(t)})),r=t.mutations.map((function(t){return e.Fh.Fi(t)})),i=y.fromMillis(t.localWriteTimeMs);return new Re(t.batchId,i,n,r)},t.prototype.mh=function(t){var e,n=this.Nh(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.Nh(t.lastLimboFreeSnapshotVersion):b.min();return e=void 0!==t.query.documents?this.Fh.xi(t.query):this.Fh.Wi(t.query),new Ot(e,t.targetId,0,t.lastListenSequenceNumber,n,r,S.fromBase64String(t.resumeToken))},t.prototype.Ph=function(t){var e,n=this.$h(t.Ee),r=this.$h(t.lastLimboFreeSnapshotVersion);e=t.target.Ot()?this.Fh.Oi(t.target):this.Fh.Bi(t.target);var i=t.resumeToken.toBase64();return new Mn(t.targetId,t.target.canonicalId(),n,i,t.sequenceNumber,r,e)},t}(),fn="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",pn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mh=e,r.Oh=n,r}return r.__extends(e,t),e}($e),dn=function(){function t(e,n,r,i,o,s,a,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Tr=s,this.xh=u,this.Bh=null,this.qh=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Uh=null,this.inForeground=!1,this.Qh=null,this.Wh=null,this.jh=Number.NEGATIVE_INFINITY,this.Kh=function(t){return Promise.resolve()},!t.Gh())throw new f(l.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");if(this.hh=new gn(this,o),this.zh=n+t.Hh,this.serializer=new ln(a),this.document=i.document,this.Yh=new an(this.hh,this.serializer),this.jn=new Qe,this.Qn=new tn(this.serializer,this.jn),!i.window||!i.window.localStorage)throw new f(l.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.Jh=this.window.localStorage}return t.Nr=function(t,e){if(t instanceof pn)return Bn.Nr(t.Mh,e);throw ke()},t.prototype.start=function(){var t=this;return Bn.Xh(this.zh,kn,new An(this.serializer)).then((function(e){return t.Zh=e,t.to()})).then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new f(l.FAILED_PRECONDITION,fn);return t.eo(),t.so(),t.io(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Yh.lh(e)}))})).then((function(e){t.Bh=new Be(e,t.xh)})).then((function(){t.qh=!0})).catch((function(e){return t.Zh&&t.Zh.close(),Promise.reject(e)}))},t.prototype.no=function(t){var e=this;return this.Kh=function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.ro?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.ho=function(t){var e=this;this.Zh.oo((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.ao=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Tr.uo((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.ro?[4,this.to()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.to=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return mn(e).put(new Fn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.co(e).next((function(e){e||(t.isPrimary=!1,t.Tr.uo((function(){return t.Kh(!1)})))}))})).next((function(){return t._o(e)})).next((function(n){return t.isPrimary&&!n?t.lo(e).next((function(){return!1})):!!n&&t.do(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization){if(zn(e))return Ee("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;throw e}return Ee("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Tr.uo((function(){return t.Kh(e)})),t.isPrimary=e}))},t.prototype.co=function(t){var e=this;return vn(t).get(Sn.key).next((function(t){return je.resolve(e.fo(t))}))},t.prototype.To=function(t){return mn(t).delete(this.clientId)},t.prototype.Eo=function(){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.Io(this.jh,18e5)?[3,2]:(this.jh=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(n){var r=t.Nr(n,Fn.store);return r.Fr().next((function(t){var n=e.wo(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return je.forEach(i,(function(t){return r.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.Ro(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.io=function(){var t=this;this.Wh=this.Tr.yr("client_metadata_refresh",4e3,(function(){return t.to().then((function(){return t.Eo()})).then((function(){return t.io()}))}))},t.prototype.fo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype._o=function(t){var e=this;return vn(t).get(Sn.key).next((function(n){if(null!==n&&e.Io(n.leaseTimestampMs,5e3)&&!e.Ao(n.ownerId)){if(e.fo(n)&&e.networkEnabled)return!0;if(!e.fo(n)){if(!n.allowTabSynchronization)throw new f(l.FAILED_PRECONDITION,fn);return!1}}return!(!e.networkEnabled||!e.inForeground)||mn(t).Fr().next((function(t){return void 0===e.wo(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Ee("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.mo=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){switch(e.label){case 0:return this.qh=!1,this.Po(),this.Wh&&(this.Wh.cancel(),this.Wh=null),this.Vo(),this.po(),[4,this.runTransaction("shutdown","readwrite",(function(e){return t.lo(e).next((function(){return t.To(e)}))})).catch((function(t){Ee("IndexedDbPersistence","Proceeding with shutdown despite failure: ",t)}))];case 1:return e.sent(),this.Zh.close(),this.yo(),[2]}}))}))},t.prototype.wo=function(t,e){var n=this;return t.filter((function(t){return n.Io(t.updateTimeMs,e)&&!n.Ao(t.clientId)}))},t.prototype.bo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return mn(e).Fr().next((function(e){return t.wo(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return t.Gh()?(n=e+t.Hh,[4,Bn.delete(n)]):[2,Promise.resolve()];case 1:return r.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"ro",{get:function(){return this.qh},enumerable:!0,configurable:!0}),t.prototype.vo=function(t){return bn.So(t,this.serializer,this.jn,this.hh)},t.prototype.Do=function(){return this.Yh},t.prototype.Co=function(){return this.Qn},t.prototype.Fo=function(){return this.jn},t.prototype.runTransaction=function(t,e,n){var r=this;Ee("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Zh.runTransaction(o,qn,(function(o){return i=new pn(o,r.Bh?r.Bh.next():Be.dr),"readwrite-primary"===e?r.co(i).next((function(t){return!!t||r._o(i)})).next((function(e){if(!e)throw Ie("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Tr.uo((function(){return r.Kh(!1)})),new f(l.FAILED_PRECONDITION,Ve);return n(i)})).next((function(t){return r.do(i).next((function(){return t}))})):r.No(i).next((function(){return n(i)}))})).then((function(t){return i.Un(),t}))},t.prototype.No=function(t){var e=this;return vn(t).get(Sn.key).next((function(t){if(null!==t&&e.Io(t.leaseTimestampMs,5e3)&&!e.Ao(t.ownerId)&&!e.fo(t)&&(!e.allowTabSynchronization||!t.allowTabSynchronization))throw new f(l.FAILED_PRECONDITION,fn)}))},t.prototype.do=function(t){var e=new Sn(this.clientId,this.allowTabSynchronization,Date.now());return vn(t).put(Sn.key,e)},t.Gh=function(){return Bn.Gh()},t.$o=function(t){var e=t.ii.projectId;return t.ii.ln||(e+="."+t.ii.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.lo=function(t){var e=this,n=vn(t);return n.get(Sn.key).next((function(t){return e.fo(t)?(Ee("IndexedDbPersistence","Releasing primary lease."),n.delete(Sn.key)):je.resolve()}))},t.prototype.Io=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Ie("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.eo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Qh=function(){t.Tr.uo((function(){return t.inForeground="visible"===t.document.visibilityState,t.to()}))},this.document.addEventListener("visibilitychange",this.Qh),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Vo=function(){this.Qh&&(this.document.removeEventListener("visibilitychange",this.Qh),this.Qh=null)},t.prototype.so=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.Uh=function(){t.Po(),t.Tr.uo((function(){return t.mo()}))},this.window.addEventListener("unload",this.Uh))},t.prototype.po=function(){this.Uh&&(this.window.removeEventListener("unload",this.Uh),this.Uh=null)},t.prototype.Ao=function(t){try{var e=null!==this.Jh.getItem(this.Ro(t));return Ee("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return Ie("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Po=function(){try{this.Jh.setItem(this.Ro(this.clientId),String(Date.now()))}catch(t){Ie("Failed to set zombie client id.",t)}},t.prototype.yo=function(){try{this.Jh.removeItem(this.Ro(this.clientId))}catch(t){}},t.prototype.Ro=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function vn(t){return dn.Nr(t,Sn.store)}function mn(t){return dn.Nr(t,Fn.store)}dn.Hh="main";var gn=function(){function t(t,e){this.db=t,this.ko=new sr(this,e)}return t.prototype.Lo=function(t){var e=this.Mo(t);return this.db.Do().Vh(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Mo=function(t){var e=0;return this.Oo(t,(function(t){e++})).next((function(){return e}))},t.prototype.js=function(t,e){return this.db.Do().js(t,e)},t.prototype.Oo=function(t,e){return this.xo(t,(function(t,n){return e(n)}))},t.prototype.yh=function(t,e,n){return yn(t,n)},t.prototype.vh=function(t,e,n){return yn(t,n)},t.prototype.Ah=function(t,e,n){return this.db.Do().Ah(t,e,n)},t.prototype.Bo=function(t,e){return yn(t,e)},t.prototype.qo=function(t,e){return function(t,e){var n=!1;return Tn(t).Uo((function(r){return wn(t,r,e).next((function(t){return t&&(n=!0),je.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Qo=function(t,e){var n=this,r=this.db.Co().Yr(),i=[],o=0;return this.xo(t,(function(s,a){if(a<=e){var u=n.qo(t,s).next((function(e){if(!e)return o++,r.Ln(t,s).next((function(){return r.kn(s),hn(t).delete([0,ze(s.path)])}))}));i.push(u)}})).next((function(){return je.vn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Ie(t.Oh);return this.db.Do().Ih(t,n)},t.prototype.Wo=function(t,e){return yn(t,e)},t.prototype.xo=function(t,e){var n,r=hn(t),i=Be.dr;return r.Ur({index:jn.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==Be.dr&&e(new T(Ye(n)),i),i=a,n=s):i=Be.dr})).next((function(){i!==Be.dr&&e(new T(Ye(n)),i)}))},t.prototype.jo=function(t){return this.db.Co().Zr(t)},t}();function yn(t,e){return hn(t).put(function(t,e){return new jn(0,ze(t.path),e)}(e,t.Oh))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var bn=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.jn=n,this.hh=r,this.Ko={}}return t.So=function(e,n,r,i){return Ae(""!==e.uid),new t(e.t()?e.uid:"",n,r,i)},t.prototype.Go=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return En(t).Ur({index:On.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.zo=function(t,e,n){return this.Ho(t).next((function(e){return e.lastStreamToken=n.toBase64(),Tn(t).put(e)}))},t.prototype.Yo=function(t){return this.Ho(t).next((function(t){return S.fromBase64String(t.lastStreamToken)}))},t.prototype.Jo=function(t,e){return this.Ho(t).next((function(n){return n.lastStreamToken=e.toBase64(),Tn(t).put(n)}))},t.prototype.Xo=function(t,e,n,r){var i=this,o=In(t),s=En(t);return s.add({}).next((function(a){Ae("number"==typeof a);for(var u=new Re(a,e,n,r),c=i.serializer.kh(i.userId,u),h=[],l=new jt((function(t,e){return xe(t.j(),e.j())})),f=0,p=r;f<p.length;f++){var d=p[f],v=Dn.key(i.userId,d.key.path,a);l=l.add(d.key.path.L()),h.push(s.put(c)),h.push(o.put(v,Dn.PLACEHOLDER))}return l.forEach((function(e){h.push(i.jn.Dr(t,e))})),t.qn((function(){i.Ko[a]=u.keys()})),je.vn(h).next((function(){return u}))}))},t.prototype.Zo=function(t,e){var n=this;return En(t).get(e).next((function(t){return t?(Ae(t.userId===n.userId),n.serializer.Lh(t)):null}))},t.prototype.ta=function(t,e){var n=this;return this.Ko[e]?je.resolve(this.Ko[e]):this.Zo(t,e).next((function(t){if(t){var r=t.keys();return n.Ko[e]=r,r}return null}))},t.prototype.ea=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return En(t).Ur({index:On.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Ae(e.batchId>=r),o=n.serializer.Lh(e)),i.done()})).next((function(){return o}))},t.prototype.sa=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return En(t).Ur({index:On.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.ia=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return En(t).Fr(On.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.Lh(t)}))}))},t.prototype.Gn=function(t,e){var n=this,r=Dn.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return In(t).Ur({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],h=Ye(u);if(a===n.userId&&e.path.isEqual(h))return En(t).get(c).next((function(t){if(!t)throw ke();Ae(t.userId===n.userId),o.push(n.serializer.Lh(t))}));s.done()})).next((function(){return o}))},t.prototype.Xn=function(t,e){var n=this,r=new jt(xe),i=[];return e.forEach((function(e){var o=Dn.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=In(t).Ur({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=Ye(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),je.vn(i).next((function(){return n.na(t,r)}))},t.prototype.nr=function(t,e){var n=this,r=e.path,i=r.length+1,o=Dn.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new jt(xe);return In(t).Ur({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],h=Ye(u);s===n.userId&&r.q(h)?h.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.na(t,a)}))},t.prototype.na=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(En(t).get(e).next((function(t){if(null===t)throw ke();Ae(t.userId===n.userId),r.push(n.serializer.Lh(t))})))})),je.vn(i).next((function(){return r}))},t.prototype.ra=function(t,e){var n=this;return _n(t.Mh,this.userId,e).next((function(r){return t.qn((function(){n.ha(e.batchId)})),je.forEach(r,(function(e){return n.hh.Bo(t,e)}))}))},t.prototype.ha=function(t){delete this.Ko[t]},t.prototype.oa=function(t){var e=this;return this.Go(t).next((function(n){if(!n)return je.resolve();var r=IDBKeyRange.lowerBound(Dn.prefixForUser(e.userId)),i=[];return In(t).Ur({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Ye(t[1]);i.push(o)}else r.done()})).next((function(){Ae(0===i.length)}))}))},t.prototype.Ch=function(t,e){return wn(t,this.userId,e)},t.prototype.Ho=function(t){var e=this;return Tn(t).get(this.userId).next((function(t){return t||new xn(e.userId,-1,"")}))},t}();function wn(t,e,n){var r=Dn.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return In(t).Ur({range:o,Dh:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function _n(t,e,n){var r=t.store(On.store),i=t.store(Dn.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ur({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Ae(1===a)})));for(var c=[],h=0,l=n.mutations;h<l.length;h++){var f=l[h],p=Dn.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return je.vn(o).next((function(){return c}))}function En(t){return dn.Nr(t,On.store)}function In(t){return dn.Nr(t,Dn.store)}function Tn(t){return dn.Nr(t,xn.store)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var kn=10,An=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Ae(n<r&&n>=0&&r<=kn);var o=new Hn(e);n<1&&r>=1&&(function(t){t.createObjectStore(Sn.store)}(t),function(t){t.createObjectStore(xn.store,{keyPath:xn.keyPath}),t.createObjectStore(On.store,{keyPath:On.keyPath,autoIncrement:!0}).createIndex(On.userMutationsIndex,On.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Dn.store)}(t),$n(t),function(t){t.createObjectStore(Pn.store)}(t));var s=je.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(jn.store),t.deleteObjectStore(Mn.store),t.deleteObjectStore(Un.store)}(t),$n(t)),s=s.next((function(){return function(t){var e=t.store(Un.store),n=new Un(0,0,b.min().C(),0);return e.put(Un.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(On.store).Fr().next((function(n){t.deleteObjectStore(On.store),t.createObjectStore(On.store,{keyPath:On.keyPath,autoIncrement:!0}).createIndex(On.userMutationsIndex,On.userMutationsKeyPath,{unique:!0});var r=e.store(On.store),i=n.map((function(t){return r.put(t)}));return je.vn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Fn.store,{keyPath:Fn.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Rn.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Pn.store);e.createIndex(Pn.readTimeIndex,Pn.readTimeIndexPath,{unique:!1}),e.createIndex(Pn.collectionReadTimeIndex,Pn.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Pn.store).Ur((function(t,n){e+=on(n)})).next((function(){var n=new Rn(e);return t.store(Rn.store).put(Rn.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(xn.store),r=t.store(On.store);return n.Fr().next((function(n){return je.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Fr(On.userMutationsIndex,i).next((function(r){return je.forEach(r,(function(r){Ae(r.userId===n.userId);var i=e.serializer.Lh(r);return _n(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(jn.store),n=t.store(Pn.store);return t.store(Un.store).get(Un.key).next((function(t){var r=[];return n.Ur((function(n,i){var o=new _(n),s=function(t){return[0,ze(t)]}(o);r.push(e.get(s).next((function(n){return n?je.resolve():function(n){return e.put(new jn(0,ze(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return je.vn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Vn.store,{keyPath:Vn.keyPath});var n=e.store(Vn.store),r=new Je,i=function(t){if(r.add(t)){var e=t.O(),i=t.L();return n.put({collectionId:e,parent:ze(i)})}};return e.store(Pn.store).Ur({Dh:!0},(function(t,e){var n=new _(t);return i(n.L())})).next((function(){return e.store(Dn.store).Ur({Dh:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Ye(n));return i(r.L())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Mn.store);return n.Ur((function(t,r){var i=e.serializer.mh(r),o=e.serializer.Ph(i);return n.put(o)}))},t}(),Nn=function(t,e){this.seconds=t,this.nanoseconds=e},Sn=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Sn.store="owner",Sn.key="owner";var xn=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};xn.store="mutationQueues",xn.keyPath="userId";var On=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};On.store="mutations",On.keyPath="batchId",On.userMutationsIndex="userMutationsIndex",On.userMutationsKeyPath=["userId","batchId"];var Dn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ze(e)]},t.key=function(t,e,n){return[t,ze(e),n]},t}();Dn.store="documentMutations",Dn.PLACEHOLDER=new Dn;var Cn=function(t,e){this.path=t,this.readTime=e},Ln=function(t,e){this.path=t,this.version=e},Pn=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Pn.store="remoteDocuments",Pn.readTimeIndex="readTimeIndex",Pn.readTimeIndexPath="readTime",Pn.collectionReadTimeIndex="collectionReadTimeIndex",Pn.collectionReadTimeIndexPath=["parentPath","readTime"];var Rn=function(t){this.byteSize=t};Rn.store="remoteDocumentGlobal",Rn.key="remoteDocumentGlobalKey";var Mn=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Mn.store="targets",Mn.keyPath="targetId",Mn.queryTargetsIndexName="queryTargetsIndex",Mn.queryTargetsKeyPath=["canonicalId","targetId"];var jn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};jn.store="targetDocuments",jn.keyPath=["targetId","path"],jn.documentTargetsIndex="documentTargetsIndex",jn.documentTargetsKeyPath=["path","targetId"];var Un=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Un.key="targetGlobalKey",Un.store="targetGlobal";var Vn=function(t,e){this.collectionId=t,this.parent=e};function $n(t){t.createObjectStore(jn.store,{keyPath:jn.keyPath}).createIndex(jn.documentTargetsIndex,jn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Mn.store,{keyPath:Mn.keyPath}).createIndex(Mn.queryTargetsIndexName,Mn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Un.store)}Vn.store="collectionParents",Vn.keyPath=["collectionId","parent"];var Fn=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Fn.store="clientMetadata",Fn.keyPath="clientId";var qn=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([xn.store,On.store,Dn.store,Pn.store,Mn.store,Sn.store,Un.store,jn.store],[Fn.store]),[Rn.store]),[Vn.store]),Bn=function(){function t(e){this.db=e,12.2===t.aa(s.getUA())&&Ie("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.Xh=function(e,n,r){return Ee("SimpleDb","Opening database:",e),new je((function(i,o){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){var n=e.target.result;i(new t(n))},s.onblocked=function(){o(new f(l.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;"VersionError"===e.name?o(new f(l.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o(e)},s.onupgradeneeded=function(t){Ee("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result;r.createOrUpgrade(n,s.transaction,t.oldVersion,kn).next((function(){Ee("SimpleDb","Database upgrade to version "+kn+" complete")}))}})).yn()},t.delete=function(t){return Ee("SimpleDb","Removing database:",t),Yn(window.indexedDB.deleteDatabase(t)).yn()},t.Gh=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.ua())return!0;if(void 0===window.navigator)return!1;var e=s.getUA(),n=t.aa(e),r=0<n&&n<10,i=t.ca(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.ua=function(){var t;return"undefined"!=typeof __PRIVATE_process&&"YES"===(null===(t=__PRIVATE_process.__PRIVATE_env)||void 0===t?void 0:t._a)},t.Nr=function(t,e){return t.store(e)},t.aa=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.ca=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.oo=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u;return r.__generator(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,s=function(){var t,s,u,c,h;return r.__generator(this,(function(r){switch(r.label){case 0:++o,t=Hn.open(a.db,i?"readonly":"readwrite",e),r.label=1;case 1:return r.trys.push([1,3,,4]),s=n(t).catch((function(e){return t.abort(e),je.reject(e)})).yn(),u={},s.catch((function(){})),[4,t.la];case 2:return[2,(u.value=(r.sent(),s),u)];case 3:return c=r.sent(),h="FirebaseError"!==c.name&&o<3,Ee("SimpleDb","Transaction failed with error: %s. Retrying: %s.",c.message,h),h?[3,4]:[2,{value:Promise.reject(c)}];case 4:return[2]}}))},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),Gn=function(){function t(t){this.da=t,this.fa=!1,this.Ta=null}return Object.defineProperty(t.prototype,"Pn",{get:function(){return this.fa},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Ea",{get:function(){return this.Ta},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.da=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.fa=!0},t.prototype.Qr=function(t){this.Ta=t},t.prototype.delete=function(){return Yn(this.da.delete())},t}(),Wn=function(t){function e(e){var n=this;return(n=t.call(this,l.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return r.__extends(e,t),e}(f);function zn(t){return"IndexedDbTransactionError"===t.name}var Hn=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.Ia=new Ge,this.transaction.oncomplete=function(){e.Ia.resolve()},this.transaction.onabort=function(){t.error?e.Ia.reject(new Wn(t.error)):e.Ia.resolve()},this.transaction.onerror=function(t){var n=Jn(t.target.error);e.Ia.reject(new Wn(n))}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"la",{get:function(){return this.Ia.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.Ia.reject(t),this.aborted||(Ee("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Kn(e)},t}(),Kn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ee("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ee("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Yn(n)},t.prototype.add=function(t){return Ee("SimpleDb","ADD",this.store.name,t,t),Yn(this.store.add(t))},t.prototype.get=function(t){var e=this;return Yn(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Ee("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Ee("SimpleDb","DELETE",this.store.name,t),Yn(this.store.delete(t))},t.prototype.count=function(){return Ee("SimpleDb","COUNT",this.store.name),Yn(this.store.count())},t.prototype.Fr=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.wa(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ra=function(t,e){Ee("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Dh=!1;var r=this.cursor(n);return this.wa(r,(function(t,e,n){return n.delete()}))},t.prototype.Ur=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.wa(r,e)},t.prototype.Uo=function(t){var e=this.cursor({});return new je((function(n,r){e.onerror=function(t){var e=Jn(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.wa=function(t,e){var n=[];return new je((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Gn(i),s=e(i.primaryKey,i.value,o);if(s instanceof je){var a=s.catch((function(t){return o.done(),je.reject(t)}));n.push(a)}o.Pn?r():null===o.Ea?i.continue():i.continue(o.Ea)}else r()}})).next((function(){return je.vn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Dh?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Yn(t){return new je((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Jn(t.target.error);n(e)}}))}var Xn=!1;function Jn(t){var e=Bn.aa(s.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new f("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Xn||(Xn=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Qn=function(){function t(t,e,n,r,i){this.Aa=t,this.Er=e,this.ma=n,this.op=r,this.Pa=i,this.Va=new Ge,this.then=this.Va.promise.then.bind(this.Va.promise),this.Va.promise.catch((function(t){}))}return t.ga=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.pa=setTimeout((function(){return e.ya()}),t)},t.prototype.vr=function(){return this.ya()},t.prototype.cancel=function(t){null!==this.pa&&(this.clearTimeout(),this.Va.reject(new f(l.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ya=function(){var t=this;this.Aa.uo((function(){return null!==t.pa?(t.clearTimeout(),t.op().then((function(e){return t.Va.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.pa&&(this.Pa(this),clearTimeout(this.pa),this.pa=null)},t}(),Zn=function(){function t(){var t=this;this.ba=Promise.resolve(),this.va=Promise.resolve(),this.Sa=!1,this.Da=[],this.Ca=null,this.Fa=!1,this.Na=[],this.$a=new We(this,"async_queue_retry"),this.ka=function(){return t.$a.br()};var e=ye.nt().window;e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.ka)}return Object.defineProperty(t.prototype,"La",{get:function(){return this.Sa},enumerable:!0,configurable:!0}),t.prototype.uo=function(t){this.enqueue(t)},t.prototype.Ma=function(t){this.Oa(),this.xa(t)},t.prototype.Ba=function(t){return this.Oa(),this.xa(t)},t.prototype.qa=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return this.Oa(),this.Sa?[3,2]:(this.Sa=!0,(e=ye.nt().window)&&e.removeEventListener("visibilitychange",this.ka),[4,this.Ba(t)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.Oa(),this.Sa?new Promise((function(t){})):this.xa(t)},t.prototype.Ua=function(t){var e=this;this.Oa(),this.Sa||(this.va=this.va.then((function(){var n=new Ge,i=function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t()];case 1:return r.sent(),n.resolve(),this.$a.reset(),[3,3];case 2:if(!zn(e=r.sent()))throw n.resolve(),e;return Ee("AsyncQueue","Operation failed with retryable error: "+e),this.$a.gr(i),[3,3];case 3:return[2]}}))}))};return e.uo(i),n.promise})))},t.prototype.xa=function(t){var e=this,n=this.ba.then((function(){return e.Fa=!0,t().catch((function(t){throw e.Ca=t,e.Fa=!1,Ie("INTERNAL UNHANDLED ERROR: ",t.stack||t.message||""),t})).then((function(t){return e.Fa=!1,t}))}));return this.ba=n,n},t.prototype.yr=function(t,e,n){var r=this;this.Oa(),this.Na.indexOf(t)>-1&&(e=0);var i=Qn.ga(this,t,e,n,(function(t){return r.Qa(t)}));return this.Da.push(i),i},t.prototype.Oa=function(){this.Ca&&ke()},t.prototype.Wa=function(){},t.prototype.ja=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.ba];case 1:e.sent(),e.label=2;case 2:if(t!==this.ba)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Ka=function(t){for(var e=0,n=this.Da;e<n.length;e++)if(n[e].Er===t)return!0;return!1},t.prototype.Ga=function(t){var e=this;return this.ja().then((function(){e.Da.sort((function(t,e){return t.ma-e.ma}));for(var n=0,r=e.Da;n<r.length;n++){var i=r[n];if(i.vr(),"all"!==t&&i.Er===t)break}return e.ja()}))},t.prototype.za=function(t){this.Na.push(t)},t.prototype.Qa=function(t){var e=this.Da.indexOf(t);this.Da.splice(e,1)},t}();function tr(t,e){if(Ie("AsyncQueue",e+": "+t),zn(t))return new f(l.UNAVAILABLE,e+": "+t);throw t}
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function er(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=xe(n,i);return 0===s?xe(r,o):s}var nr=function(){function t(t){this.Ha=t,this.buffer=new jt(er),this.Ya=0}return t.prototype.Ja=function(){return++this.Ya},t.prototype.Xa=function(t){var e=[t,this.Ja()];if(this.buffer.size<this.Ha)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();er(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),rr={Za:!1,tu:0,eu:0,su:0},ir=function(){function t(t,e,n){this.iu=t,this.nu=e,this.ru=n}return t.hu=function(e){return new t(e,t.ou,t.au)},t}();ir.uu=-1,ir.cu=1048576,ir._u=41943040,ir.ou=10,ir.au=1e3,ir.lu=new ir(ir._u,ir.ou,ir.au),ir.DISABLED=new ir(ir.uu,0,0);var or=function(){function t(t,e){this.ko=t,this.Aa=e,this.du=!1,this.fu=null}return t.prototype.start=function(t){this.ko.Tu.iu!==ir.uu&&this.Eu(t)},t.prototype.stop=function(){this.fu&&(this.fu.cancel(),this.fu=null)},Object.defineProperty(t.prototype,"ro",{get:function(){return null!==this.fu},enumerable:!0,configurable:!0}),t.prototype.Eu=function(t){var e=this,n=this.du?3e5:6e4;Ee("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fu=this.Aa.yr("lru_garbage_collection",n,(function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:this.fu=null,this.du=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Iu(this.ko)];case 2:return n.sent(),[3,7];case 3:return zn(e=n.sent())?(Ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,cr(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Eu(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),sr=function(){function t(t,e){this.wu=t,this.Tu=e}return t.prototype.Ru=function(t,e){return this.wu.Lo(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Au=function(t,e){var n=this;if(0===e)return je.resolve(Be.dr);var r=new nr(e);return this.wu.js(t,(function(t){return r.Xa(t.sequenceNumber)})).next((function(){return n.wu.Oo(t,(function(t){return r.Xa(t)}))})).next((function(){return r.maxValue}))},t.prototype.Ah=function(t,e,n){return this.wu.Ah(t,e,n)},t.prototype.Qo=function(t,e){return this.wu.Qo(t,e)},t.prototype.mu=function(t,e){var n=this;return this.Tu.iu===ir.uu?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(rr)):this.jo(t).next((function(r){return r<n.Tu.iu?(Ee("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.Tu.iu),rr):n.Pu(t,e)}))},t.prototype.jo=function(t){return this.wu.jo(t)},t.prototype.Pu=function(t,e){var n,r,i,s,a,u,c,h=this,l=Date.now();return this.Ru(t,this.Tu.nu).next((function(e){return e>h.Tu.ru?(Ee("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.Tu.ru+" from "+e),r=h.Tu.ru):r=e,s=Date.now(),h.Au(t,r)})).next((function(r){return n=r,a=Date.now(),h.Ah(t,n,e)})).next((function(e){return i=e,u=Date.now(),h.Qo(t,n)})).next((function(t){return c=Date.now(),we()<=o.LogLevel.DEBUG&&Ee("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-s)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-l)+"ms"),je.resolve({Za:!0,tu:r,eu:i,su:t})}))},t}(),ar=function(){function t(t,e,n){this.persistence=t,this.Vu=e,this.gu=new Pt(xe),this.pu=new Pe((function(t){return t.canonicalId()})),this.yu=b.min(),this.Wn=t.vo(n),this.bu=t.Co(),this.Yh=t.Do(),this.vu=new Fe(this.bu,this.Wn,this.persistence.Fo()),this.Vu.Su(this.vu)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Du=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o=this;return r.__generator(this,(function(r){switch(r.label){case 0:return e=this.Wn,n=this.vu,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var i;return o.Wn.ia(r).next((function(s){return i=s,e=o.persistence.vo(t),n=new Fe(o.bu,e,o.persistence.Fo()),e.ia(r)})).next((function(t){for(var e=[],o=[],s=Ht(),a=0,u=i;a<u.length;a++){var c=u[a];e.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++){var f=l[h];s=s.add(f.key)}}for(var p=0,d=t;p<d.length;p++){var v=d[p];o.push(v.batchId);for(var m=0,g=v.mutations;m<g.length;m++){var y=g[m];s=s.add(y.key)}}return n.Yn(r,s).next((function(t){return{Cu:t,Fu:e,Nu:o}}))}))}))];case 1:return i=r.sent(),[2,(this.Wn=e,this.vu=n,this.Vu.Su(this.vu),i)]}}))}))},t.prototype.$u=function(t){var e,n=this,r=y.now(),i=t.reduce((function(t,e){return t.add(e.key)}),Ht());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.vu.Yn(o,i).next((function(i){e=i;for(var s=[],a=0,u=t;a<u.length;a++){var c=u[a],h=c.Pt(e.get(c.key));null!=h&&s.push(new at(c.key,h,pt(h.proto.mapValue),it.exists(!0)))}return n.Wn.Xo(o,r,s,t)}))})).then((function(t){var n=t.In(e);return{batchId:t.batchId,Dn:n}}))},t.prototype.zo=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.bu.Yr({Xr:!0});return e.Wn.zo(n,t.batch,t.streamToken).next((function(){return e.ku(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.Wn.oa(n)})).next((function(){return e.vu.Yn(n,r)}))}))},t.prototype.Lu=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.Wn.Zo(n,t).next((function(t){return Ae(null!==t),r=t.keys(),e.Wn.ra(n,t)})).next((function(){return e.Wn.oa(n)})).next((function(){return e.vu.Yn(n,r)}))}))},t.prototype.sa=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Wn.sa(e)}))},t.prototype.Yo=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(e){return t.Wn.Yo(e)}))},t.prototype.Jo=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return e.Wn.Jo(n,t)}))},t.prototype._h=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Yh._h(e)}))},t.prototype.Mu=function(e){var n=this,r=e.Ee,i=this.gu;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var s=n.bu.Yr({Xr:!0});i=n.gu;var a=[];e.as.forEach((function(e,s){var u=i.get(s);if(u){a.push(n.Yh.bh(o,e.Is,s).next((function(){return n.Yh.ph(o,e.Ts,s)})));var c=e.resumeToken;if(c.rt()>0){var h=u.we(c,r).Ie(o.Oh);i=i.Ae(s,h),t.Ou(u,h,e)&&a.push(n.Yh.Ih(o,h))}}}));var u=$t(),c=Ht();if(e.cs.forEach((function(t,e){c=c.add(t)})),a.push(s.getEntries(o,c).next((function(t){e.cs.forEach((function(i,c){var h=t.get(i);c instanceof yt&&c.version.isEqual(b.min())?(s.kn(i,r),u=u.Ae(i,c)):null==h||c.version.S(h.version)>0||0===c.version.S(h.version)&&h.hasPendingWrites?(s.Nn(c,r),u=u.Ae(i,c)):Ee("LocalStore","Ignoring outdated watch update for ",i,". Current version:",h.version," Watch version:",c.version),e._s.has(i)&&a.push(n.persistence.hh.Wo(o,i))}))}))),!r.isEqual(b.min())){var h=n.Yh._h(o).next((function(t){return n.Yh.dh(o,o.Oh,r)}));a.push(h)}return je.vn(a).next((function(){return s.apply(o)})).next((function(){return n.vu.Jn(o,u)}))})).then((function(t){return n.gu=i,t}))},t.Ou=function(t,e,n){return Ae(e.resumeToken.rt()>0),0===t.resumeToken.rt()||e.Ee.D()-t.Ee.D()>=this.xu||n.Ts.size+n.Es.size+n.Is.size>0},t.prototype.Bu=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s,a,u,c,h=this;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return je.forEach(t,(function(t){return je.forEach(t.hr,(function(n){return h.persistence.hh.yh(e,t.targetId,n)})).next((function(){return je.forEach(t.or,(function(n){return h.persistence.hh.vh(e,t.targetId,n)}))}))}))}))];case 1:return r.sent(),[3,3];case 2:if(!zn(e=r.sent()))throw e;return Ee("LocalStore","Failed to update sequence numbers: "+e),[3,3];case 3:for(n=0,i=t;n<i.length;n++)o=i[n],s=o.targetId,o.fromCache||(a=this.gu.get(s),u=a.Ee,c=a.Re(u),this.gu=this.gu.Ae(s,c));return[2]}}))}))},t.prototype.qu=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.Wn.ea(n,t)}))},t.prototype.Uu=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.vu.Kn(n,t)}))},t.prototype.Qu=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return e.Yh.gh(n,t).next((function(i){return i?(r=i,je.resolve(r)):e.Yh.oh(n).next((function(i){return r=new Ot(t,i,0,n.Oh),e.Yh.fh(n,r).next((function(){return r}))}))}))})).then((function(n){return null===e.gu.get(n.targetId)&&(e.gu=e.gu.Ae(n.targetId,n),e.pu.set(t,n.targetId)),n}))},t.prototype.gh=function(t,e){var n=this.pu.get(e);return void 0!==n?je.resolve(this.gu.get(n)):this.Yh.gh(t,e)},t.prototype.Wu=function(t,e){var n=this,r=this.gu.get(t),i=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release target",i,(function(t){return e?je.resolve():n.persistence.hh.removeTarget(t,r)})).then((function(){n.gu=n.gu.remove(t),n.pu.delete(r.target)}))},t.prototype.ju=function(t,e){var n=this,r=b.min(),i=Ht();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.gh(o,t.ee()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.Yh.Sh(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.Vu.Zn(o,t,e?r:b.min(),e?i:Ht())})).next((function(t){return{documents:t,Ku:i}}))}))},t.prototype.ku=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=je.resolve();return o.forEach((function(r){s=s.next((function(){return n.Ln(t,r)})).next((function(t){var o=t,s=e.Rn.get(r);Ae(null!==s),(!o||o.version.S(s)<0)&&(o=i.at(r,o,e))&&n.Nn(o,e.wn)}))})),s.next((function(){return r.Wn.ra(t,i)}))},t.prototype.Iu=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.mu(n,e.gu)}))},t}();ar.xu=3e8;var ur=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).persistence=e,i.Wn=e.vo(r),i.bu=e.Co(),i.Yh=e.Do(),i}return r.__extends(e,t),e.prototype.start=function(){return this.Gu()},e.prototype.zu=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.Wn.ta(n,t).next((function(t){return t?e.vu.Yn(n,t):je.resolve(null)}))}))},e.prototype.Hu=function(t){this.Wn.ha(t)},e.prototype.ao=function(t){this.persistence.ao(t)},e.prototype.bo=function(){return this.persistence.bo()},e.prototype.Yu=function(t){var e=this,n=this.gu.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.Yh.si(n,t).next((function(t){return t?t.target:null}))}))},e.prototype.Kr=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.bu.Kr(e,t.yu)})).then((function(e){var n=e.Gr,r=e.readTime;return t.yu=r,n}))},e.prototype.Gu=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.bu.Hr(t)}))];case 1:return t.yu=n.sent(),[2]}}))}))},e}(ar);function cr(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){if(t.code!==l.FAILED_PRECONDITION||t.message!==Ve)throw t;return Ee("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var hr=function(){function t(){this.Ju=new jt(lr.Xu),this.Zu=new jt(lr.tc)}return t.prototype.B=function(){return this.Ju.B()},t.prototype.yh=function(t,e){var n=new lr(t,e);this.Ju=this.Ju.add(n),this.Zu=this.Zu.add(n)},t.prototype.ec=function(t,e){var n=this;t.forEach((function(t){return n.yh(t,e)}))},t.prototype.vh=function(t,e){this.sc(new lr(t,e))},t.prototype.ic=function(t,e){var n=this;t.forEach((function(t){return n.vh(t,e)}))},t.prototype.nc=function(t){var e=this,n=T.EMPTY,r=new lr(n,t),i=new lr(n,t+1),o=[];return this.Zu.Ke([r,i],(function(t){e.sc(t),o.push(t.key)})),o},t.prototype.rc=function(){var t=this;this.Ju.forEach((function(e){return t.sc(e)}))},t.prototype.sc=function(t){this.Ju=this.Ju.delete(t),this.Zu=this.Zu.delete(t)},t.prototype.hc=function(t){var e=T.EMPTY,n=new lr(e,t),r=new lr(e,t+1),i=Ht();return this.Zu.Ke([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Ch=function(t){var e=new lr(t,0),n=this.Ju.ze(e);return null!==n&&t.isEqual(n.key)},t}(),lr=function(){function t(t,e){this.key=t,this.oc=e}return t.Xu=function(t,e){return T.N(t.key,e.key)||xe(t.oc,e.oc)},t.tc=function(t,e){return xe(t.oc,e.oc)||T.N(t.key,e.key)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function fr(t,e){if(0!==e.length)throw new f(l.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+xr(e.length,"argument")+".")}function pr(t,e,n){if(e.length!==n)throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires "+xr(n,"argument")+", but was called with "+xr(e.length,"argument")+".")}function dr(t,e,n){if(e.length<n)throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires at least "+xr(n,"argument")+", but was called with "+xr(e.length,"argument")+".")}function vr(t,e,n,r){if(e.length<n||e.length>r)throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+xr(e.length,"argument")+".")}function mr(t,e,n,r){_r(t,e,Sr(n)+" argument",r)}function gr(t,e,n,r){void 0!==r&&mr(t,e,n,r)}function yr(t,e,n,r){_r(t,e,n+" option",r)}function br(t,e,n,r){void 0!==r&&yr(t,e,n,r)}function wr(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(Ir(u))}var c=Ir(r);throw new f(l.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function _r(t,e,n,r){if(!("object"===e?Er(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=Ir(r);throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function Er(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Ir(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ke()}function Tr(t,e,n){if(void 0===n)throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Sr(e)+" argument, but it was undefined.")}function kr(t,e,n){A(e,(function(e,r){if(n.indexOf(e)<0)throw new f(l.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function Ar(t,e,n,r){var i=Ir(r);return new f(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+Sr(n)+" argument to be a "+e+", but it was: "+i)}function Nr(t,e,n){if(n<=0)throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+Sr(e)+" argument to be a positive number, but it was: "+n+".")}function Sr(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function xr(t,e){return t+" "+e+(1===t?"":"s")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Or(){if("undefined"==typeof Uint8Array)throw new f(l.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Dr(){if(!ye.nt().ac)throw new f(l.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Cr=function(){function t(t){Dr(),this.uc=t}return t.fromBase64String=function(e){pr("Blob.fromBase64String",arguments,1),mr("Blob.fromBase64String","string",1,e),Dr();try{return new t(S.fromBase64String(e))}catch(e){throw new f(l.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(pr("Blob.fromUint8Array",arguments,1),Or(),!(e instanceof Uint8Array))throw Ar("Blob.fromUint8Array","Uint8Array",1,e);return new t(S.fromUint8Array(e))},t.prototype.toBase64=function(){return pr("Blob.toBase64",arguments,0),Dr(),this.uc.toBase64()},t.prototype.toUint8Array=function(){return pr("Blob.toUint8Array",arguments,0),Or(),this.uc.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.uc.isEqual(t.uc)},t}(),Lr=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new f(l.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+xr(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(mr("FieldPath","string",n,t[n]),0===t[n].length)throw new f(l.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.cc=new I(t)}return t.documentId=function(){return t._c},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Ar("isEqual","FieldPath",1,e);return this.cc.isEqual(e.cc)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */Lr._c=new Lr(I.J().j());var Pr=new RegExp("[~\\*/\\[\\]]"),Rr=function(t){this.lc=t},Mr=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return r.__extends(e,t),e.prototype.Di=function(t){if(2!==t.dc)throw 1===t.dc?t.fc("FieldValue.delete() can only appear at the top level of your update data"):t.fc("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");return t.Vt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Rr),jr=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return r.__extends(e,t),e.prototype.Di=function(t){return new nt(t.path,X.instance)},e.prototype.isEqual=function(t){return t instanceof e},e}(Rr),Ur=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.arrayUnion")||this).Tc=e,n}return r.__extends(e,t),e.prototype.Di=function(t){var e=new zr({dc:3,methodName:this.lc,Ec:!0},t.ii,t.serializer,t.ignoreUndefinedProperties),n=this.Tc.map((function(t){return Kr(t,e)})),r=new J(n);return new nt(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Rr),Vr=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.arrayRemove")||this).Tc=e,n}return r.__extends(e,t),e.prototype.Di=function(t){var e=new zr({dc:3,methodName:this.lc,Ec:!0},t.ii,t.serializer,t.ignoreUndefinedProperties),n=this.Tc.map((function(t){return Kr(t,e)})),r=new Q(n);return new nt(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Rr),$r=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.increment")||this).Ic=e,n}return r.__extends(e,t),e.prototype.Di=function(t){var e=new zr({dc:3,methodName:this.lc},t.ii,t.serializer,t.ignoreUndefinedProperties),n=Kr(this.Ic,e),r=new Z(t.serializer,n);return new nt(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Rr),Fr=function(){function t(t,e){if(pr("GeoPoint",arguments,2),mr("GeoPoint","number",1,t),mr("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new f(l.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new f(l.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.wc=t,this.Rc=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.wc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.Rc},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.wc===t.wc&&this.Rc===t.Rc},t.prototype.p=function(t){return xe(this.wc,t.wc)||xe(this.Rc,t.Rc)},t}(),qr=/^__.*__$/,Br=function(){function t(t,e,n){this.data=t,this.Vt=e,this.fieldTransforms=n}return t.prototype.Ac=function(t,e){var n=[];return null!==this.Vt?n.push(new at(t,this.data,this.Vt,e)):n.push(new st(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new ut(t,this.fieldTransforms)),n},t}(),Gr=function(){function t(t,e,n){this.data=t,this.Vt=e,this.fieldTransforms=n}return t.prototype.Ac=function(t,e){var n=[new at(t,this.data,this.Vt,e)];return this.fieldTransforms.length>0&&n.push(new ut(t,this.fieldTransforms)),n},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Wr(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}var zr=function(){function t(t,e,n,r,i,o){this.settings=t,this.ii=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mc(),this.fieldTransforms=i||[],this.Vt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dc",{get:function(){return this.settings.dc},enumerable:!0,configurable:!0}),t.prototype.Pc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.ii,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Vt)},t.prototype.Vc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Pc({path:n,Ec:!1});return r.gc(t),r},t.prototype.pc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Pc({path:n,Ec:!1});return r.mc(),r},t.prototype.yc=function(t){return this.Pc({path:void 0,Ec:!0})},t.prototype.fc=function(t){var e=!this.path||this.path.B()?"":" (found in field "+this.path.toString()+")";return new f(l.INVALID_ARGUMENT,"Function "+this.settings.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.Vt.find((function(e){return t.q(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.q(e.field)}))},t.prototype.mc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.gc(this.path.get(t))},t.prototype.gc=function(t){if(0===t.length)throw this.fc("Document fields must not be empty");if(Wr(this.dc)&&qr.test(t))throw this.fc('Document fields cannot begin and end with "__"')},t}(),Hr=function(){function t(t,e,n){this.ii=t,this.ignoreUndefinedProperties=e,this.serializer=n||ye.nt().bc(t)}return t.prototype.vc=function(t,e){var n=this.Sc(0,t);Jr("Data must be an object, but it was:",n,e);var r=Yr(e,n);return new Br(new lt(r),null,n.fieldTransforms)},t.prototype.Dc=function(t,e,n){var r=this.Sc(2,t);Jr("Data must be an object, but it was:",r,e);var i,o,s=Yr(e,r);if(n){for(var a=[],u=0,c=n;u<c.length;u++){var h=c[u],p=void 0;if(h instanceof Lr)p=h.cc;else{if("string"!=typeof h)throw ke();p=Zr(t,h)}if(!r.contains(p))throw new f(l.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");ti(a,p)||a.push(p)}i=new et(a),o=r.fieldTransforms.filter((function(t){return i.dt(t.field)}))}else i=new et(r.Vt),o=r.fieldTransforms;return new Br(new lt(s),i,o)},t.prototype.Cc=function(t,e){var n=this.Sc(1,t);Jr("Data must be an object, but it was:",n,e);var r=[],i=new ft;A(e,(function(e,o){var s=Zr(t,e),a=n.pc(s);if(o instanceof Mr)r.push(s);else{var u=Kr(o,a);null!=u&&(r.push(s),i.set(s,u))}}));var o=new et(r);return new Gr(i.yt(),o,n.fieldTransforms)},t.prototype.Fc=function(t,e,n,r){var i=this.Sc(1,t),o=[Qr(t,e)],s=[n];if(r.length%2!=0)throw new f(l.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)o.push(Qr(t,r[a])),s.push(r[a+1]);for(var u=[],c=new ft,h=o.length-1;h>=0;--h)if(!ti(u,o[h])){var p=o[h],d=s[h],v=i.pc(p);if(d instanceof Mr)u.push(p);else{var m=Kr(d,v);null!=m&&(u.push(p),c.set(p,m))}}var g=new et(u);return new Gr(c.yt(),g,i.fieldTransforms)},t.prototype.Sc=function(t,e){return new zr({dc:t,methodName:e,path:I.G,Ec:!1},this.ii,this.serializer,this.ignoreUndefinedProperties)},t.prototype.Nc=function(t,e,n){return void 0===n&&(n=!1),Kr(e,this.Sc(n?4:3,t))},t}();function Kr(t,e){if(Xr(t))return Jr("Unsupported field value:",e,t),Yr(t,e);if(t instanceof Rr)return function(t,e){if(!Wr(e.dc))throw e.fc(t.lc+"() can only be used with update() and set()");if(null===e.path)throw e.fc(t.lc+"() is not currently supported inside arrays");var n=t.Di(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Vt.push(e.path),t instanceof Array){if(e.settings.Ec&&4!==e.dc)throw e.fc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Kr(o[i],e.yc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return e.serializer.ai(t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=y.fromDate(t);return{timestampValue:e.serializer.C(n)}}if(t instanceof y){var r=new y(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:e.serializer.C(r)}}if(t instanceof Fr)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Cr)return{bytesValue:e.serializer.ui(t)};if(t instanceof Hi){var i=e.ii,o=t.firestore.$c;if(!o.isEqual(i))throw e.fc("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:e.serializer._i(t.kc.path,t.firestore.$c)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.fc("Unsupported field value: "+Ir(t))}(t,e)}function Yr(t,e){var n={};return N(t)?e.path&&e.path.length>0&&e.Vt.push(e.path):A(t,(function(t,r){var i=Kr(r,e.Vc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Xr(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof y||t instanceof Fr||t instanceof Cr||t instanceof Hi||t instanceof Rr)}function Jr(t,e,n){if(!Xr(n)||!Er(n)){var r=Ir(n);throw"an object"===r?e.fc(t+" a custom object"):e.fc(t+" "+r)}}function Qr(t,e){if(e instanceof Lr)return e.cc;if("string"==typeof e)return Zr(t,e);throw new f(l.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Zr(t,e){try{return function(t){if(t.search(Pr)>=0)throw new f(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Lr.bind.apply(Lr,r.__spreadArrays([void 0],t.split("."))))}catch(e){throw new f(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).cc}catch(e){var n=(i=e)instanceof Error?i.message:i.toString();throw new f(l.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}var i}function ti(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ei=function(){function t(t,e,n,r,i,o){this.Tr=t,this.Lc=n,this.Mc=r,this.Oc=i,this.listener=o,this.state=0,this.xc=0,this.Bc=null,this.stream=null,this.$a=new We(t,e)}return t.prototype.qc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Uc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Qc()},t.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.qc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Wc=function(){this.state=0,this.$a.reset()},t.prototype.jc=function(){var t=this;this.Uc()&&null===this.Bc&&(this.Bc=this.Tr.yr(this.Lc,6e4,(function(){return t.Kc()})))},t.prototype.Gc=function(t){this.zc(),this.stream.send(t)},t.prototype.Kc=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.Uc()?[2,this.close(0)]:[2]}))}))},t.prototype.zc=function(){this.Bc&&(this.Bc.cancel(),this.Bc=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.zc(),this.$a.cancel(),this.xc++,3!==t?this.$a.reset():e&&e.code===l.RESOURCE_EXHAUSTED?(Ie(e.toString()),Ie("Using maximum backoff delay to prevent overloading the backend."),this.$a.Vr()):e&&e.code===l.UNAUTHENTICATED&&this.Oc._(),null!==this.stream&&(this.Hc(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Yc(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.Hc=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Jc(this.xc),n=this.xc;this.Oc.getToken().then((function(e){t.xc===n&&t.Xc(e)}),(function(n){e((function(){var e=new f(l.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Zc(e)}))}))},t.prototype.Xc=function(t){var e=this,n=this.Jc(this.xc);this.stream=this.t_(t),this.stream.e_((function(){n((function(){return e.state=2,e.listener.e_()}))})),this.stream.Yc((function(t){n((function(){return e.Zc(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Qc=function(){var t=this;this.state=4,this.$a.gr((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Zc=function(t){return Ee("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Jc=function(t){var e=this;return function(n){e.Tr.uo((function(){return e.xc===t?n():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ni=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return r.__extends(e,t),e.prototype.t_=function(t){return this.Mc.s_("Listen",t)},e.prototype.onMessage=function(t){this.$a.reset();var e=this.serializer.pi(t),n=this.serializer.bi(t);return this.listener.i_(e,n)},e.prototype.n_=function(t){var e={};e.database=this.serializer.wi,e.addTarget=this.serializer.ee(t);var n=this.serializer.zi(t);n&&(e.labels=n),this.Gc(e)},e.prototype.r_=function(t){var e={};e.database=this.serializer.wi,e.removeTarget=t,this.Gc(e)},e}(ei),ri=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.h_=!1,s.lastStreamToken=S.ht,s}return r.__extends(e,t),Object.defineProperty(e.prototype,"o_",{get:function(){return this.h_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.h_=!1,t.prototype.start.call(this)},e.prototype.Hc=function(){this.h_&&this.a_([])},e.prototype.t_=function(t){return this.Mc.s_("Write",t)},e.prototype.onMessage=function(t){if(Ae(!!t.streamToken),this.lastStreamToken=this.serializer.ci(t.streamToken),this.h_){this.$a.reset();var e=this.serializer.Mi(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.u_(n,e)}return Ae(!t.writeResults||0===t.writeResults.length),this.h_=!0,this.listener.c_()},e.prototype.__=function(){var t={};t.database=this.serializer.wi,this.Gc(t)},e.prototype.a_=function(t){var e=this,n={streamToken:this.serializer.ui(this.lastStreamToken),writes:t.map((function(t){return e.serializer.vi(t)}))};this.Gc(n)},e}(ei),ii=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Mc=e,i.credentials=n,i.serializer=r,i}return r.__extends(e,t),e.prototype.d_=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.Mc.d_(t,e,r)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&n.credentials._(),t}))},e.prototype.f_=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.Mc.f_(t,e,r)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&n.credentials._(),t}))},e}((function(){this.l_=void 0})),oi=function(){function t(t){this.T_=t,this.E_=Wt(),this.mutations=[],this.I_=!1,this.w_=null,this.R_=new Set}return t.prototype.A_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(this.m_(),this.mutations.length>0)throw new f(l.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:return n=Ne(t),i={database:n.serializer.wi,documents:e.map((function(t){return n.serializer.fi(t)}))},[4,n.f_("BatchGetDocuments",i)];case 1:return o=r.sent(),s=new Map,o.forEach((function(t){var e=n.serializer.gi(t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Ae(!!e),a.push(e)})),a)]}}))}))}(this.T_,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof yt||t instanceof gt?n.P_(t):ke()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.Ac(t,this.Rt(t))),this.R_.add(t)},t.prototype.update=function(t,e){try{this.write(e.Ac(t,this.V_(t)))}catch(t){this.w_=t}this.R_.add(t)},t.prototype.delete=function(t){this.write([new ct(t,this.Rt(t))]),this.R_.add(t)},t.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(this.m_(),this.w_)throw this.w_;return t=this.E_,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new ht(t,e.Rt(t)))})),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=Ne(t),i={database:n.serializer.wi,writes:e.map((function(t){return n.serializer.vi(t)}))},[4,n.d_("Commit",i)];case 1:return o=r.sent(),[2,n.serializer.Mi(o.writeResults,o.commitTime)]}}))}))}(this.T_,this.mutations)];case 1:return n.sent(),this.I_=!0,[2]}}))}))},t.prototype.P_=function(t){var e;if(t instanceof gt)e=t.version;else{if(!(t instanceof yt))throw ke();e=b.min()}var n=this.E_.get(t.key);if(null!==n){if(!e.isEqual(n))throw new f(l.ABORTED,"Document version changed between two reads.")}else this.E_=this.E_.Ae(t.key,e)},t.prototype.Rt=function(t){var e=this.E_.get(t);return!this.R_.has(t)&&e?it.updateTime(e):it.ft()},t.prototype.V_=function(t){var e=this.E_.get(t);if(!this.R_.has(t)&&e){if(e.isEqual(b.min()))throw new f(l.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return it.updateTime(e)}return it.exists(!0)},t.prototype.write=function(t){this.m_(),this.mutations=this.mutations.concat(t)},t.prototype.m_=function(){},t}(),si=function(){function t(t,e){this.Aa=t,this.g_=e,this.state="Unknown",this.p_=0,this.y_=null,this.b_=!0}return t.prototype.v_=function(){var t=this;0===this.p_&&(this.S_("Unknown"),this.y_=this.Aa.yr("online_state_timeout",1e4,(function(){return t.y_=null,t.D_("Backend didn't respond within 10 seconds."),t.S_("Offline"),Promise.resolve()})))},t.prototype.C_=function(t){"Online"===this.state?this.S_("Unknown"):(this.p_++,this.p_>=1&&(this.F_(),this.D_("Connection failed 1 times. Most recent error: "+t.toString()),this.S_("Offline")))},t.prototype.set=function(t){this.F_(),this.p_=0,"Online"===t&&(this.b_=!1),this.S_(t)},t.prototype.S_=function(t){t!==this.state&&(this.state=t,this.g_(t))},t.prototype.D_=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.b_?(Ie(e),this.b_=!1):Ee("OnlineStateTracker",e)},t.prototype.F_=function(){null!==this.y_&&(this.y_.cancel(),this.y_=null)},t}(),ai=function(){function t(t,e,n,i,o){var s=this;this.N_=t,this.T_=e,this.Aa=n,this.k_=[],this.L_=new Map,this.M_=null,this.networkEnabled=!1,this.isPrimary=!1,this.O_=!1,this.x_=o,this.x_.B_((function(t){n.uo((function(){return r.__awaiter(s,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.q_()?(Ee("RemoteStore","Restarting streams for network reachability change."),[4,this.U_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Q_=new si(n,i),this.W_=function(t,e,n){var r=Ne(t);return new ni(e,r.Mc,r.credentials,r.serializer,n)}(this.T_,n,{e_:this.j_.bind(this),Yc:this.K_.bind(this),i_:this.G_.bind(this)}),this.z_=function(t,e,n){var r=Ne(t);return new ri(e,r.Mc,r.credentials,r.serializer,n)}(this.T_,n,{e_:this.H_.bind(this),Yc:this.Y_.bind(this),c_:this.J_.bind(this),u_:this.u_.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.networkEnabled=!0,this.X_()},t.prototype.X_=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return this.q_()?(t=this.z_,[4,this.N_.Yo()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.Z_()?this.tl():this.Q_.set("Unknown"),[4,this.el()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.sl()];case 1:return t.sent(),this.Q_.set("Offline"),[2]}}))}))},t.prototype.sl=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.z_.stop()];case 1:return t.sent(),[4,this.W_.stop()];case 2:return t.sent(),this.k_.length>0&&(Ee("RemoteStore","Stopping write stream with "+this.k_.length+" pending writes"),this.k_=[]),this.il(),[2]}}))}))},t.prototype.mo=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return Ee("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.sl()];case 1:return t.sent(),this.x_.mo(),this.Q_.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.L_.has(t.targetId)||(this.L_.set(t.targetId,t),this.Z_()?this.tl():this.W_.Uc()&&this.nl(t))},t.prototype.rl=function(t){this.L_.delete(t),this.W_.Uc()&&this.hl(t),0===this.L_.size&&(this.W_.Uc()?this.W_.jc():this.q_()&&this.Q_.set("Unknown"))},t.prototype.si=function(t){return this.L_.get(t)||null},t.prototype.ei=function(t){return this.ol.ei(t)},t.prototype.nl=function(t){this.M_.Ns(t.targetId),this.W_.n_(t)},t.prototype.hl=function(t){this.M_.Ns(t),this.W_.r_(t)},t.prototype.tl=function(){this.M_=new oe(this),this.W_.start(),this.Q_.v_()},t.prototype.Z_=function(){return this.q_()&&!this.W_.qc()&&this.L_.size>0},t.prototype.q_=function(){return!this.O_&&this.isPrimary&&this.networkEnabled},t.prototype.il=function(){this.M_=null},t.prototype.j_=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){return this.L_.forEach((function(e,n){t.nl(e)})),[2]}))}))},t.prototype.K_=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.il(),this.Z_()?(this.Q_.C_(t),this.tl()):this.Q_.set("Unknown"),[2]}))}))},t.prototype.G_=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:if(this.Q_.set("Online"),!(t instanceof re&&2===t.state&&t.cause))return[3,6];r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this.al(t)];case 2:return r.sent(),[3,5];case 3:return n=r.sent(),Ee("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.ul(n)];case 4:return r.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ee?this.M_.qs(t):t instanceof ne?this.M_.Hs(t):this.M_.Ws(t),e.isEqual(b.min()))return[3,13];r.label=7;case 7:return r.trys.push([7,11,,13]),[4,this.N_._h()];case 8:return i=r.sent(),e.S(i)>=0?[4,this.cl(e)]:[3,10];case 9:r.sent(),r.label=10;case 10:return[3,13];case 11:return Ee("RemoteStore","Failed to raise snapshot:",o=r.sent()),[4,this.ul(o)];case 12:return r.sent(),[3,13];case 13:return[2]}}))}))},t.prototype.ul=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(!zn(t))throw t;return this.O_=!0,[4,this.sl()];case 1:return n.sent(),this.Q_.set("Offline"),this.Aa.Ua((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return Ee("RemoteStore","Retrying IndexedDB access"),[4,this.N_._h()];case 1:return t.sent(),this.O_=!1,[4,this.X_()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.cl=function(t){var e=this,n=this.M_.Xs(t);return n.as.forEach((function(n,r){if(n.resumeToken.rt()>0){var i=e.L_.get(r);i&&e.L_.set(r,i.we(n.resumeToken,t))}})),n.us.forEach((function(t){var n=e.L_.get(t);if(n){e.L_.set(t,n.we(S.ht,n.Ee)),e.hl(t);var r=new Ot(n.target,t,1,n.sequenceNumber);e.nl(r)}})),this.ol.Mu(n)},t.prototype.al=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:e=t.cause,n=0,i=t.targetIds,r.label=1;case 1:return n<i.length?(o=i[n],this.L_.has(o)?[4,this.ol._l(o,e)]:[3,3]):[3,5];case 2:r.sent(),this.L_.delete(o),this.M_.removeTarget(o),r.label=3;case 3:r.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},t.prototype.el=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e;return r.__generator(this,(function(n){switch(n.label){case 0:return this.ll()?(t=this.k_.length>0?this.k_[this.k_.length-1].batchId:-1,[4,this.N_.qu(t)]):[3,5];case 1:return null!==(e=n.sent())?[3,2]:(0===this.k_.length&&this.z_.jc(),[3,4]);case 2:return this.dl(e),[4,this.el()];case 3:n.sent(),n.label=4;case 4:n.label=5;case 5:return this.fl()&&this.Tl(),[2]}}))}))},t.prototype.ll=function(){return this.q_()&&this.k_.length<10},t.prototype.El=function(){return this.k_.length},t.prototype.dl=function(t){this.k_.push(t),this.z_.Uc()&&this.z_.o_&&this.z_.a_(t.mutations)},t.prototype.fl=function(){return this.q_()&&!this.z_.qc()&&this.k_.length>0},t.prototype.Tl=function(){this.z_.start()},t.prototype.H_=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.z_.__(),[2]}))}))},t.prototype.J_=function(){var t=this;return this.N_.Jo(this.z_.lastStreamToken).then((function(){for(var e=0,n=t.k_;e<n.length;e++){var r=n[e];t.z_.a_(r.mutations)}})).catch(cr)},t.prototype.u_=function(t,e){var n=this,r=this.k_.shift(),i=Me.from(r,t,e,this.z_.lastStreamToken);return this.ol.Il(i).then((function(){return n.el()}))},t.prototype.Y_=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return t&&this.k_.length>0?this.z_.o_?[4,this.wl(t)]:[3,2]:[3,5];case 1:return e.sent(),[3,4];case 2:return[4,this.Rl(t)];case 3:e.sent(),e.label=4;case 4:this.fl()&&this.Tl(),e.label=5;case 5:return[2]}}))}))},t.prototype.Rl=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return Ct(t.code)?[2,(Ee("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.z_.lastStreamToken),this.z_.lastStreamToken=S.ht,this.N_.Jo(S.ht).catch(cr))]:[2]}))}))},t.prototype.wl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i=this;return r.__generator(this,(function(r){return Ct(n=t.code)&&n!==l.ABORTED?(e=this.k_.shift(),[2,(this.z_.Wc(),this.ol.Al(e.batchId,t).then((function(){return i.el()})))]):[2]}))}))},t.prototype.ml=function(){return new oi(this.T_)},t.prototype.U_=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.sl()];case 1:return t.sent(),this.Q_.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.Pl=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.q_()?(Ee("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.U_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Vl=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:[4,this.sl()];case 3:e.sent(),this.Q_.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ui(t,e){return"firestore_clients_"+t+"_"+e}function ci(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.t()&&(r+="_"+e.uid),r}function hi(t,e){return"firestore_targets_"+t+"_"+e}var li=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.gl=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new f(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(Ie("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.pl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),fi=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.gl=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new f(r.error.code,r.error.message)),i?new t(e,r.state,o):(Ie("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.pl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),pi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.gl=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Yt(),s=0;i&&s<r.activeTargetIds.length;++s)i=D(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Ie("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),di=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.gl=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Ie("SharedClientState","Failed to parse online state: "+e),null)},t}(),vi=function(){function t(){this.activeTargetIds=Yt()}return t.prototype.yl=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.bl=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.pl=function(){var t={activeTargetIds:this.activeTargetIds.W(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),mi=function(){function t(e,n,r,i,o){if(this.Tr=e,this.platform=n,this.persistenceKey=r,this.vl=i,this.ol=null,this.g_=null,this.ur=null,this.Sl=this.Dl.bind(this),this.Cl=new Pt(xe),this.ro=!1,this.Fl=[],!t.Gh(this.platform))throw new f(l.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.Nl=ui(this.persistenceKey,this.vl),this.$l=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Cl=this.Cl.Ae(this.vl,new vi),this.kl=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Ll=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Ml=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Ol=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.Sl)}return t.Gh=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,o,s,a,u,c,h,l,f=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.ol.bo()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.vl&&(o=this.getItem(ui(this.persistenceKey,i)))&&(s=pi.gl(i,o))&&(this.Cl=this.Cl.Ae(s.clientId,s));for(this.xl(),(a=this.storage.getItem(this.Ol))&&(u=this.Bl(a))&&this.ql(u),c=0,h=this.Fl;c<h.length;c++)l=h[c],this.Dl(l);return this.Fl=[],this.platform.window.addEventListener("unload",(function(){return f.mo()})),this.ro=!0,[2]}}))}))},t.prototype.lr=function(t){this.setItem(this.$l,JSON.stringify(t))},t.prototype.Ul=function(){return this.Ql(this.Cl)},t.prototype.Wl=function(t){var e=!1;return this.Cl.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.jl=function(t){this.Kl(t,"pending")},t.prototype.Gl=function(t,e,n){this.Kl(t,e,n),this.zl(t)},t.prototype.Hl=function(t){var e="not-current";if(this.Wl(t)){var n=this.storage.getItem(hi(this.persistenceKey,t));if(n){var r=fi.gl(t,n);r&&(e=r.state)}}return this.Yl.yl(t),this.xl(),e},t.prototype.Jl=function(t){this.Yl.bl(t),this.xl()},t.prototype.Xl=function(t){return this.Yl.activeTargetIds.has(t)},t.prototype.Zl=function(t){this.removeItem(hi(this.persistenceKey,t))},t.prototype.td=function(t,e,n){this.ed(t,e,n)},t.prototype.Du=function(t,e,n){var r=this;e.forEach((function(t){r.zl(t)})),this.currentUser=t,n.forEach((function(t){r.jl(t)}))},t.prototype.sd=function(t){this.nd(t)},t.prototype.mo=function(){this.ro&&(this.platform.window.removeEventListener("storage",this.Sl),this.removeItem(this.Nl),this.ro=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ee("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ee("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ee("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Dl=function(t){var e=this;if(t.storageArea===this.storage){if(Ee("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Nl)return void Ie("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Tr.Ua((function(){return r.__awaiter(e,void 0,void 0,(function(){var e,n,i,o,s,a;return r.__generator(this,(function(r){if(this.ro){if(null!==t.key)if(this.kl.test(t.key)){if(null==t.newValue)return e=this.rd(t.key),[2,this.hd(e,null)];if(n=this.od(t.key,t.newValue))return[2,this.hd(n.clientId,n)]}else if(this.Ll.test(t.key)){if(null!==t.newValue&&(i=this.ad(t.key,t.newValue)))return[2,this.ud(i)]}else if(this.Ml.test(t.key)){if(null!==t.newValue&&(o=this._d(t.key,t.newValue)))return[2,this.ld(o)]}else if(t.key===this.Ol){if(null!==t.newValue&&(s=this.Bl(t.newValue)))return[2,this.ql(s)]}else t.key===this.$l&&(a=function(t){var e=Be.dr;if(null!=t)try{var n=JSON.parse(t);Ae("number"==typeof n),e=n}catch(t){Ie("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==Be.dr&&this.ur(a)}else this.Fl.push(t);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Yl",{get:function(){return this.Cl.get(this.vl)},enumerable:!0,configurable:!0}),t.prototype.xl=function(){this.setItem(this.Nl,this.Yl.pl())},t.prototype.Kl=function(t,e,n){var r=new li(this.currentUser,t,e,n),i=ci(this.persistenceKey,this.currentUser,t);this.setItem(i,r.pl())},t.prototype.zl=function(t){var e=ci(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.nd=function(t){var e={clientId:this.vl,onlineState:t};this.storage.setItem(this.Ol,JSON.stringify(e))},t.prototype.ed=function(t,e,n){var r=hi(this.persistenceKey,t),i=new fi(t,e,n);this.setItem(r,i.pl())},t.prototype.rd=function(t){var e=this.kl.exec(t);return e?e[1]:null},t.prototype.od=function(t,e){var n=this.rd(t);return pi.gl(n,e)},t.prototype.ad=function(t,e){var n=this.Ll.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return li.gl(new h(i),r,e)},t.prototype._d=function(t,e){var n=this.Ml.exec(t),r=Number(n[1]);return fi.gl(r,e)},t.prototype.Bl=function(t){return di.gl(t)},t.prototype.ud=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.ol.dd(t.batchId,t.state,t.error)]:(Ee("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.ld=function(t){return this.ol.fd(t.targetId,t.state,t.error)},t.prototype.hd=function(t,e){var n=this,r=e?this.Cl.Ae(t,e):this.Cl.remove(t),i=this.Ql(this.Cl),o=this.Ql(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.ol.Td(s,a).then((function(){n.Cl=r}))},t.prototype.ql=function(t){this.Cl.get(t.clientId)&&this.g_(t.onlineState)},t.prototype.Ql=function(t){var e=Yt();return t.forEach((function(t,n){e=e.He(n.activeTargetIds)})),e},t}(),gi=function(){function t(){this.Ed=new vi,this.Id={},this.ol=null,this.g_=null,this.ur=null}return t.prototype.jl=function(t){},t.prototype.Gl=function(t,e,n){},t.prototype.Hl=function(t){return this.Ed.yl(t),this.Id[t]||"not-current"},t.prototype.td=function(t,e,n){this.Id[t]=e},t.prototype.Jl=function(t){this.Ed.bl(t)},t.prototype.Xl=function(t){return this.Ed.activeTargetIds.has(t)},t.prototype.Zl=function(t){delete this.Id[t]},t.prototype.Ul=function(){return this.Ed.activeTargetIds},t.prototype.Wl=function(t){return this.Ed.activeTargetIds.has(t)},t.prototype.start=function(){return this.Ed=new vi,Promise.resolve()},t.prototype.Du=function(t,e,n){},t.prototype.sd=function(t){},t.prototype.mo=function(){},t.prototype.lr=function(t){},t}(),yi=function(t){this.key=t},bi=function(t){this.key=t},wi=function(){function t(t,e){this.query=t,this.wd=e,this.Rd=null,this.fs=!1,this.Ad=Ht(),this.ns=Ht(),this.md=new Xt(t.se.bind(t))}return Object.defineProperty(t.prototype,"Pd",{get:function(){return this.wd},enumerable:!0,configurable:!0}),t.prototype.Vd=function(t,e){var n=this,r=e?e.gd:new Jt,i=e?e.md:this.md,o=e?e.ns:this.ns,s=i,a=!1,u=this.query.oe()&&i.size===this.query.limit?i.last():null,c=this.query.ae()&&i.size===this.query.limit?i.first():null;if(t.pe((function(t,e){var h=i.get(t),l=e instanceof gt?e:null;l&&(l=n.query.matches(l)?l:null);var f=!!h&&n.ns.has(h.key),p=!!l&&(l.At||n.ns.has(l.key)&&l.hasCommittedMutations),d=!1;h&&l?h.data().isEqual(l.data())?f!==p&&(r.track({type:3,doc:l}),d=!0):n.pd(h,l)||(r.track({type:2,doc:l}),d=!0,(u&&n.query.se(l,u)>0||c&&n.query.se(l,c)<0)&&(a=!0)):!h&&l?(r.track({type:0,doc:l}),d=!0):h&&!l&&(r.track({type:1,doc:h}),d=!0,(u||c)&&(a=!0)),d&&(l?(s=s.add(l),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.oe()||this.query.ae())for(;s.size>this.query.limit;){var h=this.query.oe()?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{md:s,gd:r,yd:a,ns:o}},t.prototype.pd=function(t,e){return t.At&&e.hasCommittedMutations&&!e.At},t.prototype.xn=function(t,e,n){var r=this,i=this.md;this.md=t.md,this.ns=t.ns;var o=t.gd.es();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return n(t)-n(e)}(t.type,e.type)||r.query.se(t.doc,e.doc)})),this.bd(n);var s=e?this.vd():[],a=0===this.Ad.size&&this.fs?1:0,u=a!==this.Rd;return this.Rd=a,0!==o.length||u?{snapshot:new Qt(this.query,t.md,i,o,t.ns,0===a,u,!1),Sd:s}:{Sd:s}},t.prototype.Dd=function(t){return this.fs&&"Offline"===t?(this.fs=!1,this.xn({md:this.md,gd:new Jt,ns:this.ns,yd:!1},!1)):{Sd:[]}},t.prototype.Cd=function(t){return!this.wd.has(t)&&!!this.md.has(t)&&!this.md.get(t).At},t.prototype.bd=function(t){var e=this;t&&(t.Ts.forEach((function(t){return e.wd=e.wd.add(t)})),t.Es.forEach((function(t){})),t.Is.forEach((function(t){return e.wd=e.wd.delete(t)})),this.fs=t.fs)},t.prototype.vd=function(){var t=this;if(!this.fs)return[];var e=this.Ad;this.Ad=Ht(),this.md.forEach((function(e){t.Cd(e.key)&&(t.Ad=t.Ad.add(e.key))}));var n=[];return e.forEach((function(e){t.Ad.has(e)||n.push(new bi(e))})),this.Ad.forEach((function(t){e.has(t)||n.push(new yi(t))})),n},t.prototype.Fd=function(t){this.wd=t.Ku,this.Ad=Ht();var e=this.Vd(t.documents);return this.xn(e,!0)},t.prototype.Nd=function(){return Qt.os(this.query,this.md,this.ns,0===this.Rd)},t}(),_i=function(){function t(t,e,n,r){this.Aa=t,this.$d=e,this.updateFunction=n,this.Va=r,this.kd=5,this.$a=new We(this.Aa,"transaction_retry")}return t.prototype.Ld=function(){this.Md()},t.prototype.Md=function(){var t=this;this.$a.gr((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return r.__generator(this,(function(r){return t=this.$d.ml(),(e=this.Od(t))&&e.then((function(e){n.Aa.uo((function(){return t.commit().then((function(){n.Va.resolve(e)})).catch((function(t){n.xd(t)}))}))})).catch((function(t){n.xd(t)})),[2]}))}))}))},t.prototype.Od=function(t){try{var e=this.updateFunction(t);return!x(e)&&e.catch&&e.then?e:(this.Va.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Va.reject(t),null}},t.prototype.xd=function(t){var e=this;this.kd>0&&this.Bd(t)?(this.kd-=1,this.Aa.uo((function(){return e.Md(),Promise.resolve()}))):this.Va.reject(t)},t.prototype.Bd=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ct(e)}return!1},t}(),Ei=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ii=function(t){this.key=t,this.qd=!1},Ti=function(){function t(t,e,n,r,i){this.N_=t,this.$d=e,this.Ud=n,this.currentUser=r,this.Qd=i,this.Wd=null,this.jd=new Pe((function(t){return t.canonicalId()})),this.Kd=new Map,this.Gd=[],this.zd=new Pt(T.N),this.Hd=new Map,this.Yd=new hr,this.Jd={},this.Xd=new Map,this.Zd=sn.rh(),this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"tf",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){this.Wd=t},t.prototype.listen=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return this.ef("listen()"),(i=this.jd.get(t))?(e=i.targetId,this.Ud.Hl(e),n=i.view.Nd(),[3,4]):[3,1];case 1:return[4,this.N_.Qu(t.ee())];case 2:return o=r.sent(),s=this.Ud.Hl(o.targetId),e=o.targetId,[4,this.sf(t,e,"current"===s)];case 3:n=r.sent(),this.tf&&this.$d.listen(o),r.label=4;case 4:return[2,n]}}))}))},t.prototype.sf=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.N_.ju(t,!0)];case 1:return i=r.sent(),o=new wi(t,i.Ku),s=o.Vd(i.documents),a=te.ds(e,n&&"Offline"!==this.onlineState),u=o.xn(s,this.tf,a),this.if(e,u.Sd),c=new Ei(t,e,o),[2,(this.jd.set(t,c),this.Kd.has(e)?this.Kd.get(e).push(t):this.Kd.set(e,[t]),u.snapshot)]}}))}))},t.prototype.rl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.ef("unlisten()"),e=this.jd.get(t),(n=this.Kd.get(e.targetId)).length>1?[2,(this.Kd.set(e.targetId,n.filter((function(e){return!e.isEqual(t)}))),void this.jd.delete(t))]:this.tf?(this.Ud.Jl(e.targetId),this.Ud.Wl(e.targetId)?[3,2]:[4,this.N_.Wu(e.targetId,!1).then((function(){i.Ud.Zl(e.targetId),i.$d.rl(e.targetId),i.nf(e.targetId)})).catch(cr)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.nf(e.targetId),[4,this.N_.Wu(e.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:this.ef("write()"),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,this.N_.$u(t)];case 2:return n=r.sent(),this.Ud.jl(n.batchId),this.rf(n.batchId,e),[4,this.hf(n.Dn)];case 3:return r.sent(),[4,this.$d.el()];case 4:return r.sent(),[3,6];case 5:return i=r.sent(),o=tr(i,"Failed to persist write"),e.reject(o),[3,6];case 6:return[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new _i(t,this.$d,e,n).Ld()},t.prototype.Mu=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(r){switch(r.label){case 0:this.ef("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.N_.Mu(t)];case 2:return e=r.sent(),t.as.forEach((function(t,e){var r=n.Hd.get(e);r&&(Ae(t.Ts.size+t.Es.size+t.Is.size<=1),t.Ts.size>0?r.qd=!0:t.Es.size>0?Ae(r.qd):t.Is.size>0&&(Ae(r.qd),r.qd=!1))})),[4,this.hf(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,cr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Dd=function(t,e){this.ef("applyOnlineStateChange()");var n=[];this.jd.forEach((function(e,r){var i=r.view.Dd(t);i.snapshot&&n.push(i.snapshot)})),this.Wd.af(t),this.Wd.i_(n),this.onlineState=t},t.prototype._l=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.ef("rejectListens()"),this.Ud.td(t,"rejected",e),n=this.Hd.get(t),(i=n&&n.key)?(o=(o=new Pt(T.N)).Ae(i,new yt(i,b.min())),s=Ht().add(i),a=new Zt(b.min(),new Map,new jt(xe),o,s),[4,this.Mu(a)]):[3,2];case 1:return r.sent(),this.zd=this.zd.remove(i),this.Hd.delete(t),this.uf(),[3,4];case 2:return[4,this.N_.Wu(t,!1).then((function(){return u.nf(t,e)})).catch(cr)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},t.prototype.Il=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:this.ef("applySuccessfulWrite()"),e=t.batch.batchId,this.cf(e,null),this._f(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.N_.zo(t)];case 2:return n=r.sent(),this.Ud.Gl(e,"acknowledged"),[4,this.hf(n)];case 3:return r.sent(),[3,6];case 4:return[4,cr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Al=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:this.ef("rejectFailedWrite()"),this.cf(t,e),this._f(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.N_.Lu(t)];case 2:return n=r.sent(),this.Ud.Gl(t,"rejected",e),[4,this.hf(n)];case 3:return r.sent(),[3,6];case 4:return[4,cr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.lf=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:this.$d.q_()||Ee("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.N_.sa()];case 2:return-1===(e=r.sent())?[2,void t.resolve()]:((n=this.Xd.get(e)||[]).push(t),this.Xd.set(e,n),[3,4]);case 3:return i=r.sent(),o=tr(i,"Initialization of waitForPendingWrites() operation failed"),t.reject(o),[3,4];case 4:return[2]}}))}))},t.prototype._f=function(t){(this.Xd.get(t)||[]).forEach((function(t){t.resolve()})),this.Xd.delete(t)},t.prototype.df=function(t){this.Xd.forEach((function(e){e.forEach((function(e){e.reject(new f(l.CANCELLED,t))}))})),this.Xd.clear()},t.prototype.rf=function(t,e){var n=this.Jd[this.currentUser.s()];n||(n=new Pt(xe)),n=n.Ae(t,e),this.Jd[this.currentUser.s()]=n},t.prototype.cf=function(t,e){var n=this.Jd[this.currentUser.s()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.Jd[this.currentUser.s()]=n}},t.prototype.nf=function(t,e){var n=this;void 0===e&&(e=null),this.Ud.Jl(t);for(var r=0,i=this.Kd.get(t);r<i.length;r++){var o=i[r];this.jd.delete(o),e&&this.Wd.ff(o,e)}this.Kd.delete(t),this.tf&&this.Yd.nc(t).forEach((function(t){n.Yd.Ch(t)||n.Tf(t)}))},t.prototype.Tf=function(t){var e=this.zd.get(t);null!==e&&(this.$d.rl(e),this.zd=this.zd.remove(t),this.Hd.delete(e),this.uf())},t.prototype.if=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof yi?(this.Yd.yh(i.key,t),this.Ef(i)):i instanceof bi?(Ee("SyncEngine","Document no longer in limbo: "+i.key),this.Yd.vh(i.key,t),this.Yd.Ch(i.key)||this.Tf(i.key)):ke()}},t.prototype.Ef=function(t){var e=t.key;this.zd.get(e)||(Ee("SyncEngine","New document in limbo: "+e),this.Gd.push(e),this.uf())},t.prototype.uf=function(){for(;this.Gd.length>0&&this.zd.size<this.Qd;){var t=this.Gd.shift(),e=this.Zd.next();this.Hd.set(e,new Ii(t)),this.zd=this.zd.Ae(t,e),this.$d.listen(new Ot(_t.Wt(t.path).ee(),e,2,Be.dr))}},t.prototype.If=function(){return this.zd},t.prototype.wf=function(){return this.Gd},t.prototype.hf=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s=this;return r.__generator(this,(function(r){switch(r.label){case 0:return n=[],i=[],o=[],this.jd.forEach((function(r,a){o.push(Promise.resolve().then((function(){var e=a.view.Vd(t);return e.yd?s.N_.ju(a.query,!1).then((function(t){var n=t.documents;return a.view.Vd(n,e)})):e})).then((function(t){var r=e&&e.as.get(a.targetId),o=a.view.xn(t,s.tf,r);if(s.if(a.targetId,o.Sd),o.snapshot){s.tf&&s.Ud.td(a.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var u=qe.ar(a.targetId,o.snapshot);i.push(u)}})))})),[4,Promise.all(o)];case 1:return r.sent(),this.Wd.i_(n),[4,this.N_.Bu(i)];case 2:return r.sent(),[2]}}))}))},t.prototype.ef=function(t){},t.prototype.Pl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(t)?[3,3]:[4,this.N_.Du(t)];case 1:return e=n.sent(),this.currentUser=t,this.df("'waitForPendingWrites' promise is rejected due to a user change."),this.Ud.Du(t,e.Fu,e.Nu),[4,this.hf(e.Cu)];case 2:n.sent(),n.label=3;case 3:return[4,this.$d.Pl()];case 4:return n.sent(),[2]}}))}))},t.prototype.enableNetwork=function(){return this.$d.enableNetwork()},t.prototype.disableNetwork=function(){return this.$d.disableNetwork()},t.prototype.ei=function(t){var e=this.Hd.get(t);if(e&&e.qd)return Ht().add(e.key);var n=Ht(),r=this.Kd.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=o[i],a=this.jd.get(s);n=n.He(a.view.Pd)}return n},t}(),ki=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,n,r,i,o)||this).N_=e,s.Rf=void 0,s}return r.__extends(e,t),Object.defineProperty(e.prototype,"tf",{get:function(){return!0===this.Rf},enumerable:!0,configurable:!0}),e.prototype.enableNetwork=function(){return this.N_.ao(!0),t.prototype.enableNetwork.call(this)},e.prototype.disableNetwork=function(){return this.N_.ao(!1),t.prototype.disableNetwork.call(this)},e.prototype.Af=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.N_.ju(t.query,!0)];case 1:return e=r.sent(),n=t.view.Fd(e),[2,(this.Rf&&this.if(t.targetId,n.Sd),n)]}}))}))},e.prototype.Dd=function(e,n){this.tf&&0===n&&(t.prototype.Dd.call(this,e,n),this.Ud.sd(e)),this.tf||1!==n||t.prototype.Dd.call(this,e,n)},e.prototype.dd=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i;return r.__generator(this,(function(r){switch(r.label){case 0:return this.ef("applyBatchState()"),[4,this.N_.zu(t)];case 1:return null===(i=r.sent())?[3,6]:"pending"!==e?[3,3]:[4,this.$d.el()];case 2:return r.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.cf(t,n||null),this.N_.Hu(t)):ke(),r.label=4;case 4:return[4,this.hf(i)];case 5:return r.sent(),[3,7];case 6:Ee("SyncEngine","Cannot apply mutation batch with id: "+t),r.label=7;case 7:return[2]}}))}))},e.prototype.Vl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s,a,u,c=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!0!==t||!0===this.Rf?[3,3]:(e=this.Ud.Ul(),[4,this.mf(e.W(),!0)]);case 1:return n=r.sent(),this.Rf=!0,[4,this.$d.Vl(!0)];case 2:for(r.sent(),i=0,o=n;i<o.length;i++)s=o[i],this.$d.listen(s);return[3,7];case 3:return!1!==t||!1===this.Rf?[3,7]:(a=[],u=Promise.resolve(),this.Kd.forEach((function(t,e){c.Ud.Xl(e)?a.push(e):u=u.then((function(){return c.nf(e),c.N_.Wu(e,!0)})),c.$d.rl(e)})),[4,u]);case 4:return r.sent(),[4,this.mf(a,!1)];case 5:return r.sent(),this.Pf(),this.Rf=!1,[4,this.$d.Vl(!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))},e.prototype.Pf=function(){var t=this;this.Hd.forEach((function(e,n){t.$d.rl(n)})),this.Yd.rc(),this.Hd=new Map,this.zd=new Pt(T.N)},e.prototype.mf=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s,a,u,c,h,l,f,p,d;return r.__generator(this,(function(r){switch(r.label){case 0:e=[],n=[],i=0,o=t,r.label=1;case 1:return i<o.length?(s=o[i],a=void 0,(u=this.Kd.get(s))&&0!==u.length?[4,this.N_.Wu(s,!0)]:[3,8]):[3,14];case 2:return r.sent(),[4,this.N_.Qu(u[0].ee())];case 3:a=r.sent(),c=0,h=u,r.label=4;case 4:return c<h.length?(l=h[c],f=this.jd.get(l),[4,this.Af(f)]):[3,7];case 5:(p=r.sent()).snapshot&&n.push(p.snapshot),r.label=6;case 6:return c++,[3,4];case 7:return[3,12];case 8:return[4,this.N_.Yu(s)];case 9:return d=r.sent(),[4,this.N_.Qu(d)];case 10:return a=r.sent(),[4,this.sf(this.Vf(d),s,!1)];case 11:r.sent(),r.label=12;case 12:e.push(a),r.label=13;case 13:return i++,[3,1];case 14:return[2,(this.Wd.i_(n),e)]}}))}))},e.prototype.Vf=function(t){return new _t(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},e.prototype.bo=function(){return this.N_.bo()},e.prototype.fd=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return this.Rf?(Ee("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.Kd.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.N_.Kr()];case 3:return i=r.sent(),o=Zt.ls(t,"current"===e),[4,this.hf(i,o)];case 4:return r.sent(),[3,8];case 5:return[4,this.N_.Wu(t,!0)];case 6:return r.sent(),this.nf(t,n),[3,8];case 7:ke(),r.label=8;case 8:return[2]}}))}))},e.prototype.Td=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,u,c,h,l,f,p=this;return r.__generator(this,(function(d){switch(d.label){case 0:if(!this.Rf)return[3,10];n=0,i=t,d.label=1;case 1:return n<i.length?(o=i[n],this.Kd.has(o)?(Ee("SyncEngine","Adding an already active target "+o),[3,5]):[4,this.N_.Yu(o)]):[3,6];case 2:return s=d.sent(),[4,this.N_.Qu(s)];case 3:return a=d.sent(),[4,this.sf(this.Vf(s),a.targetId,!1)];case 4:d.sent(),this.$d.listen(a),d.label=5;case 5:return n++,[3,1];case 6:u=function(t){return r.__generator(this,(function(e){switch(e.label){case 0:return c.Kd.has(t)?[4,c.N_.Wu(t,!1).then((function(){p.$d.rl(t),p.nf(t)})).catch(cr)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},c=this,h=0,l=e,d.label=7;case 7:return h<l.length?(f=l[h],[5,u(f)]):[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))},e}(Ti),Ai=function(){this.gf=void 0,this.pf=[]},Ni=function(){function t(t){this.ol=t,this.yf=new Pe((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.bf=new Set,this.ol.subscribe(this)}return t.prototype.listen=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s,a;return r.__generator(this,(function(r){switch(r.label){case 0:if(e=t.query,n=!1,(i=this.yf.get(e))||(n=!0,i=new Ai),!n)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),o=i,[4,this.ol.listen(e)];case 2:return o.gf=r.sent(),[3,4];case 3:return s=r.sent(),a=tr(s,"Initialization of query '"+t.query+"' failed"),[2,void t.onError(a)];case 4:return this.yf.set(e,i),i.pf.push(t),t.Dd(this.onlineState),i.gf&&t.vf(i.gf)&&this.Sf(),[2]}}))}))},t.prototype.rl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o;return r.__generator(this,(function(r){return e=t.query,n=!1,(i=this.yf.get(e))&&(o=i.pf.indexOf(t))>=0&&(i.pf.splice(o,1),n=0===i.pf.length),n?[2,(this.yf.delete(e),this.ol.rl(e))]:[2]}))}))},t.prototype.i_=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,s=this.yf.get(o);if(s){for(var a=0,u=s.pf;a<u.length;a++)u[a].vf(i)&&(e=!0);s.gf=i}}e&&this.Sf()},t.prototype.ff=function(t,e){var n=this.yf.get(t);if(n)for(var r=0,i=n.pf;r<i.length;r++)i[r].onError(e);this.yf.delete(t)},t.prototype.af=function(t){this.onlineState=t;var e=!1;this.yf.forEach((function(n,r){for(var i=0,o=r.pf;i<o.length;i++)o[i].Dd(t)&&(e=!0)})),e&&this.Sf()},t.prototype.Df=function(t){this.bf.add(t),t.next()},t.prototype.Cf=function(t){this.bf.delete(t)},t.prototype.Sf=function(){this.bf.forEach((function(t){t.next()}))},t}(),Si=function(){function t(t,e,n){this.query=t,this.Ff=e,this.Nf=!1,this.$f=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.vf=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Qt(t.query,t.docs,t.ss,e,t.ns,t.fromCache,t.rs,!0)}var o=!1;return this.Nf?this.kf(t)&&(this.Ff.next(t),o=!0):this.Lf(t,this.onlineState)&&(this.Mf(t),o=!0),this.$f=t,o},t.prototype.onError=function(t){this.Ff.error(t)},t.prototype.Dd=function(t){this.onlineState=t;var e=!1;return this.$f&&!this.Nf&&this.Lf(this.$f,t)&&(this.Mf(this.$f),e=!0),e},t.prototype.Lf=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.Of&&n||t.docs.B()&&"Offline"!==e)},t.prototype.kf=function(t){if(t.docChanges.length>0)return!0;var e=this.$f&&this.$f.hasPendingWrites!==t.hasPendingWrites;return!(!t.rs&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.Mf=function(t){t=Qt.os(t.query,t.docs,t.ns,t.fromCache),this.Nf=!0,this.Ff.next(t)},t}(),xi=function(){function t(){}return t.prototype.Su=function(t){this.xf=t},t.prototype.Zn=function(t,e,n,r){var i=this;return e.te()||n.isEqual(b.min())?this.Bf(t,e):this.xf.Yn(t,r).next((function(s){var a=i.qf(e,s);return(e.oe()||e.ae())&&i.yd(e.Bt,a,r,n)?i.Bf(t,e):(we()<=o.LogLevel.DEBUG&&Ee("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),i.xf.Zn(t,e,n).next((function(t){return a.forEach((function(e){t=t.Ae(e.key,e)})),t})))}))},t.prototype.qf=function(t,e){var n=new jt((function(e,n){return t.se(e,n)}));return e.forEach((function(e,r){r instanceof gt&&t.matches(r)&&(n=n.add(r))})),n},t.prototype.yd=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.S(r)>0)},t.prototype.Bf=function(t,e){return we()<=o.LogLevel.DEBUG&&Ee("IndexFreeQueryEngine","Using full collection scan to execute query:",e.toString()),this.xf.Zn(t,e,b.min())},t}(),Oi=function(){function t(t,e){this.jn=t,this.hh=e,this.Wn=[],this.Uf=1,this.lastStreamToken=S.ht,this.Qf=new jt(lr.Xu)}return t.prototype.Go=function(t){return je.resolve(0===this.Wn.length)},t.prototype.zo=function(t,e,n){var r=e.batchId,i=this.Wf(r,"acknowledged");return Ae(0===i),this.Wn[i],this.lastStreamToken=n,je.resolve()},t.prototype.Yo=function(t){return je.resolve(this.lastStreamToken)},t.prototype.Jo=function(t,e){return this.lastStreamToken=e,je.resolve()},t.prototype.Xo=function(t,e,n,r){var i=this.Uf;this.Uf++,this.Wn.length>0&&this.Wn[this.Wn.length-1];var o=new Re(i,e,n,r);this.Wn.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Qf=this.Qf.add(new lr(u.key,i)),this.jn.Dr(t,u.key.path.L())}return je.resolve(o)},t.prototype.Zo=function(t,e){return je.resolve(this.jf(e))},t.prototype.ea=function(t,e){var n=e+1,r=this.Kf(n),i=r<0?0:r;return je.resolve(this.Wn.length>i?this.Wn[i]:null)},t.prototype.sa=function(){return je.resolve(0===this.Wn.length?-1:this.Uf-1)},t.prototype.ia=function(t){return je.resolve(this.Wn.slice())},t.prototype.Gn=function(t,e){var n=this,r=new lr(e,0),i=new lr(e,Number.POSITIVE_INFINITY),o=[];return this.Qf.Ke([r,i],(function(t){var e=n.jf(t.oc);o.push(e)})),je.resolve(o)},t.prototype.Xn=function(t,e){var n=this,r=new jt(xe);return e.forEach((function(t){var e=new lr(t,0),i=new lr(t,Number.POSITIVE_INFINITY);n.Qf.Ke([e,i],(function(t){r=r.add(t.oc)}))})),je.resolve(this.Gf(r))},t.prototype.nr=function(t,e){var n=e.path,r=n.length+1,i=n;T.et(i)||(i=i.child(""));var o=new lr(new T(i),0),s=new jt(xe);return this.Qf.Ge((function(t){var e=t.key.path;return!!n.q(e)&&(e.length===r&&(s=s.add(t.oc)),!0)}),o),je.resolve(this.Gf(s))},t.prototype.Gf=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.jf(t);null!==r&&n.push(r)})),n},t.prototype.ra=function(t,e){var n=this;Ae(0===this.Wf(e.batchId,"removed")),this.Wn.shift();var r=this.Qf;return je.forEach(e.mutations,(function(i){var o=new lr(i.key,e.batchId);return r=r.delete(o),n.hh.Bo(t,i.key)})).next((function(){n.Qf=r}))},t.prototype.ha=function(t){},t.prototype.Ch=function(t,e){var n=new lr(e,0),r=this.Qf.ze(n);return je.resolve(e.isEqual(r&&r.key))},t.prototype.oa=function(t){return this.Wn.length,je.resolve()},t.prototype.Wf=function(t,e){return this.Kf(t)},t.prototype.Kf=function(t){return 0===this.Wn.length?0:t-this.Wn[0].batchId},t.prototype.jf=function(t){var e=this.Kf(t);return e<0||e>=this.Wn.length?null:this.Wn[e]},t}(),Di=function(){function t(t,e){this.jn=t,this.zf=e,this.docs=new Pt(T.N),this.size=0}return t.prototype.Nn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.zf(e);return this.docs=this.docs.Ae(r,{Mr:e,size:s,readTime:n}),this.size+=s-o,this.jn.Dr(t,r.path.L())},t.prototype.kn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ln=function(t,e){var n=this.docs.get(e);return je.resolve(n?n.Mr:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ft();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ae(t,e?e.Mr:null)})),je.resolve(r)},t.prototype.Zn=function(t,e,n){for(var r=Bt(),i=new T(e.path.child("")),o=this.docs.ve(i);o.$e();){var s=o.Ne(),a=s.key,u=s.value,c=u.Mr,h=u.readTime;if(!e.path.q(a.path))break;h.S(n)<=0||c instanceof gt&&e.matches(c)&&(r=r.Ae(c.key,c))}return je.resolve(r)},t.prototype.Hf=function(t,e){return je.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Yr=function(e){return new t.Jr(this)},t.prototype.Zr=function(t){return je.resolve(this.size)},t}();Di.Jr=function(t){function e(e){var n=this;return(n=t.call(this)||this).th=e,n}return r.__extends(e,t),e.prototype.xn=function(t){var e=this,n=[];return this.Dn.forEach((function(r,i){i?n.push(e.th.Nn(t,i,e.readTime)):e.th.kn(r)})),je.vn(n)},e.prototype.Mn=function(t,e){return this.th.Ln(t,e)},e.prototype.On=function(t,e){return this.th.getEntries(t,e)},e}(Ue);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Ci=function(){function t(t){this.persistence=t,this.Yf=new Pe((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=b.min(),this.highestTargetId=0,this.Jf=0,this.Xf=new hr,this.targetCount=0,this.Zf=sn.nh()}return t.prototype.js=function(t,e){return this.Yf.forEach((function(t,n){return e(n)})),je.resolve()},t.prototype._h=function(t){return je.resolve(this.lastRemoteSnapshotVersion)},t.prototype.lh=function(t){return je.resolve(this.Jf)},t.prototype.oh=function(t){return this.highestTargetId=this.Zf.next(),je.resolve(this.highestTargetId)},t.prototype.dh=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Jf&&(this.Jf=e),je.resolve()},t.prototype.Th=function(t){this.Yf.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Zf=new sn(e),this.highestTargetId=e),t.sequenceNumber>this.Jf&&(this.Jf=t.sequenceNumber)},t.prototype.fh=function(t,e){return this.Th(e),this.targetCount+=1,je.resolve()},t.prototype.Ih=function(t,e){return this.Th(e),je.resolve()},t.prototype.wh=function(t,e){return this.Yf.delete(e.target),this.Xf.nc(e.targetId),this.targetCount-=1,je.resolve()},t.prototype.Ah=function(t,e,n){var r=this,i=0,o=[];return this.Yf.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Yf.delete(s),o.push(r.Rh(t,a.targetId)),i++)})),je.vn(o).next((function(){return i}))},t.prototype.Vh=function(t){return je.resolve(this.targetCount)},t.prototype.gh=function(t,e){var n=this.Yf.get(e)||null;return je.resolve(n)},t.prototype.ph=function(t,e,n){return this.Xf.ec(e,n),je.resolve()},t.prototype.bh=function(t,e,n){this.Xf.ic(e,n);var r=this.persistence.hh,i=[];return r&&e.forEach((function(e){i.push(r.Bo(t,e))})),je.vn(i)},t.prototype.Rh=function(t,e){return this.Xf.nc(e),je.resolve()},t.prototype.Sh=function(t,e){var n=this.Xf.hc(e);return je.resolve(n)},t.prototype.Ch=function(t,e){return je.resolve(this.Xf.Ch(e))},t}(),Li=function(){function t(t){var e=this;this.tT={},this.Bh=new Be(0),this.qh=!1,this.qh=!0,this.hh=t(this),this.Yh=new Ci(this),this.jn=new Xe,this.Qn=new Di(this.jn,(function(t){return e.hh.eT(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.mo=function(){return this.qh=!1,Promise.resolve()},Object.defineProperty(t.prototype,"ro",{get:function(){return this.qh},enumerable:!0,configurable:!0}),t.prototype.ho=function(){},t.prototype.Fo=function(){return this.jn},t.prototype.vo=function(t){var e=this.tT[t.s()];return e||(e=new Oi(this.jn,this.hh),this.tT[t.s()]=e),e},t.prototype.Do=function(){return this.Yh},t.prototype.Co=function(){return this.Qn},t.prototype.runTransaction=function(t,e,n){var r=this;Ee("MemoryPersistence","Starting transaction:",t);var i=new Pi(this.Bh.next());return this.hh.sT(),n(i).next((function(t){return r.hh.iT(i).next((function(){return t}))})).yn().then((function(t){return i.Un(),t}))},t.prototype.nT=function(t,e){return je.Sn(Object.values(this.tT).map((function(n){return function(){return n.Ch(t,e)}})))},t}(),Pi=function(t){function e(e){var n=this;return(n=t.call(this)||this).Oh=e,n}return r.__extends(e,t),e}($e),Ri=function(){function t(t){this.persistence=t,this.rT=new hr,this.hT=null}return t.oT=function(e){return new t(e)},Object.defineProperty(t.prototype,"aT",{get:function(){if(this.hT)return this.hT;throw ke()},enumerable:!0,configurable:!0}),t.prototype.yh=function(t,e,n){return this.rT.yh(n,e),this.aT.delete(n),je.resolve()},t.prototype.vh=function(t,e,n){return this.rT.vh(n,e),this.aT.add(n),je.resolve()},t.prototype.Bo=function(t,e){return this.aT.add(e),je.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.rT.nc(e.targetId).forEach((function(t){return n.aT.add(t)}));var r=this.persistence.Do();return r.Sh(t,e.targetId).next((function(t){t.forEach((function(t){return n.aT.add(t)}))})).next((function(){return r.wh(t,e)}))},t.prototype.sT=function(){this.hT=new Set},t.prototype.iT=function(t){var e=this,n=this.persistence.Co().Yr();return je.forEach(this.aT,(function(r){return e.uT(t,r).next((function(t){t||n.kn(r)}))})).next((function(){return e.hT=null,n.apply(t)}))},t.prototype.Wo=function(t,e){var n=this;return this.uT(t,e).next((function(t){t?n.aT.delete(e):n.aT.add(e)}))},t.prototype.eT=function(t){return 0},t.prototype.uT=function(t,e){var n=this;return je.Sn([function(){return je.resolve(n.rT.Ch(e))},function(){return n.persistence.Do().Ch(t,e)},function(){return n.persistence.nT(t,e)}])},t}(),Mi=function(){function t(){}return t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(n){switch(n.label){case 0:return this.Ud=this.cT(t),this.persistence=this._T(t),[4,this.persistence.start()];case 1:return n.sent(),this.lT=this.dT(t),this.N_=this.fT(t),this.$d=this.TT(t),this.ol=this.ET(t),this.IT=this.wT(t),this.Ud.g_=function(t){return e.ol.Dd(t,1)},this.$d.ol=this.ol,[4,this.N_.start()];case 2:return n.sent(),[4,this.Ud.start()];case 3:return n.sent(),[4,this.$d.start()];case 4:return n.sent(),[4,this.$d.Vl(this.ol.tf)];case 5:return n.sent(),[2]}}))}))},t.prototype.wT=function(t){return new Ni(this.ol)},t.prototype.dT=function(t){return null},t.prototype.fT=function(t){return new ar(this.persistence,new xi,t.RT)},t.prototype._T=function(t){return new Li(Ri.oT)},t.prototype.TT=function(t){var e=this;return new ai(this.N_,t.T_,t.Aa,(function(t){return e.ol.Dd(t,0)}),t.platform.AT())},t.prototype.cT=function(t){return new gi},t.prototype.ET=function(t){return new Ti(this.N_,this.$d,this.Ud,t.RT,t.Qd)},t.prototype.clearPersistence=function(t){throw new f(l.FAILED_PRECONDITION,"You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.")},t}(),ji=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),[4,this.persistence.no((function(t){return r.__awaiter(n,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,this.ol.Vl(t)];case 1:return e.sent(),this.lT&&(t&&!this.lT.ro?this.lT.start(this.N_):t||this.lT.stop()),[2]}}))}))}))];case 2:return i.sent(),[2]}}))}))},e.prototype.fT=function(t){return new ur(this.persistence,new xi,t.RT)},e.prototype.ET=function(t){var e=new ki(this.N_,this.$d,this.Ud,t.RT,t.Qd);return this.Ud instanceof mi&&(this.Ud.ol=e),e},e.prototype.dT=function(t){var e=this.persistence.hh.ko;return new or(e,t.Aa)},e.prototype._T=function(t){var e=dn.$o(t.mT),n=t.platform.bc(t.mT.ii);return new dn(t.PT.synchronizeTabs,e,t.clientId,t.platform,ir.hu(t.PT.cacheSizeBytes),t.Aa,n,this.Ud)},e.prototype.cT=function(t){if(t.PT.VT&&t.PT.synchronizeTabs){if(!mi.Gh(t.platform))throw new f(l.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var e=dn.$o(t.mT);return new mi(t.Aa,t.platform,e,t.clientId,t.RT)}return new gi},e.prototype.clearPersistence=function(t){var e=dn.$o(t);return dn.clearPersistence(e)},e}(Mi),Ui=function(){function t(t,e,n,r){this.platform=t,this.mT=e,this.credentials=n,this.Aa=r,this.clientId=Se.cn()}return t.prototype.start=function(t,e){var n=this;this.gT();var r=new Ge,i=new Ge,o=!1;return this.credentials.l((function(s){if(!o)return o=!0,Ee("FirestoreClient","Initializing. user=",s.uid),n.pT(t,e,s,i).then(r.resolve,r.reject);n.Aa.Ua((function(){return n.Pl(s)}))})),this.Aa.uo((function(){return r.promise})),i.promise},t.prototype.enableNetwork=function(){var t=this;return this.gT(),this.Aa.enqueue((function(){return t.ol.enableNetwork()}))},t.prototype.pT=function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s,a,u,c=this;return r.__generator(this,(function(h){switch(h.label){case 0:return h.trys.push([0,3,,4]),[4,this.platform.yT(this.mT)];case 1:return o=h.sent(),s=this.platform.bc(this.mT.ii),a=function(t,e,n){return new ii(t,e,n)}(o,this.credentials,s),[4,t.initialize({Aa:this.Aa,mT:this.mT,platform:this.platform,T_:a,clientId:this.clientId,RT:n,Qd:100,PT:e})];case 2:return h.sent(),this.persistence=t.persistence,this.Ud=t.Ud,this.N_=t.N_,this.$d=t.$d,this.ol=t.ol,this.lT=t.lT,this.bT=t.IT,this.persistence.ho((function(){return r.__awaiter(c,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),i.resolve(),[3,4];case 3:if(u=h.sent(),i.reject(u),!this.vT(u))throw u;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),this.pT(new Mi,{VT:!1},n,i))];case 4:return[2]}}))}))},t.prototype.vT=function(t){return"FirebaseError"===t.name?t.code===l.FAILED_PRECONDITION||t.code===l.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.gT=function(){if(this.Aa.La)throw new f(l.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Pl=function(t){return this.Aa.Wa(),Ee("FirestoreClient","Credential Changed. Current user: "+t.uid),this.ol.Pl(t)},t.prototype.disableNetwork=function(){var t=this;return this.gT(),this.Aa.enqueue((function(){return t.ol.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.Aa.qa((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.lT&&this.lT.stop(),[4,this.$d.mo()];case 1:return t.sent(),[4,this.Ud.mo()];case 2:return t.sent(),[4,this.persistence.mo()];case 3:return t.sent(),this.credentials.T(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.gT();var e=new Ge;return this.Aa.uo((function(){return t.ol.lf(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.gT();var i=new Si(t,e,n);return this.Aa.uo((function(){return r.bT.listen(i)})),i},t.prototype.rl=function(t){var e=this;this.ST||this.Aa.uo((function(){return e.bT.rl(t)}))},t.prototype.DT=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.gT(),e=new Ge,[4,this.Aa.enqueue((function(){return r.__awaiter(n,void 0,void 0,(function(){var n,i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.N_.Uu(t)];case 1:return(n=r.sent())instanceof gt?e.resolve(n):n instanceof yt?e.resolve(null):e.reject(new f(l.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=r.sent(),o=tr(i,"Failed to get document '"+t+" from cache"),e.reject(o),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(i.sent(),e.promise)]}}))}))},t.prototype.CT=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.gT(),e=new Ge,[4,this.Aa.enqueue((function(){return r.__awaiter(n,void 0,void 0,(function(){var n,i,o,s,a,u;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.N_.ju(t,!0)];case 1:return n=r.sent(),i=new wi(t,n.Ku),o=i.Vd(n.documents),s=i.xn(o,!1),e.resolve(s.snapshot),[3,3];case 2:return a=r.sent(),u=tr(a,"Failed to execute query '"+t+" against cache"),e.reject(u),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(i.sent(),e.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.gT();var n=new Ge;return this.Aa.uo((function(){return e.ol.write(t,n)})),n.promise},t.prototype.ii=function(){return this.mT.ii},t.prototype.Df=function(t){var e=this;this.gT(),this.Aa.uo((function(){return e.bT.Df(t),Promise.resolve()}))},t.prototype.Cf=function(t){var e=this;this.ST||this.Aa.uo((function(){return e.bT.Cf(t),Promise.resolve()}))},Object.defineProperty(t.prototype,"ST",{get:function(){return this.Aa.La},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.gT();var n=new Ge;return this.Aa.uo((function(){return e.ol.runTransaction(e.Aa,t,n),Promise.resolve()})),n.promise},t}(),Vi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.FT(this.observer.next,t)},t.prototype.error=function(t){this.FT(this.observer.error,t)},t.prototype.NT=function(){this.muted=!0},t.prototype.FT=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function $i(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Fi=function(){function t(t,e,n,r){this.firestore=t,this.timestampsInSnapshots=e,this.$T=n,this.converter=r}return t.prototype.kT=function(t){switch(R(t)){case 0:return null;case 1:return t.booleanValue;case 2:return q(t.integerValue||t.doubleValue);case 3:return this.LT(t.timestampValue);case 4:return this.MT(t);case 5:return t.stringValue;case 6:return new Cr(B(t.bytesValue));case 7:return this.OT(t.referenceValue);case 8:return this.xT(t.geoPointValue);case 9:return this.BT(t.arrayValue);case 10:return this.qT(t.mapValue);default:throw ke()}},t.prototype.qT=function(t){var e=this,n={};return A(t.fields||{},(function(t,r){n[t]=e.kT(r)})),n},t.prototype.xT=function(t){return new Fr(q(t.latitude),q(t.longitude))},t.prototype.BT=function(t){var e=this;return(t.values||[]).map((function(t){return e.kT(t)}))},t.prototype.MT=function(t){switch(this.$T){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return C(n)?t(n):n}(t);return null==e?null:this.kT(e);case"estimate":return this.LT(L(t));default:return null}},t.prototype.LT=function(t){var e=F(t),n=new y(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.OT=function(t){var e=_.K(t);Ae(ge(e));var n=new Le(e.get(1),e.get(3)),r=new T(e.k(5));return n.isEqual(this.firestore.$c)||Ie("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.firestore.$c.projectId+"/"+this.firestore.$c.database+") instead."),new Hi(r,this.firestore,this.converter)},t}(),qi=ir.uu,Bi=function(){function t(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new f(l.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else yr("settings","non-empty string","host",t.host),this.host=t.host,br("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(kr("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),br("settings","object","credentials",t.credentials),this.credentials=t.credentials,br("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),br("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?Ie("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&Ie("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,br("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=ir._u;else{if(t.cacheSizeBytes!==qi&&t.cacheSizeBytes<ir.cu)throw new f(l.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+ir.cu);this.cacheSizeBytes=t.cacheSizeBytes}br("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Gi=function(){function t(e,n,i){var o=this;if(void 0===i&&(i=new Mi),this.UT=null,this.QT=new Zn,this.INTERNAL={delete:function(){return r.__awaiter(o,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.WT(),[4,this.jT.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.UT=s,this.$c=t.KT(s),this.GT=s.name,this.zT=new v(n)}else{var a=e;if(!a.projectId)throw new f(l.INVALID_ARGUMENT,"Must provide projectId");this.$c=new Le(a.projectId,a.database),this.GT="[DEFAULT]",this.zT=new d}this.HT=i,this.YT=new Bi({})}return Object.defineProperty(t.prototype,"JT",{get:function(){return this.XT||(this.XT=new Hr(this.$c,this.YT.ignoreUndefinedProperties)),this.XT},enumerable:!0,configurable:!0}),t.prototype.settings=function(t){pr("Firestore.settings",arguments,1),mr("Firestore.settings","object",1,t);var e=new Bi(t);if(this.jT&&!this.YT.isEqual(e))throw new f(l.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.YT=e,void 0!==e.credentials&&(this.zT=function(t){if(!t)return new d;switch(t.type){case"gapi":var e=t.ZT;return Ae(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new g(e,t.V||"0");case"provider":return t.ZT;default:throw new f(l.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.WT(),this.jT.enableNetwork()},t.prototype.disableNetwork=function(){return this.WT(),this.jT.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.jT)throw new f(l.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1;return t&&(void 0!==t.experimentalTabSynchronization&&Ie("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n),this.tE(this.HT,{VT:!0,cacheSizeBytes:this.YT.cacheSizeBytes,synchronizeTabs:r})},t.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){if(void 0!==this.jT&&!this.jT.ST)throw new f(l.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return t=new Ge,[2,(this.QT.Ma((function(){return r.__awaiter(e,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this.eE(),[4,this.HT.clearPersistence(e)];case 1:return r.sent(),t.resolve(),[3,3];case 2:return n=r.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"sE",{get:function(){return this.WT(),this.jT.ST},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.WT(),this.jT.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.WT(),$i(t))return this.iE(t);mr("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.iE(e)},t.prototype.iE=function(t){var e=this,n=new Vi({next:function(){t.next&&t.next()},error:function(t){throw ke()}});return this.jT.Df(n),function(){n.NT(),e.jT.Cf(n)}},t.prototype.WT=function(){return this.jT||this.tE(new Mi,{VT:!1}),this.jT},t.prototype.eE=function(){return new Ce(this.$c,this.GT,this.YT.host,this.YT.ssl,this.YT.forceLongPolling)},t.prototype.tE=function(t,e){var n=this.eE();return this.jT=new Ui(ye.nt(),n,this.zT,this.QT),this.jT.start(t,e)},t.KT=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new f(l.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */if(!n||"string"!=typeof n)throw new f(l.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Le(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.UT)throw new f(l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.UT},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return pr("Firestore.collection",arguments,1),mr("Firestore.collection","non-empty string",1,t),this.WT(),new Zi(_.K(t),this)},t.prototype.doc=function(t){return pr("Firestore.doc",arguments,1),mr("Firestore.doc","non-empty string",1,t),this.WT(),Hi.nE(_.K(t),this)},t.prototype.collectionGroup=function(t){if(pr("Firestore.collectionGroup",arguments,1),mr("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new f(l.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.WT(),new Ji(new _t(_.G,t),this)},t.prototype.runTransaction=function(t){var e=this;return pr("Firestore.runTransaction",arguments,1),mr("Firestore.runTransaction","function",1,t),this.WT().transaction((function(n){return t(new Wi(e,n))}))},t.prototype.batch=function(){return this.WT(),new zi(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(we()){case o.LogLevel.DEBUG:return"debug";case o.LogLevel.SILENT:return"silent";default:return"error"}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(pr("Firestore.setLogLevel",arguments,1),mr("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":_e(o.LogLevel.DEBUG);break;case"error":_e(o.LogLevel.ERROR);break;case"silent":_e(o.LogLevel.SILENT);break;default:throw new f(l.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype.rE=function(){return this.YT.timestampsInSnapshots},t}(),Wi=function(){function t(t,e){this.hE=t,this.oE=e}return t.prototype.get=function(t){var e=this;pr("Transaction.get",arguments,1);var n=ro("Transaction.get",t,this.hE);return this.oE.A_([n.kc]).then((function(t){if(!t||1!==t.length)return ke();var r=t[0];if(r instanceof yt)return new Yi(e.hE,n.kc,null,!1,!1,n.aE);if(r instanceof gt)return new Yi(e.hE,n.kc,r,!1,!1,n.aE);throw ke()}))},t.prototype.set=function(t,e,n){vr("Transaction.set",arguments,2,3);var r=ro("Transaction.set",t,this.hE);n=to("Transaction.set",n);var i=oo(r.aE,e,"Transaction.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.hE.JT.Dc(s,o,n.mergeFields):this.hE.JT.vc(s,o);return this.oE.set(r.kc,a),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof Lr?(dr("Transaction.update",arguments,3),r=ro("Transaction.update",t,this.hE),i=this.hE.JT.Fc("Transaction.update",e,n,o)):(pr("Transaction.update",arguments,2),r=ro("Transaction.update",t,this.hE),i=this.hE.JT.Cc("Transaction.update",e)),this.oE.update(r.kc,i),this},t.prototype.delete=function(t){pr("Transaction.delete",arguments,1);var e=ro("Transaction.delete",t,this.hE);return this.oE.delete(e.kc),this},t}(),zi=function(){function t(t){this.hE=t,this.uE=[],this.cE=!1}return t.prototype.set=function(t,e,n){vr("WriteBatch.set",arguments,2,3),this._E();var r=ro("WriteBatch.set",t,this.hE);n=to("WriteBatch.set",n);var i=oo(r.aE,e,"WriteBatch.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this.hE.JT.Dc(s,o,n.mergeFields):this.hE.JT.vc(s,o);return this.uE=this.uE.concat(a.Ac(r.kc,it.ft())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this._E(),"string"==typeof e||e instanceof Lr?(dr("WriteBatch.update",arguments,3),r=ro("WriteBatch.update",t,this.hE),i=this.hE.JT.Fc("WriteBatch.update",e,n,o)):(pr("WriteBatch.update",arguments,2),r=ro("WriteBatch.update",t,this.hE),i=this.hE.JT.Cc("WriteBatch.update",e)),this.uE=this.uE.concat(i.Ac(r.kc,it.exists(!0))),this},t.prototype.delete=function(t){pr("WriteBatch.delete",arguments,1),this._E();var e=ro("WriteBatch.delete",t,this.hE);return this.uE=this.uE.concat(new ct(e.kc,it.ft())),this},t.prototype.commit=function(){return this._E(),this.cE=!0,this.uE.length>0?this.hE.WT().write(this.uE):Promise.resolve()},t.prototype._E=function(){if(this.cE)throw new f(l.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Hi=function(){function t(t,e,n){this.kc=t,this.firestore=e,this.aE=n,this.jT=this.firestore.WT()}return t.nE=function(e,n,r){if(e.length%2!=0)throw new f(l.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.j()+" has "+e.length);return new t(new T(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.kc.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Zi(this.kc.path.L(),this.firestore,this.aE)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.kc.path.j()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(pr("DocumentReference.collection",arguments,1),mr("DocumentReference.collection","non-empty string",1,t),!t)throw new f(l.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=_.K(t);return new Zi(this.kc.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Ar("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.kc.isEqual(e.kc)&&this.aE===e.aE},t.prototype.set=function(t,e){vr("DocumentReference.set",arguments,1,2),e=to("DocumentReference.set",e);var n=oo(this.aE,t,"DocumentReference.set"),r=n[0],i=n[1],o=e.merge||e.mergeFields?this.firestore.JT.Dc(i,r,e.mergeFields):this.firestore.JT.vc(i,r);return this.jT.write(o.Ac(this.kc,it.ft()))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Lr?(dr("DocumentReference.update",arguments,2),n=this.firestore.JT.Fc("DocumentReference.update",t,e,r)):(pr("DocumentReference.update",arguments,1),n=this.firestore.JT.Cc("DocumentReference.update",t)),this.jT.write(n.Ac(this.kc,it.exists(!0)))},t.prototype.delete=function(){return pr("DocumentReference.delete",arguments,0),this.jT.write([new ct(this.kc,it.ft())])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];vr("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||$i(t[i])||(kr("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),br("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return $i(t[i])?n=t[i]:(mr("DocumentReference.onSnapshot","function",i,t[i]),gr("DocumentReference.onSnapshot","function",i+1,t[i+1]),gr("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.lE(o,n)},t.prototype.lE=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Vi({next:function(t){if(e.next){var r=t.docs.get(n.kc);e.next(new Yi(n.firestore,n.kc,r,t.fromCache,t.hasPendingWrites,n.aE))}},error:r}),o=this.jT.listen(_t.Wt(this.kc.path),i,t);return function(){i.NT(),n.jT.rl(o)}},t.prototype.get=function(t){var e=this;return vr("DocumentReference.get",arguments,0,1),no("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.WT().DT(e.kc).then((function(t){n(new Yi(e.firestore,e.kc,t,!0,t instanceof gt&&t.At,e.aE))}),r):e.dE(n,r,t)}))},t.prototype.dE=function(t,e,n){var r=this.lE({includeMetadataChanges:!0,Of:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new f(l.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new f(l.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t.prototype.withConverter=function(e){return new t(this.kc,this.firestore,e)},t}(),Ki=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Yi=function(){function t(t,e,n,r,i,o){this.hE=t,this.kc=e,this.fE=n,this.TE=r,this.EE=i,this.aE=o}return t.prototype.data=function(t){if(vr("DocumentSnapshot.data",arguments,0,1),t=eo("DocumentSnapshot.data",t),this.fE){if(this.aE){var e=new Xi(this.hE,this.kc,this.fE,this.TE,this.EE);return this.aE.fromFirestore(e,t)}return new Fi(this.hE,this.hE.rE(),t.serverTimestamps,void 0).kT(this.fE.Lt())}},t.prototype.get=function(t,e){if(vr("DocumentSnapshot.get",arguments,1,2),e=eo("DocumentSnapshot.get",e),this.fE){var n=this.fE.data().field(Qr("DocumentSnapshot.get",t));if(null!==n)return new Fi(this.hE,this.hE.rE(),e.serverTimestamps,this.aE).kT(n)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.kc.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Hi(this.kc,this.hE,this.aE)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.fE},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Ki(this.EE,this.TE)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw Ar("isEqual","DocumentSnapshot",1,e);return this.hE===e.hE&&this.TE===e.TE&&this.kc.isEqual(e.kc)&&(null===this.fE?null===e.fE:this.fE.isEqual(e.fE))&&this.aE===e.aE},t}(),Xi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Yi),Ji=function(){function t(t,e,n){this.IE=t,this.firestore=e,this.aE=n}return t.prototype.where=function(e,n,r){pr("Query.where",arguments,3),Tr("Query.where",3,r);var i,o=function(t,e,n,r){if(!e.some((function(t){return t===r})))throw new f(l.INVALID_ARGUMENT,"Invalid value "+Ir(r)+" provided to function Query.where() for its "+Sr(2)+" argument. Acceptable values: "+e.join(", "));return r}(0,["<","<=","==",">=",">","array-contains","in","array-contains-any"],0,n),s=Qr("Query.where",e);if(s.Y()){if("array-contains"===o||"array-contains-any"===o)throw new f(l.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o){this.wE(r,o);for(var a=[],u=0,c=r;u<c.length;u++){var h=c[u];a.push(this.RE(h))}i={arrayValue:{values:a}}}else i=this.RE(r)}else"in"!==o&&"array-contains-any"!==o||this.wE(r,o),i=this.firestore.JT.Nc("Query.where",r,"in"===o);var p=Et.create(s,o,i);return this.AE(p),new t(this.IE.Gt(p),this.firestore,this.aE)},t.prototype.orderBy=function(e,n){var r;if(vr("Query.orderBy",arguments,1,2),gr("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new f(l.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}if(null!==this.IE.startAt)throw new f(l.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.IE.endAt)throw new f(l.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=Qr("Query.orderBy",e),o=new xt(i,r);return this.mE(o),new t(this.IE.zt(o),this.firestore,this.aE)},t.prototype.limit=function(e){return pr("Query.limit",arguments,1),mr("Query.limit","number",1,e),Nr("Query.limit",1,e),new t(this.IE.Ht(e),this.firestore,this.aE)},t.prototype.limitToLast=function(e){return pr("Query.limitToLast",arguments,1),mr("Query.limitToLast","number",1,e),Nr("Query.limitToLast",1,e),new t(this.IE.Yt(e),this.firestore,this.aE)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];dr("Query.startAt",arguments,1);var i=this.PE("Query.startAt",e,n,!0);return new t(this.IE.Jt(i),this.firestore,this.aE)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];dr("Query.startAfter",arguments,1);var i=this.PE("Query.startAfter",e,n,!1);return new t(this.IE.Jt(i),this.firestore,this.aE)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];dr("Query.endBefore",arguments,1);var i=this.PE("Query.endBefore",e,n,!0);return new t(this.IE.Xt(i),this.firestore,this.aE)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];dr("Query.endAt",arguments,1);var i=this.PE("Query.endAt",e,n,!1);return new t(this.IE.Xt(i),this.firestore,this.aE)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Ar("isEqual","Query",1,e);return this.firestore===e.firestore&&this.IE.isEqual(e.IE)},t.prototype.withConverter=function(e){return new t(this.IE,this.firestore,e)},t.prototype.PE=function(t,e,n,r){if(Tr(t,1,e),e instanceof Yi){if(n.length>0)throw new f(l.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new f(l.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.VE(i.fE,r)}var o=[e].concat(n);return this.gE(t,o,r)},t.prototype.VE=function(t,e){for(var n=[],r=0,i=this.IE.orderBy;r<i.length;r++){var o=i[r];if(o.field.Y())n.push(G(this.firestore.$c,t.key));else{var s=t.field(o.field);if(C(s))throw new f(l.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var a=o.field.j();throw new f(l.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+a+"' (used as the orderBy) does not exist.")}n.push(s)}}return new St(n,e)},t.prototype.gE=function(t,e,n){var r=this.IE.xt;if(e.length>r.length)throw new f(l.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.Y()){if("string"!=typeof s)throw new f(l.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.IE._e()&&-1!==s.indexOf("/"))throw new f(l.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this.IE.path.child(_.K(s));if(!T.et(a))throw new f(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var u=new T(a);i.push(G(this.firestore.$c,u))}else{var c=this.firestore.JT.Nc(t,s);i.push(c)}}return new St(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];vr("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||$i(t[i])||(kr("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),br("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),$i(t[i])?n=t[i]:(mr("Query.onSnapshot","function",i,t[i]),gr("Query.onSnapshot","function",i+1,t[i+1]),gr("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.pE(this.IE),this.lE(r,n)},t.prototype.lE=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Vi({next:function(t){e.next&&e.next(new Qi(n.firestore,n.IE,t,n.aE))},error:r}),o=this.firestore.WT(),s=o.listen(this.IE,i,t);return function(){i.NT(),o.rl(s)}},t.prototype.pE=function(t){if(t.ae()&&0===t.xt.length)throw new f(l.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return vr("Query.get",arguments,0,1),no("Query.get",t),this.pE(this.IE),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.WT().CT(e.IE).then((function(t){n(new Qi(e.firestore,e.IE,t,e.aE))}),r):e.dE(n,r,t)}))},t.prototype.dE=function(t,e,n){var r=this.lE({includeMetadataChanges:!0,Of:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new f(l.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.RE=function(t){if("string"==typeof t){if(""===t)throw new f(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.IE._e()&&-1!==t.indexOf("/"))throw new f(l.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.IE.path.child(_.K(t));if(!T.et(e))throw new f(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return G(this.firestore.$c,new T(e))}if(t instanceof Hi){var n=t;return G(this.firestore.$c,n.kc)}throw new f(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ir(t)+".")},t.prototype.wE=function(t,e){if(!Array.isArray(t)||0===t.length)throw new f(l.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new f(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new f(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new f(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.AE=function(t){if(t instanceof Et){var e=["array-contains","array-contains-any"],n=["in","array-contains-any"],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.ue()){var o=this.IE.jt();if(null!==o&&!o.isEqual(t.field))throw new f(l.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this.IE.Kt();null!==s&&this.yE(t.field,s)}else if(i||r){var a=null;if(i&&(a=this.IE.ce(n)),null===a&&r&&(a=this.IE.ce(e)),null!=a)throw a===t.op?new f(l.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new f(l.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.mE=function(t){if(null===this.IE.Kt()){var e=this.IE.jt();null!==e&&this.yE(e,t.field)}},t.prototype.yE=function(t,e){if(!e.isEqual(t))throw new f(l.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Qi=function(){function t(t,e,n,r){this.hE=t,this.bE=e,this.vE=n,this.aE=r,this.SE=null,this.DE=null,this.metadata=new Ki(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.vE.docs.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.vE.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;vr("QuerySnapshot.forEach",arguments,1,2),mr("QuerySnapshot.forEach","function",1,t),this.vE.docs.forEach((function(r){t.call(e,n.CE(r))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new Ji(this.bE,this.hE,this.aE)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(kr("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),br("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.vE.hs)throw new f(l.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.SE&&this.DE===e||(this.SE=function(t,e,n,r){if(n.ss.B()){var i=0;return n.docChanges.map((function(e){var o=new Xi(t,e.doc.key,e.doc,n.fromCache,n.ns.has(e.doc.key),r);return e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}}))}var o=n.ss;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var i=new Xi(t,e.doc.key,e.doc,n.fromCache,n.ns.has(e.doc.key),r),s=-1,a=-1;return 0!==e.type&&(s=o.indexOf(e.doc.key),o=o.delete(e.doc.key)),1!==e.type&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:io(e.type),doc:i,oldIndex:s,newIndex:a}}))}(this.hE,e,this.vE,this.aE),this.DE=e),this.SE},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Ar("isEqual","QuerySnapshot",1,e);return this.hE===e.hE&&this.bE.isEqual(e.bE)&&this.vE.isEqual(e.vE)&&this.aE===e.aE},t.prototype.CE=function(t){return new Xi(this.hE,t.key,t,this.metadata.fromCache,this.vE.ns.has(t.key),this.aE)},t}(),Zi=function(t){function e(e,n,r){var i=this;if((i=t.call(this,_t.Wt(e),n,r)||this).FE=e,e.length%2!=1)throw new f(l.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.j()+" has "+e.length);return i}return r.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.IE.path.O()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.IE.path.L();return t.B()?null:new Hi(new T(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.IE.path.j()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(vr("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Se.cn()),mr("CollectionReference.doc","non-empty string",1,t),""===t)throw new f(l.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=_.K(t);return Hi.nE(this.IE.path.child(e),this.firestore,this.aE)},e.prototype.add=function(t){pr("CollectionReference.add",arguments,1),mr("CollectionReference.add","object",1,this.aE?this.aE.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.FE,this.firestore,t)},e}(Ji);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function to(t,e){if(void 0===e)return{merge:!1};if(kr(t,e,["merge","mergeFields"]),br(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Ir(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new f(l.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+Ir(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof Lr}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new f(l.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function eo(t,e){return void 0===e?{}:(kr(t,e,["serverTimestamps"]),wr(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function no(t,e){gr(t,"object",1,e),e&&(kr(t,e,["source"]),wr(t,0,"source",e.source,["default","server","cache"]))}function ro(t,e,n){if(e instanceof Hi){if(e.firestore!==n)throw new f(l.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw Ar(t,"DocumentReference",1,e)}function io(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}function oo(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}function so(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new f(l.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ao=so(Gi,"Use firebase.firestore() instead."),uo=so(Wi,"Use firebase.firestore().runTransaction() instead."),co=so(zi,"Use firebase.firestore().batch() instead."),ho=so(Hi,"Use firebase.firestore().doc() instead."),lo=so(Yi),fo=so(Xi),po=so(Ji),vo=so(Qi),mo=so(Zi,"Use firebase.firestore().collection() instead."),go=so(function(){function t(){}return t.delete=function(){return fr("FieldValue.delete",arguments),new Mr},t.serverTimestamp=function(){return fr("FieldValue.serverTimestamp",arguments),new jr},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return dr("FieldValue.arrayUnion",arguments,1),new Ur(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return dr("FieldValue.arrayRemove",arguments,1),new Vr(t)},t.increment=function(t){return mr("FieldValue.increment","number",1,t),pr("FieldValue.increment",arguments,1),new $r(t)},t.prototype.isEqual=function(t){return this===t},t}(),"Use FieldValue.<field>() instead."),yo=so(Cr,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),bo={Firestore:ao,GeoPoint:Fr,Timestamp:y,Blob:yo,Transaction:uo,WriteBatch:co,DocumentReference:ho,DocumentSnapshot:lo,Query:po,QueryDocumentSnapshot:fo,QuerySnapshot:vo,CollectionReference:mo,FieldPath:Lr,FieldValue:go,setLogLevel:Gi.setLogLevel,CACHE_SIZE_UNLIMITED:qi},wo=function(){function t(){}return t.prototype.B_=function(t){},t.prototype.mo=function(){},t}(),_o=function(){function t(){var t=this;this.NE=function(){return t.$E()},this.kE=function(){return t.LE()},this.ME=[],this.OE()}return t.prototype.B_=function(t){this.ME.push(t)},t.prototype.mo=function(){window.removeEventListener("online",this.NE),window.removeEventListener("offline",this.kE)},t.prototype.OE=function(){window.addEventListener("online",this.NE),window.addEventListener("offline",this.kE)},t.prototype.$E=function(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.ME;t<e.length;t++)(0,e[t])(0)},t.prototype.LE=function(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.ME;t<e.length;t++)(0,e[t])(1)},t.Gh=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Eo=function(){function t(t){this.xE=t.xE,this.BE=t.BE}return t.prototype.e_=function(t){this.qE=t},t.prototype.Yc=function(t){this.UE=t},t.prototype.onMessage=function(t){this.QE=t},t.prototype.close=function(){this.BE()},t.prototype.send=function(t){this.xE(t)},t.prototype.WE=function(){this.qE()},t.prototype.jE=function(t){this.UE(t)},t.prototype.KE=function(t){this.QE(t)},t}(),Io={BatchGetDocuments:"batchGet",Commit:"commit"},To="gl-js/ fire/"+c,ko=function(){function t(t){this.ii=t.ii;var e=t.ssl?"https":"http";this.GE=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.zE=function(t,e){if(e)for(var n in e.o)e.o.hasOwnProperty(n)&&(t[n]=e.o[n]);t["X-Goog-Api-Client"]=To},t.prototype.d_=function(t,e,n){var r=this,i=this.HE(t);return new Promise((function(o,s){var a=new u.XhrIo;a.listenOnce(u.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=a.getResponseJson();Ee("Connection","XHR received:",JSON.stringify(e)),o(e);break;case u.ErrorCode.TIMEOUT:Ee("Connection",'RPC "'+t+'" timed out'),s(new f(l.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(Ee("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var i=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(l).indexOf(e)>=0?e:l.UNKNOWN}(r.status);s(new f(i,r.message))}else s(new f(l.UNKNOWN,"Server responded with status "+a.getStatus()))}else Ee("Connection",'RPC "'+t+'" failed'),s(new f(l.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{Ee("Connection",'RPC "'+t+'" completed.')}}));var c=Object.assign({},e);delete c.database;var h=JSON.stringify(c);Ee("Connection","XHR sending: ",i+" "+h);var p={"Content-Type":"text/plain"};r.zE(p,n),a.send(i,"POST",h,p,15)}))},t.prototype.f_=function(t,e,n){return this.d_(t,e,n)},t.prototype.s_=function(t,e){var n=[this.GE,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=u.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.ii.projectId+"/databases/"+this.ii.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.zE(i.initMessageHeaders,e),s.isMobileCordova()||s.isReactNative()||s.isElectron()||s.isIE()||s.isUWP()||s.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Ee("Connection","Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),c=!1,h=!1,p=new Eo({xE:function(t){h?Ee("Connection","Not sending because WebChannel is closed:",t):(c||(Ee("Connection","Opening WebChannel transport."),a.open(),c=!0),Ee("Connection","WebChannel sending:",t),a.send(t))},BE:function(){return a.close()}}),d=function(t,e){a.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return d(u.WebChannel.EventType.OPEN,(function(){h||Ee("Connection","WebChannel transport opened.")})),d(u.WebChannel.EventType.CLOSE,(function(){h||(h=!0,Ee("Connection","WebChannel transport closed"),p.jE())})),d(u.WebChannel.EventType.ERROR,(function(t){h||(h=!0,Ee("Connection","WebChannel transport errored:",t),p.jE(new f(l.UNAVAILABLE,"The operation could not be completed")))})),d(u.WebChannel.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];Ae(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Ee("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=dt[t];if(void 0!==e)return Lt(e)}(o),u=i.message;void 0===s&&(s=l.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),h=!0,p.jE(new f(s,u)),a.close()}else Ee("Connection","WebChannel received:",n),p.KE(n)}})),setTimeout((function(){p.WE()}),0),p},t.prototype.HE=function(t){var e=Io[t];return this.GE+"/v1/projects/"+this.ii.projectId+"/databases/"+this.ii.database+"/documents:"+e},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ao(t){!function(t,e){t.INTERNAL.registerComponent(new a.Component("firestore",(function(t){return function(t,e){return new Gi(t,e,new ji)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},bo)))}(t),t.registerVersion("@firebase/firestore","1.14.6")
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}ye.an(new(function(){function t(){this.ac="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.yT=function(t){return Promise.resolve(new ko(t))},t.prototype.AT=function(){return _o.Gh()?new _o:new wo},t.prototype.bc=function(t){return new me(t,{hi:!0})},t.prototype.un=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t.prototype._n=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n},t}())),Ao(i),e.__PRIVATE_registerFirestore=Ao}));oe(me);me.__PRIVATE_registerFirestore;(function(){var t,e=le.default,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var r=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof ie&&ie,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,e){if(e){var i=r;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(e=e(o=i[t=t[t.length-1]]))!=o&&null!=e&&n(i,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=r.setTimeout;n.prototype.c=function(t){s(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),s=r.next();!s.done;s=r.next())i(s.value).Oa(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Oa(o(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var s=s||{},a=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function f(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==l(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),m=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:y).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var _=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function I(t,e,n){this.code=A+t,this.message=e||N[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new I(e.substring(A.length),t.message,t.serverResponse):null}E(I,Error),I.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},I.prototype.toJSON=function(){return this.v()};var k,A="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},S={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function x(t){for(var e in S)if(S[e].id===t)return{firebaseEndpoint:(t=S[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function O(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function C(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function L(t,e){throw new C("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function P(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function R(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}k=x("__EID__")?"__EID__":void 0,E(D,Error),D.prototype.name="CustomError",E(C,D),C.prototype.name="AssertionError",P.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var j=new P((function(){return new V}),(function(t){t.reset()}));function U(){var t=ye,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function V(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=j.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var $=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},F=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var q=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},B=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function W(t,e){return 0<=$(t,e)}function z(t,e){var n;return(n=0<=(e=$(t,e)))&&Array.prototype.splice.call(t,e,1),n}function H(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function K(t){return Array.prototype.concat.apply([],arguments)}function Y(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var X,J=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Q=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function st(t,e){return t<e?-1:t>e?1:0}t:{var at=a.navigator;if(at){var ut=at.userAgent;if(ut){X=ut;break t}}X=""}function ct(t){return ot(X,t)}function ht(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function lt(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<pt.length;o++)n=pt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(d(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===bt&&e||"",this.b=yt}function gt(t){return t instanceof mt&&t.constructor===mt&&t.b===yt?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.ra=!0,mt.prototype.qa=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt={},bt={},wt=new mt(bt,"");function _t(t,e){this.a=t===Nt&&e||"",this.b=At}function Et(t){return t instanceof _t&&t.constructor===_t&&t.b===At?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function It(t,e){var n=gt(t);if(!kt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Tt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof mt?gt(t):encodeURIComponent(String(t))})),new _t(Nt,t)}_t.prototype.ra=!0,_t.prototype.qa=function(){return this.a.toString()},_t.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Tt=/%{(\w+)}/g,kt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={},Nt={};function St(t,e){this.a=t===Lt&&e||"",this.b=Ct}function xt(t){return t instanceof St&&t.constructor===St&&t.b===Ct?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}St.prototype.ra=!0,St.prototype.qa=function(){return this.a.toString()},St.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ot=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Dt(t){return t instanceof St?t:(t="object"==typeof t&&t.ra?t.qa():String(t),Ot.test(t)||(t="about:invalid#zClosurez"),new St(Lt,t))}var Ct={},Lt={};function Pt(){this.a="",this.b=Mt}function Rt(t){return t instanceof Pt&&t.constructor===Pt&&t.b===Mt?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}Pt.prototype.ra=!0,Pt.prototype.qa=function(){return this.a.toString()},Pt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Mt={};function jt(t){var e=new Pt;return e.a=t,e}jt("<!DOCTYPE html>");var Ut=jt("");function Vt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function $t(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Q,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function Ft(t){return Ft[" "](t),t}jt("<br>"),Ft[" "]=h;var qt,Bt,Gt=ct("Opera"),Wt=ct("Trident")||ct("MSIE"),zt=ct("Edge"),Ht=zt||Wt,Kt=ct("Gecko")&&!(ot(X.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),Yt=ot(X.toLowerCase(),"webkit")&&!ct("Edge");function Xt(){var t=a.document;return t?t.documentMode:void 0}t:{var Jt="",Qt=(Bt=X,Kt?/rv:([^\);]+)(\)|;)/.exec(Bt):zt?/Edge\/([\d\.]+)/.exec(Bt):Wt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Bt):Yt?/WebKit\/(\S+)/.exec(Bt):Gt?/(?:Version)[ \/]?(\S+)/.exec(Bt):void 0);if(Qt&&(Jt=Qt?Qt[1]:""),Wt){var Zt=Xt();if(null!=Zt&&Zt>parseFloat(Jt)){qt=String(Zt);break t}}qt=Jt}var te,ee={};function ne(t){return function(t,e){var n=ee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=J(String(qt)).split("."),r=J(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=st(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||st(0==s[2].length,0==a[2].length)||st(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}te=a.document&&Wt?Xt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Bt){}var re=!Wt||9<=Number(te);function oe(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function se(t,e){ht(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ce.hasOwnProperty(n)?t.setAttribute(ce[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ae,ue,ce={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function he(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!f(o)||d(o)&&0<o.nodeType?r(o):F(pe(o)?Y(o):o,r)}}function fe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){if(t&&"number"==typeof t.length){if(d(t))return"function"==typeof t.item||"string"==typeof t.item;if(p(t))return"function"==typeof t.item}return!1}function de(t){a.setTimeout((function(){throw t}),0)}function ve(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(t=function(){var t=fe(document,"IFRAME");t.style.display="none",function(t){var e=new _t(Nt,gt(wt));vt(t,"HTMLIFrameElement"),t.src=Et(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Rt(Ut)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ct("Trident")&&!ct("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}function me(t,e){ue||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);ue=function(){t.then(be)}}else ue=function(){var t=be;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!ct("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ae||(ae=ve()),ae(t)):a.setImmediate(t)}}(),ge||(ue(),ge=!0),ye.add(t,e)}var ge=!1,ye=new M;function be(){for(var t;t=U();){try{t.a.call(t.b)}catch(t){de(t)}R(j,t)}ge=!1}function we(t,e){if(this.a=_e,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Le(n,Ee,t)}),(function(t){if(!(t instanceof $e))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Le(n,Ie,t)}))}catch(t){Le(this,Ie,t)}}var _e=0,Ee=2,Ie=3;function Te(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Te.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ke=new P((function(){return new Te}),(function(t){t.reset()}));function Ae(t,e,n){var r=ke.get();return r.g=t,r.b=e,r.f=n,r}function Ne(t){if(t instanceof we)return t;var e=new we(h);return Le(e,Ee,t),e}function Se(t){return new we((function(e,n){n(t)}))}function xe(t,e,n){Pe(t,e,n,null)||me(w(e,t))}function Oe(t){return new we((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)xe(t[o],w(i,o,!0),w(i,o,!1));else e(r)}))}function De(t,e){t.b||t.a!=Ee&&t.a!=Ie||Re(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ce(t,e,n,r){var i=Ae(null,null,null);return i.a=new we((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof $e?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,De(t,i),i.a}function Le(t,e,n){t.a==_e&&(t===n&&(e=Ie,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Re(t),e!=Ie||n instanceof $e||function(t,e){t.g=!0,me((function(){t.g&&Ve.call(null,e)}))}(t,n)))}function Pe(t,e,n,r){if(t instanceof we)return De(t,Ae(e||h,n||null,r)),!0;if(O(t))return t.then(e,n,r),!0;if(d(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Re(t){t.h||(t.h=!0,me(t.ec,t))}function Me(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function je(t,e,n,r){if(n==Ie&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ue(e,n,r);else try{e.c?e.g.call(e.f):Ue(e,n,r)}catch(t){Ve.call(null,t)}R(ke,e)}function Ue(t,e,n){e==Ee?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}we.prototype.then=function(t,e,n){return Ce(this,p(t)?t:null,p(e)?e:null,n)},we.prototype.$goog_Thenable=!0,(t=we.prototype).ma=function(t,e){return(t=Ae(t,t,e)).c=!0,De(this,t),this},t.o=function(t,e){return Ce(this,null,t,e)},t.cancel=function(t){if(this.a==_e){var e=new $e(t);me((function(){!function t(e,n){if(e.a==_e)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==_e&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):Me(r),je(r,o,Ie,n)))}e.c=null}else Le(e,Ie,n)}(this,e)}),this)}},t.Yc=function(t){this.a=_e,Le(this,Ee,t)},t.Zc=function(t){this.a=_e,Le(this,Ie,t)},t.ec=function(){for(var t;t=Me(this);)je(this,t,this.a,this.i);this.h=!1};var Ve=de;function $e(t){D.call(this,t)}function Fe(){this.wa=this.wa,this.na=this.na}E($e,D),$e.prototype.name="cancel";function qe(t){if(!t.wa&&(t.wa=!0,t.Ba(),0))(function(t){Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++m)})(t)}Fe.prototype.wa=!1,Fe.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var Be=Object.freeze||function(t){return t},Ge=!Wt||9<=Number(te),We=Wt&&!ne("9"),ze=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(t){}return t}();function He(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ke(t,e){if(He.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Kt){t:{try{Ft(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ye[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}He.prototype.preventDefault=function(){this.defaultPrevented=!0},E(Ke,He);var Ye=Be({2:"touch",3:"pen",4:"mouse"});Ke.prototype.preventDefault=function(){Ke.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,We)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Ke.prototype.f=function(){return this.a};var Xe="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Qe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++Je,this.ua=this.Na=!1}function Ze(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function tn(t){this.src=t,this.a={},this.b=0}function en(t,e){var n=e.type;n in t.a&&z(t.a[n],e)&&(Ze(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function nn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}tn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=nn(t,e,r,i);return-1<s?(e=t[s],n||(e.Na=!1)):((e=new Qe(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var rn="closure_lm_"+(1e6*Math.random()|0),on={};function sn(t,e,n,r,i){if(r&&r.once)un(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else n=gn(n),t&&t[Xe]?bn(t,e,n,d(r)?!!r.capture:!!r,i):an(t,e,n,!1,r,i)}function an(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=d(i)?!!i.capture:!!i,a=vn(t);if(a||(t[rn]=a=new tn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=dn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ze||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ln(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function un(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=gn(n),t&&t[Xe]?wn(t,e,n,d(r)?!!r.capture:!!r,i):an(t,e,n,!0,r,i)}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=gn(n),t&&t[Xe]?(t=t.u,(e=String(e).toString())in t.a&&(-1<(n=nn(o=t.a[e],n,r,i))&&(Ze(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=nn(e,n,r,i)),(n=-1<t?e[t]:null)&&hn(n))}function hn(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Xe])en(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ln(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vn(e))?(en(n,t),0==n.b&&(n.src=null,e[rn]=null)):Ze(t)}}}function ln(t){return t in on?on[t]:on[t]="on"+t}function fn(t,e,n,r){var i=!0;if((t=vn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&hn(t),n.call(r,e)}function dn(t,e){if(t.ua)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ke(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=fn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=fn(r[i],t,!1,e),n=n&&o}return n}return pn(t,new Ke(e,this))}function vn(t){return(t=t[rn])instanceof tn?t:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function gn(t){return p(t)?t:(t[mn]||(t[mn]=function(e){return t.handleEvent(e)}),t[mn])}function yn(){Fe.call(this),this.u=new tn(this),this.Yb=this,this.eb=null}function bn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function wn(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function _n(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ua&&s.capture==n){var a=s.listener,u=s.Ta||s.src;s.Na&&en(t.u,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function En(t,e,n){if(p(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function In(t){var e=null;return new we((function(n,r){-1==(e=En((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function Tn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function kn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function An(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof An)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Nn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Sn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Sn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Sn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(yn,Fe),yn.prototype[Xe]=!0,yn.prototype.addEventListener=function(t,e,n,r){sn(this,t,e,n,r)},yn.prototype.removeEventListener=function(t,e,n,r){cn(this,t,e,n,r)},yn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t)t=new He(t,n);else if(t instanceof He)t.target=t.target||n;else{var i=t;dt(t=new He(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=_n(s,r,!0,t)&&i}if(i=_n(s=t.b=n,r,!0,t)&&i,i=_n(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=_n(s=t.b=e[o],r,!1,t)&&i;return i},yn.prototype.Ba=function(){if(yn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ze(n[r]);delete e.a[t],e.b--}}this.eb=null},(t=An.prototype).V=function(){Nn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return Nn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Sn(this.b,t)?this.b[t]:e},t.set=function(t,e){Sn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function On(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof On?(this.h=void 0!==e?e:t.h,Dn(this,t.f),this.i=t.i,this.b=t.b,Cn(this,t.l),this.c=t.c,Ln(this,Qn(t.a)),this.g=t.g):t&&(n=String(t).match(xn))?(this.h=!!e,Dn(this,n[1]||"",!0),this.i=Un(n[2]||""),this.b=Un(n[3]||"",!0),Cn(this,n[4]),this.c=Un(n[5]||"",!0),Ln(this,n[6]||"",!0),this.g=Un(n[7]||"")):(this.h=!!e,this.a=new zn(null,this.h))}function Dn(t,e,n){t.f=n?Un(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Cn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Ln(t,e,n){e instanceof zn?(t.a=e,function(t,e){e&&!t.f&&(Hn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Yn(this,e),Jn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=Vn(e,Gn)),t.a=new zn(e,t.h))}function Pn(t,e,n){t.a.set(e,n)}function Rn(t,e){return t.a.get(e)}function Mn(t){return t instanceof On?new On(t):new On(t,void 0)}function jn(t,e){var n=new On(null,void 0);return Dn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Un(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,$n),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $n(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}On.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Vn(e,Fn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(Vn(e,Fn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Vn(n,"/"==n.charAt(0)?Bn:qn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Vn(n,Wn)),t.join("")},On.prototype.resolve=function(t){var e=new On(this),n=!!t.f;n?Dn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)Cn(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ot(i,"./")||ot(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Ln(e,Qn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Fn=/[#\/\?@]/g,qn=/[#\?:]/g,Bn=/[#\?]/g,Gn=/[#\?@]/g,Wn=/#/g;function zn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Hn(t){t.a||(t.a=new An,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Kn(t){var e=kn(t);if(void 0===e)throw Error("Keys are undefined");var n=new zn(null,void 0);t=Tn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Yn(t,e){Hn(t),e=Zn(t,e),Sn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Sn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Nn(t)))}function Xn(t,e){return Hn(t),e=Zn(t,e),Sn(t.a.b,e)}function Jn(t,e,n){Yn(t,e),0<n.length&&(t.c=null,t.a.set(Zn(t,e),Y(n)),t.b+=n.length)}function Qn(t){var e=new zn;return e.c=t.c,t.a&&(e.a=new An(t.a),e.b=t.b),e}function Zn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function tr(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(s=n[i])&&(r.push(o),ir(i,r),r.push(":"),t(e,s,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":ir(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new er,t,e),e.join("")}function er(){}(t=zn.prototype).add=function(t,e){Hn(this),this.c=null,t=Zn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Hn(this),this.a.forEach((function(n,r){F(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.X=function(){Hn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){Hn(this);var e=[];if("string"==typeof t)Xn(this,t)&&(e=K(e,this.a.get(Zn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=K(e,t[n])}return e},t.set=function(t,e){return Hn(this),this.c=null,Xn(this,t=Zn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var nr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},rr=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ir(t,e){e.push('"',t.replace(rr,(function(t){var e=nr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),nr[t]=e),e})),'"')}function or(){var t=Tr();return Wt&&!!te&&11==te||/Edge\/\d+/.test(t)}function sr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function ar(t,e){e=e||a.window;var n="about:blank";t&&(n=xt(Dt(t))),e.location.href=n}function ur(t){return!!((t=(t||Tr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function cr(t){t=t||a.window;try{t.close()}catch(t){}}function hr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Tr().toLowerCase(),r&&(e.target=r,ot(n,"crios/")&&(e.target="_blank")),_r(Tr())==br&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof St?n:Dt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=fe(document,"A"),"HTMLAnchorElement"),e instanceof St||e instanceof St||(e="object"==typeof e&&e.ra?e.qa():String(e),Ot.test(e)||(e="about:invalid#zClosurez"),e=new St(Lt,e)),s.href=xt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=xt(e),s&&(Ht&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=jt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+$t(t)+'">'),r=s.document)&&(r.write(Rt(t)),r.close())):(s=r.open(xt(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var lr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fr=/^[^@]+@[^@]+$/;function pr(){var t=null;return new we((function(e){"complete"==a.document.readyState?e():(t=function(){e()},un(window,"load",t))})).o((function(e){throw cn(window,"load",t),e}))}function dr(t){return t=t||Tr(),!("file:"!==xr()&&"ionic:"!==xr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function vr(){var t=a.window;try{return!(!t||t==t.top)}catch(t){return!1}}function mr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function gr(){return e.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.INTERNAL.hasOwnProperty("node")?"Node":mr()?"Worker":"Browser"}function yr(){var t=gr();return"ReactNative"===t||"Node"===t}var br="Firefox",wr="Chrome";function _r(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?br:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":wr:"Safari"}var Er={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function Ir(t,e){e=e||[];var n,r=[],i={};for(n in Er)i[Er[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=gr())?r=_r(i=Tr()):"Worker"===r&&(r=_r(i=Tr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Tr(){return a.navigator&&a.navigator.userAgent||""}function kr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Ar(){try{var t=a.localStorage,e=Pr();if(t)return t.setItem(e,"1"),t.removeItem(e),!or()||!!a.indexedDB}catch(t){return mr()&&!!a.indexedDB}return!1}function Nr(){return(Sr()||"chrome-extension:"===xr()||dr())&&!yr()&&Ar()&&!mr()}function Sr(){return"http:"===xr()||"https:"===xr()}function xr(){return a.location&&a.location.protocol||null}function Or(t){return!ur(t=t||Tr())&&_r(t)!=br}function Dr(t){return void 0===t?null:tr(t)}function Cr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Lr(t){if(null!==t)return JSON.parse(t)}function Pr(t){return t||Math.floor(1e9*Math.random()).toString()}function Rr(t){return"Safari"!=_r(t=t||Tr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Mr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function jr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Tr(),e=gr(),this.b=ur(t)||"ReactNative"===e}function Ur(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Vr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function $r(){return!(!kr("fireauth.oauthhelper",a)&&!kr("fireauth.iframe",a))}jr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Sr()&&"chrome-extension:"!==xr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Fr,qr={};function Br(t){qr[t]||(qr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),Fr=2==Gr.abcd}catch(Bt){Fr=!1}function Wr(t,e,n){Fr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Wr(t,n,e[n])}function Hr(t){var e={};return zr(e,t),e}function Kr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Wr(e,n,Kr(t[n]));return e}function Yr(t){var e=t&&(t[ti]?"phone":null);if(!(e&&t&&t[Zr]))throw new I("internal-error","Internal assert: invalid MultiFactorInfo object");Wr(this,"uid",t[Zr]),Wr(this,"displayName",t[Jr]||null);var n=null;t[Qr]&&(n=new Date(t[Qr]).toUTCString()),Wr(this,"enrollmentTime",n),Wr(this,"factorId",e)}function Xr(t){try{var e=new ei(t)}catch(t){e=null}return e}Yr.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Jr="displayName",Qr="enrolledAt",Zr="mfaEnrollmentId",ti="phoneInfo";function ei(t){Yr.call(this,t),Wr(this,"phoneNumber",t[ti])}function ni(t){var e={},n=t[si],r=t[ui],i=t[ci];if(t=Xr(t[ai]),!i||i!=ii&&i!=oi&&!n||i==oi&&!r||i==ri&&!t)throw Error("Invalid checkActionCode response!");i==oi?(e[li]=n||null,e[pi]=n||null,e[hi]=r):(e[li]=r||null,e[pi]=r||null,e[hi]=n||null),e[fi]=t||null,Wr(this,vi,i),Wr(this,di,Kr(e))}E(ei,Yr),ei.prototype.v=function(){var t=ei.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var ri="REVERT_SECOND_FACTOR_ADDITION",ii="EMAIL_SIGNIN",oi="VERIFY_AND_CHANGE_EMAIL",si="email",ai="mfaInfo",ui="newEmail",ci="requestType",hi="email",li="fromEmail",fi="multiFactorInfo",pi="previousEmail",di="data",vi="operation";function mi(t){var e=Rn(t=Mn(t),gi)||null,n=Rn(t,yi)||null,r=Rn(t,_i)||null;if(r=r&&Ii[r]||null,!e||!n||!r)throw new I("argument-error",gi+", "+yi+"and "+_i+" are required in a valid action code URL.");zr(this,{apiKey:e,operation:r,code:n,continueUrl:Rn(t,bi)||null,languageCode:Rn(t,wi)||null,tenantId:Rn(t,Ei)||null})}var gi="apiKey",yi="oobCode",bi="continueUrl",wi="languageCode",_i="mode",Ei="tenantId",Ii={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ri,signIn:ii,verifyAndChangeEmail:oi,verifyEmail:"VERIFY_EMAIL"};function Ti(t){try{return new mi(t)}catch(t){return null}}function ki(t){var e=t[Oi];if(void 0===e)throw new I("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new I("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ai];if(n&&"object"==typeof n){e=n[Li];var r=n[Di];if(n=n[Ci],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new I("argument-error",Di+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new I("argument-error",Ci+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new I("argument-error",Li+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new I("missing-android-pkg-name")}}else if(void 0!==n)throw new I("argument-error",Ai+" property must be a non null object when specified.");if(this.f=null,(e=t[xi])&&"object"==typeof e){if("string"==typeof(e=e[Pi])&&e.length)this.f=e;else if(void 0!==e)throw new I("argument-error",Pi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new I("argument-error",xi+" property must be a non null object when specified.");if(void 0!==(e=t[Si])&&"boolean"!=typeof e)throw new I("argument-error",Si+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ni])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new I("argument-error",Ni+" property must be a non empty string when specified.");this.i=t||null}var Ai="android",Ni="dynamicLinkDomain",Si="handleCodeInApp",xi="iOS",Oi="url",Di="installApp",Ci="minimumVersion",Li="packageName",Pi="bundleId";function Ri(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Mi=null;function ji(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Mi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Mi){Mi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Mi[o]&&(Mi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Ui(t){var e=$i(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Vi(t){try{return new Ui(t)}catch(t){return null}}function $i(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(ji(t))}catch(t){}return null}Ui.prototype.S=function(){return this.f},Ui.prototype.i=function(){return this.b},Ui.prototype.toString=function(){return this.g};var Fi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),qi=["client_id","response_type","scope","redirect_uri","state"],Bi={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:qi},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:qi},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:qi},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Fi},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function Gi(t){for(var e in Bi)if(Bi[e].ea==t)return Bi[e];return null}function Wi(t){var e={};e["facebook.com"]=Xi,e["google.com"]=Qi,e["github.com"]=Ji,e["twitter.com"]=Zi;var n=t&&t[Hi];try{if(n)return e[n]?new e[n](t):new Yi(t);if(void 0!==t[zi])return new Ki(t)}catch(t){}return null}var zi="idToken",Hi="providerId";function Ki(t){var e=t[Hi];if(!e&&t[zi]){var n=Vi(t[zi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Wr(this,"providerId",e),Wr(this,"isNewUser",n)}function Yi(t){Ki.call(this,t),Wr(this,"profile",Kr((t=Lr(t.rawUserInfo||"{}"))||{}))}function Xi(t){if(Yi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ji(t){if(Yi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",this.profile&&this.profile.login||null)}function Qi(t){if(Yi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zi(t){if(Yi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",t.screenName||null)}function to(t){var e=Mn(t),n=Rn(e,"link"),r=Rn(Mn(n),"link");return e=Rn(e,"deep_link_id"),Rn(Mn(e),"link")||e||r||n||t}function eo(t,e){if(!t&&!e)throw new I("internal-error","Internal assert: no raw session string available");if(t&&e)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?no:ro}E(Yi,Ki),E(Xi,Yi),E(Ji,Yi),E(Qi,Yi),E(Zi,Yi);var no="enroll",ro="signin";function io(){}function oo(t,e){return t.then((function(t){if(t[Hs]){var n=Vi(t[Hs]);if(!n||e!=n.h)throw new I("user-mismatch");return t}throw new I("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new I("user-mismatch"):t}))}function so(t,e){if(!e)throw new I("internal-error","failed to construct a credential");this.a=e,Wr(this,"providerId",t),Wr(this,"signInMethod",t)}function ao(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function uo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new so(t.providerId,t.pendingToken)}catch(t){}return null}function co(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Wr(this,"idToken",e.idToken),e.accessToken&&Wr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Wr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new I("internal-error","failed to construct a credential");Wr(this,"accessToken",e.oauthToken),Wr(this,"secret",e.oauthTokenSecret)}Wr(this,"providerId",t),Wr(this,"signInMethod",n)}function ho(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Kn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function lo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new co(t.providerId,e,t.signInMethod)}catch(t){}}return null}function fo(t,e){this.Oc=e||[],zr(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Gi(t)||{}).Ha||null,this.kb=null}function po(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');fo.call(this,t,[])}function vo(t){fo.call(this,t,qi),this.a=[]}function mo(){vo.call(this,"facebook.com")}function go(t){if(!t)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new mo).credential({accessToken:e})}function yo(){vo.call(this,"github.com")}function bo(t){if(!t)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function wo(){vo.call(this,"google.com"),this.Aa("profile")}function _o(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new wo).credential({idToken:n,accessToken:e})}function Eo(){fo.call(this,"twitter.com",Fi)}function Io(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new co("twitter.com",n,"twitter.com")}function To(t,e,n){this.a=t,this.f=e,Wr(this,"providerId","password"),Wr(this,"signInMethod",n===Ao.EMAIL_LINK_SIGN_IN_METHOD?Ao.EMAIL_LINK_SIGN_IN_METHOD:Ao.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ko(t){return t&&t.email&&t.password?new To(t.email,t.password,t.signInMethod):null}function Ao(){zr(this,{providerId:"password",isOAuthProvider:!1})}function No(t,e){if(!(e=So(e)))throw new I("argument-error","Invalid email link!");return new To(t,e.code,Ao.EMAIL_LINK_SIGN_IN_METHOD)}function So(t){return(t=Ti(t=to(t)))&&t.operation===ii?t:null}function xo(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new I("internal-error");this.a=t,Wr(this,"providerId","phone"),this.ea="phone",Wr(this,"signInMethod","phone")}function Oo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return F(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new xo(e)}return null}function Do(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Co(t){try{this.a=t||e.auth()}catch(t){throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}zr(this,{providerId:"phone",isOAuthProvider:!1})}function Lo(t,e){if(!t)throw new I("missing-verification-id");if(!e)throw new I("missing-verification-code");return new xo({bb:t,ab:e})}function Po(t){if(t.temporaryProof&&t.phoneNumber)return new xo({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return _o(o,n);case"facebook.com":return go(n);case"github.com":return bo(n);case"twitter.com":return Io(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new so(e,s):new co(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new vo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Ro(t){if(!t.isOAuthProvider)throw new I("invalid-oauth-provider")}function Mo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new I("invalid-auth-event");if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}function jo(t){return(t=t||{}).type?new Mo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function Uo(){this.b=null,this.a=[]}eo.prototype.Fa=function(){return this.a?Ne(this.a):Ne(this.b)},eo.prototype.v=function(){return this.type==no?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},io.prototype.ia=function(){},io.prototype.b=function(){},io.prototype.c=function(){},io.prototype.v=function(){},so.prototype.ia=function(t){return pa(t,ao(this))},so.prototype.b=function(t,e){var n=ao(this);return n.idToken=e,da(t,n)},so.prototype.c=function(t,e){return oo(va(t,ao(this)),e)},so.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},co.prototype.ia=function(t){return pa(t,ho(this))},co.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,da(t,n)},co.prototype.c=function(t,e){return oo(va(t,ho(this)),e)},co.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},fo.prototype.Ia=function(t){return this.Fb=ft(t),this},E(po,fo),E(vo,fo),vo.prototype.Aa=function(t){return W(this.a,t)||this.a.push(t),this},vo.prototype.Nb=function(){return Y(this.a)},vo.prototype.credential=function(t,e){var n;if(!(n=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new co(this.providerId,n,this.providerId)},E(mo,vo),Wr(mo,"PROVIDER_ID","facebook.com"),Wr(mo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(yo,vo),Wr(yo,"PROVIDER_ID","github.com"),Wr(yo,"GITHUB_SIGN_IN_METHOD","github.com"),E(wo,vo),Wr(wo,"PROVIDER_ID","google.com"),Wr(wo,"GOOGLE_SIGN_IN_METHOD","google.com"),E(Eo,fo),Wr(Eo,"PROVIDER_ID","twitter.com"),Wr(Eo,"TWITTER_SIGN_IN_METHOD","twitter.com"),To.prototype.ia=function(t){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?Xa(t,Ia,{email:this.a,oobCode:this.f}):Xa(t,Wa,{email:this.a,password:this.f})},To.prototype.b=function(t,e){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?Xa(t,Ta,{idToken:e,email:this.a,oobCode:this.f}):Xa(t,ja,{idToken:e,email:this.a,password:this.f})},To.prototype.c=function(t,e){return oo(this.ia(t),e)},To.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},zr(Ao,{PROVIDER_ID:"password"}),zr(Ao,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),zr(Ao,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),xo.prototype.ia=function(t){return t.cb(Do(this))},xo.prototype.b=function(t,e){var n=Do(this);return n.idToken=e,Xa(t,Ha,n)},xo.prototype.c=function(t,e){var n=Do(this);return n.operation="REAUTH",oo(t=Xa(t,Ka,n),e)},xo.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Co.prototype.cb=function(t,e){var n=this.a.b;return Ne(e.verify()).then((function(r){if("string"!=typeof r)throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=d(t)?t.session:null,o=d(t)?t.phoneNumber:t;return(i&&i.type==no?i.Fa().then((function(t){return function(t,e){return Xa(t,Va,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==ro?i.Fa().then((function(e){return function(t,e){return Xa(t,$a,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Xa(t,Ra,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},zr(Co,{PROVIDER_ID:"phone"}),zr(Co,{PHONE_SIGN_IN_METHOD:"phone"}),Mo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Mo.prototype.S=function(){return this.h},Mo.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Vo,$o=null;function Fo(t){var e="unauthorized-domain",n=void 0,r=Mn(t);t=r.b,"chrome-extension"==(r=r.f)?n=Vt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Vt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",I.call(this,e,n)}function qo(t,e,n){I.call(this,t,n),(t=e||{}).Gb&&Wr(this,"email",t.Gb),t.da&&Wr(this,"phoneNumber",t.da),t.credential&&Wr(this,"credential",t.credential),t.Wb&&Wr(this,"tenantId",t.Wb)}function Bo(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Po(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new I(e,t.message||void 0);return new qo(e,n,t.message)}return null}function Go(){}function Wo(t){return t.c||(t.c=t.b())}function zo(){}function Ho(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ko(){}function Yo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.oc,this),this.a.onerror=b(this.Pb,this),this.a.onprogress=b(this.pc,this),this.a.ontimeout=b(this.tc,this)}function Xo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Jo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Qo(t){this.f=t,this.b=this.c=this.a=null}function Zo(t,e){this.name=t,this.value=e}E(Fo,I),E(qo,I),qo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&dt(t,e),t},qo.prototype.toJSON=function(){return this.v()},Go.prototype.c=null,E(zo,Go),zo.prototype.a=function(){var t=Ho(this);return t?new ActiveXObject(t):new XMLHttpRequest},zo.prototype.b=function(){var t={};return Ho(this)&&(t[0]=!0,t[1]=!0),t},Vo=new zo,E(Ko,Go),Ko.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Yo;throw Error("Unsupported browser")},Ko.prototype.b=function(){return{}},(t=Yo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Xo(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Xo(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Xo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Jo.prototype.a=null,Jo.prototype.reset=function(t,e,n,r,i){delete this.a},Zo.prototype.toString=function(){return this.name};var ts=new Zo("SEVERE",1e3),es=new Zo("WARNING",900),ns=new Zo("CONFIG",700),rs=new Zo("FINE",500);Qo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(L("Root logger has no level set."),null)}(this).value)for(p(e)&&(e=e()),t=new Jo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var is={},os=null;function ss(t){var e;if(os||(os=new Qo(""),is[""]=os,os.c=ns),!(e=is[t])){e=new Qo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ss(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,is[t]=e}return e}function as(t,e){t&&t.log(rs,e,void 0)}function us(t){this.f=t}function cs(t){yn.call(this),this.s=t,this.readyState=hs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ss("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}E(us,Go),us.prototype.a=function(){return new cs(this.f)},us.prototype.b=function(t){return function(){return t}}({}),E(cs,yn);var hs=0;function ls(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function fs(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,ps(t)}function ps(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ds(t){yn.call(this),this.headers=new An,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=vs,this.w=this.R=!1}(t=cs.prototype).open=function(t,e){if(this.readyState!=hs)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,ps(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,fs(this,!1)),this.readyState=hs},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,ps(this)),this.a&&(this.readyState=3,ps(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,ls(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?fs(this,!0):ps(this),3==this.readyState&&ls(this)}},t.rc=function(t){this.a&&(this.response=this.responseText=t,fs(this,!0))},t.qc=function(t){this.a&&(this.response=t,fs(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log(es,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&fs(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(es,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(es,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},E(ds,yn);var vs="";ds.prototype.b=ss("goog.net.XhrIo");var ms=/^https?$/i,gs=["POST","PUT"];function ys(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Vo.a(),t.B=t.D?Wo(t.D):Wo(Vo),t.a.onreadystatechange=b(t.Sb,t);try{as(t.b,Ns(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return as(t.b,Ns(t,"Error opening Xhr: "+e.message)),void ws(t,e)}e=r||"";var o=new An(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)F(t,e,void 0);else for(var n=kn(t),r=Tn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=bs,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),r=a.FormData&&e instanceof a.FormData,!W(gs,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Ts(t),0<t.g&&(t.w=function(t){return Wt&&ne(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),as(t.b,Ns(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ka,t)):t.s=En(t.Ka,t.g,t)),as(t.b,Ns(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){as(t.b,Ns(t,"Send error: "+e.message)),ws(t,e)}}function bs(t){return"content-type"==t.toLowerCase()}function ws(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,_s(t),Is(t)}function _s(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Es(t){if(t.c&&void 0!==s)if(t.B[1]&&4==ks(t)&&2==As(t))as(t.b,Ns(t,"Local request error detected and ignored"));else if(t.i&&4==ks(t))En(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==ks(t)){as(t.b,Ns(t,"Request complete")),t.c=!1;try{var e,n=As(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(xn)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}i=!ms.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<ks(t)?t.a.statusText:""}catch(e){as(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+As(t)+"]",_s(t)}}finally{Is(t)}}}function Is(t,e){if(t.a){Ts(t);var n=t.a,r=t.B[0]?h:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ts,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Ts(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function ks(t){return t.a?t.a.readyState:0}function As(t){try{return 2<ks(t)?t.a.status:-1}catch(t){return-1}}function Ns(t,e){return e+" ["+t.P+" "+t.l+" "+As(t)+"]"}function Ss(t){var e=Vs;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function xs(t,e,n){t.a=!0,t.c=n,t.f=!e,Ls(t)}function Os(t){if(t.a){if(!t.u)throw new Ps(t);t.u=!1}}function Ds(t,e,n,r){t.g.push([e,n,r]),t.a&&Ls(t)}function Cs(t){return G(t.g,(function(t){return p(t[1])}))}function Ls(t){if(t.h&&t.a&&Cs(t)){var e=t.h,n=js[e];n&&(a.clearTimeout(n.a),delete js[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(O(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Cs(t)||(n=!0)}}t.c=e,r&&(u=b(t.m,t,!0),r=b(t.m,t,!1),e instanceof Ss?(Ds(e,u,r),e.B=!0):e.then(u,r)),n&&(e=new Ms(e),js[e.a]=e,t.h=e.a)}function Ps(){D.call(this)}function Rs(){D.call(this)}function Ms(t){this.a=a.setTimeout(b(this.c,this),0),this.b=t}(t=ds.prototype).Ka=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",as(this.b,Ns(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(as(this.b,Ns(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Is(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Is(this,!0)),ds.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?Es(this):this.Hc())},t.Hc=function(){Es(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case vs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ts,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return as(this.b,"Can not get response: "+t.message),null}},Ss.prototype.cancel=function(t){if(this.a)this.c instanceof Ss&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Rs(this),Os(this),xs(this,!1,t))}},Ss.prototype.m=function(t,e){this.i=!1,xs(this,t,e)},Ss.prototype.then=function(t,e,n){var r,i,o=new we((function(t,e){r=t,i=e}));return Ds(this,r,(function(t){t instanceof Rs?o.cancel():i(t)})),o.then(t,e,n)},Ss.prototype.$goog_Thenable=!0,E(Ps,D),Ps.prototype.message="Deferred has already fired",Ps.prototype.name="AlreadyCalledError",E(Rs,D),Rs.prototype.message="Deferred was canceled",Rs.prototype.name="CanceledError",Ms.prototype.c=function(){throw delete js[this.a],this.b};var js={};function Us(t){var e,n=document,r=Et(t).toString(),i=fe(document,"SCRIPT"),o={Tb:i,Ka:void 0},s=new Ss(o);return e=window.setTimeout((function(){$s(i,!0);var t=new Bs(qs,"Timeout reached for loading script "+r);Os(s),xs(s,!1,t)}),5e3),o.Ka=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||($s(i,!1,e),Os(s),xs(s,!0,null))},i.onerror=function(){$s(i,!0,e);var t=new Bs(Fs,"Error while loading script "+r);Os(s),xs(s,!1,t)},dt(o={},{type:"text/javascript",charset:"UTF-8"}),se(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=Et(e),null===c&&(c=(e=(e=a.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""),(e=c)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Vs(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&$s(t,!0,this.Ka)}}function $s(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Fs=0,qs=1;function Bs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function Gs(t){this.f=t}function Ws(t,n,r){if(this.c=t,t=n||{},this.u=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ks,this.g=ft(t.secureTokenHeaders||Ys),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Xs,this.a=ft(t.firebaseHeaders||Js),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==gr(),!(r=a.XMLHttpRequest||r&&e.INTERNAL.node&&e.INTERNAL.node.XMLHttpRequest)&&!mr())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,mr()?this.f=new us(self):yr()?this.f=new Gs(r):this.f=new Ko,this.b=null}E(Bs,D),E(Gs,Go),Gs.prototype.a=function(){return new this.f},Gs.prototype.b=function(){return{}};var zs,Hs="idToken",Ks=new jr(3e4,6e4),Ys={"Content-Type":"application/x-www-form-urlencoded"},Xs=new jr(3e4,6e4),Js={"Content-Type":"application/json"};function Qs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Zs(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ta(t,e,n,r,i,o,s){(function(){var t=Tr();return!((t=_r(t)!=wr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Wt||!te||9<te)})()||mr()?t=b(t.w,t):(zs||(zs=new we((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{a[na]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ds(t,null,e,void 0)}(Us(It(ea,{onload:na})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=b(t.s,t)),t(e,n,r,i,o,s)}Ws.prototype.S=function(){return this.b},Ws.prototype.w=function(t,e,n,r,i,o){if(mr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ds(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}bn(s,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return as(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),wn(s,"ready",(function(){u&&clearTimeout(u),qe(this)})),wn(s,"timeout",(function(){u&&clearTimeout(u),qe(this),e&&e(null)})),ys(s,t,n,r,i)};var ea=new mt(bt,"https://apis.google.com/js/client.js?onload=%{onload}"),na="__fcb"+Math.floor(1e6*Math.random()).toString();function ra(t,e,n,r,i,o,s){var a=Mn(e+n);Pn(a,"key",t.c),s&&Pn(a,"cb",_().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Pn(a,c,i[c]);return new we((function(e,n){ta(t,a.toString(),(function(t){t?t.error?n(Qa(t,o||{})):e(t):n(new I("network-request-failed"))}),r,u?void 0:tr(Cr(i)),t.a,t.i.get())}))}function ia(t){if("string"!=typeof(t=t.email)||!fr.test(t))throw new I("invalid-email")}function oa(t){"email"in t&&ia(t)}function sa(t){if(!t[Hs]){if(t.mfaPendingCredential)throw new I("multi-factor-auth-required",null,ft(t));throw new I("internal-error")}}function aa(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new I("internal-error")}else{if(!t.sessionInfo)throw new I("missing-verification-id");if(!t.code)throw new I("missing-verification-code")}}Ws.prototype.s=function(t,e,n,r,i){var o=this;zs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ws.prototype.vb=function(){return Xa(this,Ua,{})},Ws.prototype.xb=function(t,e){return Xa(this,Ma,{idToken:t,email:e})},Ws.prototype.yb=function(t,e){return Xa(this,ja,{idToken:t,password:e})};var ua={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ca(t){if(!t.phoneVerificationInfo)throw new I("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new I("missing-verification-code")}function ha(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new I("internal-error")}function la(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Xn(t=new zn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function fa(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Bo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Bo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Bo(t)):t.errorMessage&&(e=Ja(t.errorMessage)),e)throw e;sa(t)}function pa(t,e){return e.returnIdpCredential=!0,Xa(t,Fa,e)}function da(t,e){return e.returnIdpCredential=!0,Xa(t,Ba,e)}function va(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Xa(t,qa,e)}function ma(t){if(!t.oobCode)throw new I("invalid-action-code")}(t=Ws.prototype).zb=function(t,e){var n={idToken:t},r=[];return ht(ua,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Xa(this,Ma,n)},t.rb=function(t,e){return dt(t={requestType:"PASSWORD_RESET",email:t},e),Xa(this,Da,t)},t.sb=function(t,e){return dt(t={requestType:"EMAIL_SIGNIN",email:t},e),Xa(this,Sa,t)},t.qb=function(t,e){return dt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Xa(this,xa,t)},t.Ab=function(t,e,n){return dt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Xa(this,Oa,t)},t.cb=function(t){return Xa(this,za,t)},t.jb=function(t,e){return Xa(this,Pa,{oobCode:t,newPassword:e})},t.Pa=function(t){return Xa(this,ya,{oobCode:t})},t.fb=function(t){return Xa(this,ga,{oobCode:t})};var ga={endpoint:"setAccountInfo",A:ma,Y:"email",C:!0},ya={endpoint:"resetPassword",A:ma,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new I("internal-error")},C:!0},ba={endpoint:"signupNewUser",A:function(t){if(ia(t),!t.password)throw new I("weak-password")},G:sa,U:!0,C:!0},wa={endpoint:"createAuthUri",C:!0},_a={endpoint:"deleteAccount",M:["idToken"]},Ea={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=l(t.deleteProvider))throw new I("internal-error")}},Ia={endpoint:"emailLinkSignin",M:["email","oobCode"],A:ia,G:sa,U:!0,C:!0},Ta={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:ia,G:sa,U:!0},ka={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:ca,G:sa,C:!0,La:!0},Aa={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:ca,G:sa,C:!0,La:!0},Na={endpoint:"getAccountInfo"},Sa={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new I("internal-error");ia(t)},Y:"email",C:!0},xa={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new I("internal-error")},Y:"email",C:!0},Oa={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new I("internal-error")},Y:"email",C:!0},Da={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new I("internal-error");ia(t)},Y:"email",C:!0},Ca={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},La={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new I("internal-error")}},Pa={endpoint:"resetPassword",A:ma,Y:"email",C:!0},Ra={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Ma={endpoint:"setAccountInfo",M:["idToken"],A:oa,U:!0},ja={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(oa(t),!t.password)throw new I("weak-password")},G:sa,U:!0},Ua={endpoint:"signupNewUser",G:sa,U:!0,C:!0},Va={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new I("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new I("internal-error")},C:!0,La:!0},$a={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new I("internal-error")},C:!0,La:!0},Fa={endpoint:"verifyAssertion",A:ha,Wa:la,G:fa,U:!0,C:!0},qa={endpoint:"verifyAssertion",A:ha,Wa:la,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new I("user-not-found");if(t.errorMessage)throw Ja(t.errorMessage);sa(t)},U:!0,C:!0},Ba={endpoint:"verifyAssertion",A:function(t){if(ha(t),!t.idToken)throw new I("internal-error")},Wa:la,G:fa,U:!0},Ga={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new I("invalid-custom-token")},G:sa,U:!0,C:!0},Wa={endpoint:"verifyPassword",A:function(t){if(ia(t),!t.password)throw new I("wrong-password")},G:sa,U:!0,C:!0},za={endpoint:"verifyPhoneNumber",A:aa,G:sa,C:!0},Ha={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new I("internal-error");aa(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Bo(t);sa(t)}},Ka={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:aa,G:sa,C:!0},Ya={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Hs]^!!t.refreshToken)throw new I("internal-error")},C:!0,La:!0};function Xa(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Se(new I("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return Ne(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),ra(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new I("internal-error");return r[e.Y]}))}function Ja(t){return Qa({error:{errors:[{message:t}],code:400,message:t}})}function Qa(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new I(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",dt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new I(r[i],e);return!e&&t&&(e=Dr(t)),new I("internal-error",e)}function Za(t){this.b=t,this.a=null,this.nb=function(t){return(ru||(ru=new we((function(t,e){function n(){Mr(),kr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Mr(),e(Error("Network Error"))},timeout:eu.get()})}if(kr("gapi.iframes.Iframe"))t();else if(kr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){kr("gapi.load")?n():e(Error("Network Error"))},Ne(Us(r=It(tu,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw ru=null,t})))).then((function(){return new we((function(e,n){kr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),nu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var tu=new mt(bt,"https://apis.google.com/js/api.js?onload=%{onload}"),eu=new jr(3e4,6e4),nu=new jr(5e3,15e3),ru=null;function iu(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=jn(this.i,"/__/auth/iframe"),Pn(this.a,"apiKey",this.g),Pn(this.a,"appName",this.h),this.b=null,this.c=[]}function ou(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function su(t){try{return e.app(t).auth().Ea()}catch(t){return[]}}function au(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function uu(t){var e=sr();return function(t){return Xa(t,Ca,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Mn(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Mn(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:lr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Fo(sr())}))}function cu(t){return t.l||(t.l=pr().then((function(){if(!t.s){var e=t.c,n=t.h,r=su(t.b),i=new iu(t.u,t.f,t.b);i.f=e,i.b=n,i.c=Y(r||[]),t.s=i.toString()}t.i=new Za(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=jo(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ne(n)}return n.status="ERROR",Ne(n)}))}(t)}))),t.l}function hu(t){return t.m||(t.w=t.c?Ir(t.c,su(t.b)):null,t.m=new Ws(t.f,x(t.h),t.w)),t.m}function lu(t,e,n,r,i,o,s,a,u,c,h){return(t=new ou(t,e,n,r,i)).l=o,t.g=s,t.i=a,t.b=ft(u||null),t.f=c,t.ub(h).toString()}function fu(t){if(this.a=t||e.INTERNAL.reactNative&&e.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function pu(t){this.b=t,this.a={},this.f=b(this.c,this)}iu.prototype.toString=function(){return this.f?Pn(this.a,"v",this.f):Yn(this.a.a,"v"),this.b?Pn(this.a,"eid",this.b):Yn(this.a.a,"eid"),this.c.length?Pn(this.a,"fw",this.c.join(",")):Yn(this.a.a,"fw"),this.a.toString()},ou.prototype.ub=function(t){return this.h=t,this},ou.prototype.toString=function(){var t=jn(this.s,"/__/auth/handler");if(Pn(t,"apiKey",this.m),Pn(t,"appName",this.c),Pn(t,"authType",this.u),this.a.isOAuthProvider){var n=this.a;try{var r=e.app(this.c).auth().ja()}catch(t){r=null}for(var i in n.kb=r,Pn(t,"providerId",this.a.providerId),r=Cr((n=this.a).Fb))r[i]=r[i].toString();i=n.Oc,r=ft(r);for(var o=0;o<i.length;o++){var s=i[o];s in r&&delete r[s]}n.lb&&n.kb&&!r[n.lb]&&(r[n.lb]=n.kb),lt(r)||Pn(t,"customParameters",Dr(r))}if("function"==typeof this.a.Nb&&((n=this.a.Nb()).length&&Pn(t,"scopes",n.join(","))),this.l?Pn(t,"redirectUrl",this.l):Yn(t.a,"redirectUrl"),this.g?Pn(t,"eventId",this.g):Yn(t.a,"eventId"),this.i?Pn(t,"v",this.i):Yn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Rn(t,a)&&Pn(t,a,this.b[a]);return this.h?Pn(t,"tid",this.h):Yn(t.a,"tid"),this.f?Pn(t,"eid",this.f):Yn(t.a,"eid"),(a=su(this.c)).length&&Pn(t,"fw",a.join(",")),t.toString()},(t=au.prototype).Lb=function(t,e,n){var r=new I("popup-closed-by-user"),i=new I("web-storage-unsupported"),o=this,s=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return cu(t).then((function(){return function(t,e){return t.nb.then((function(){return new we((function(n){t.a.send(e.type,e,n,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&cr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new we((function(e){return function n(){In(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return In(n).then((function(){e(r)}))}))},t.Ub=function(){var t=Tr();return!Or(t)&&!Rr(t)},t.Qb=function(){return!1},t.Jb=function(t,e,n,r,i,o,s,a){if(!t)return Se(new I("popup-blocked"));if(s&&!Or())return this.ka().o((function(e){cr(t),i(e)})),r(),Ne();this.a||(this.a=uu(hu(this)));var u=this;return this.a.then((function(){var e=u.ka().o((function(e){throw cr(t),i(e),e}));return r(),e})).then((function(){(Ro(n),s)||ar(lu(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,a),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Kb=function(t,e,n,r){this.a||(this.a=uu(hu(this)));var i=this;return this.a.then((function(){Ro(e),ar(lu(i.u,i.f,i.b,t,e,sr(),n,i.c,void 0,i.h,r))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ka=function(){var t=this;return cu(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new I("network-request-failed")}))},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(t){H(this.g,(function(e){return e==t}))},(t=fu.prototype).get=function(t){return Ne(this.a.getItem(t)).then((function(t){return t&&Lr(t)}))},t.set=function(t,e){return Ne(this.a.setItem(t,Dr(e)))},t.T=function(t){return Ne(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var du,vu=[];function mu(t,e,n){lt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function gu(t){this.a=t}function yu(t){this.c=t,this.b=!1,this.a=[]}function bu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Se(Error("connection_unavailable"));var h=r?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new we((function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),h),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))})).then((function(e){return wu(t,c),e})).o((function(e){throw wu(t,c),e}))}function wu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),H(t.a,(function(t){return t==e}))}}function _u(){if(!Tu())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;mr()&&self?(this.l=function(){var t=mr()?self:null;if(F(vu,(function(n){n.b==t&&(e=n)})),!e){var e=new pu(t);vu.push(e)}return e}(),mu(this.l,"keyChanged",(function(e,n){return xu(t).then((function(e){return 0<e.length&&F(t.a,(function(t){t(e)})),{keyProcessed:W(e,n.key)}}))})),mu(this.l,"ping",(function(){return Ne(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Ne().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ne(null)}().then((function(e){(t.h=e)&&(t.g=new yu(new gu(e)),bu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&W(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Eu(t){return new we((function(e,n){var r=t.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new we((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Eu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Iu(t){return t.m||(t.m=Eu(t)),t.m}function Tu(){try{return!!a.indexedDB}catch(t){return!1}}function ku(t){return t.objectStore("firebaseLocalStorage")}function Au(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Nu(t){return new we((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Su(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?bu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ne()}function xu(t){return Iu(t).then((function(t){var e=ku(Au(t,!1));return e.getAll?Nu(e.getAll()):new we((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function Ou(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Du(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ne().then((function(){if(Tu()){var t=Pr(),r="__sak"+t;return du||(du=new _u),(n=du).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){F(e.a,(function(e){e(t)}))})),t}))}function Cu(){this.a={},this.type="inMemory"}function Lu(){if(!function(){var t="Node"==gr();if(!(t=Pu()||t&&e.INTERNAL.node&&e.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==gr())throw new I("internal-error","The LocalStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Pu()||e.INTERNAL.node.localStorage,this.type="localStorage"}function Pu(){try{var t=a.localStorage,e=Pr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Ru(){this.type="nullStorage"}function Mu(){if(!function(){var t="Node"==gr();if(!(t=ju()||t&&e.INTERNAL.node&&e.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==gr())throw new I("internal-error","The SessionStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=ju()||e.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function ju(){try{var t=a.sessionStorage,e=Pr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Uu(){var t={};t.Browser=Fu,t.Node=qu,t.ReactNative=Bu,t.Worker=Gu,this.a=t[gr()]}pu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];F(r,(function(e){i.push(Ne().then((function(){return e(t.origin,t.data.data)})))})),Oe(i).then((function(r){var i=[];F(r,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),F(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},gu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},yu.prototype.close=function(){for(;0<this.a.length;)wu(this,this.a[0]);this.b=!0},(t=_u.prototype).set=function(t,e){var n,r=!1,i=this;return Iu(this).then((function(e){return Nu((e=ku(Au(n=e,!0))).get(t))})).then((function(o){var s=ku(Au(n,!0));return o?(o.value=e,Nu(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Nu(s.add(o)))})).then((function(){return i.c[t]=e,Su(i,t)})).ma((function(){r&&i.b--}))},t.get=function(t){return Iu(this).then((function(e){return Nu(ku(Au(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return Iu(this).then((function(r){return e=!0,n.b++,Nu(ku(Au(r,!0)).delete(t))})).then((function(){return delete n.c[t],Su(n,t)})).ma((function(){e&&n.b--}))},t.ba=function(t){0==this.a.length&&function(t){Ou(t),function e(){t.f=setTimeout((function(){t.i=xu(t).then((function(e){0<e.length&&F(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ha=function(t){H(this.a,(function(e){return e==t})),0==this.a.length&&Ou(this)},(t=Du.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ba=function(t){this.a.push(t)},t.ha=function(t){H(this.a,(function(e){return e==t}))},(t=Cu.prototype).get=function(t){return Ne(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ne()},t.T=function(t){return delete this.a[t],Ne()},t.ba=function(){},t.ha=function(){},(t=Lu.prototype).get=function(t){var e=this;return Ne().then((function(){return Lr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ne().then((function(){var r=Dr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ne().then((function(){e.a.removeItem(t)}))},t.ba=function(t){a.window&&sn(a.window,"storage",t)},t.ha=function(t){a.window&&cn(a.window,"storage",t)},(t=Ru.prototype).get=function(){return Ne(null)},t.set=function(){return Ne()},t.T=function(){return Ne()},t.ba=function(){},t.ha=function(){},(t=Mu.prototype).get=function(t){var e=this;return Ne().then((function(){return Lr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ne().then((function(){var r=Dr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ne().then((function(){e.a.removeItem(t)}))},t.ba=function(){},t.ha=function(){};var Vu,$u,Fu={F:Lu,$a:Mu},qu={F:Lu,$a:Mu},Bu={F:fu,$a:Ru},Gu={F:Lu,$a:Ru},Wu={od:"local",NONE:"none",qd:"session"};function zu(){var t=!(Rr(Tr())||!vr()),e=Or(),n=Ar();this.m=t,this.h=e,this.l=n,this.a={},Vu||(Vu=new Uu),t=Vu;try{this.g=!or()&&$r()||!a.indexedDB?new t.a.F:new Du(mr()?new Cu:new t.a.F)}catch(t){this.g=new Cu,this.h=!0}try{this.i=new t.a.$a}catch(t){this.i=new Cu}this.u=new Cu,this.f=b(this.Vb,this),this.b={}}function Hu(){return $u||($u=new zu),$u}function Ku(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Yu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Xu(t,e,n){return n=Yu(e,n),"local"==e.F&&(t.b[n]=null),Ku(t,e.F).T(n)}function Ju(t){t.c&&(clearInterval(t.c),t.c=null)}function Qu(t){this.a=t,this.b=Hu()}(t=zu.prototype).get=function(t,e){return Ku(this,t.F).get(Yu(t,e))},t.set=function(t,e,n){var r=Yu(t,n),i=this,o=Ku(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Yu(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),lt(this.a)&&(Ku(this,"local").ba(this.f),this.h||(or()||!$r())&&a.indexedDB||!this.l||function(t){Ju(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ke({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Yu(t,e),this.a[t]&&(H(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),lt(this.a)&&(Ku(this,"local").ha(this.f),Ju(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Ku(this,"local").ha(this.f):Ju(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.ib(e))},Wt&&te&&10==te&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else F(t,b(this.ib,this))},t.ib=function(t){this.a[t]&&F(this.a[t],(function(t){t()}))};var Zu,tc={name:"authEvent",F:"local"};function ec(){this.a=Hu()}function nc(t,e){this.b=rc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Zu&&(Zu=a.Int32Array?new Int32Array(hc):hc),this.reset()}E(nc,(function(){this.b=-1}));for(var rc=64,ic=rc-1,oc=[],sc=0;sc<ic;sc++)oc[sc]=0;var ac=K(128,oc);function uc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&l)+(0|Zu[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function cc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(uc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(uc(t),i=0)}}t.c=i,t.g+=n}nc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Y(this.h)};var hc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function lc(){nc.call(this,8,fc)}E(lc,nc);var fc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function pc(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new ec,this.g=new Qu(this.h),this.f=null,this.b=[],this.a=this.c=null}function dc(t){return new I("invalid-cordova-configuration",t)}function vc(t){var e=new lc;cc(e,t),t=[];var n=8*e.g;56>e.c?cc(e,ac,56-e.c):cc(e,ac,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(uc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return B(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function mc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function gc(t){return t.f||(t.f=t.ka().then((function(){return new we((function(e){t.Ca((function n(r){return e(r),t.Qa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),yc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=to(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Lr(Rn(o=Mn(i),"firebaseError")||null))?T(o):null)?new Mo(r.c,r.b,null,null,o,null,r.S()):new Mo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}mc(t,i)}))}var n=new Mo("unknown",null,null,null,new I("no-auth-event")),r=!1,i=In(500).then((function(){return yc(t).then((function(){r||mc(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(kr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},$o||($o=new Uo),function(t){var e=$o;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=kr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function yc(t){var e=null;return function(t){return t.b.get(tc,t.a).then((function(t){return jo(t)}))}(t.g).then((function(n){return e=n,Xu((n=t.g).b,tc,n.a)})).then((function(){return e}))}function bc(t){this.a=t,this.b=Hu()}(t=pc.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(dr(void 0)?pr().then((function(){return new we((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Se(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof kr("universalLinks.subscribe",a))throw dc("cordova-universal-links-plugin-fix is not installed");if(void 0===kr("BuildInfo.packageName",a))throw dc("cordova-plugin-buildinfo is not installed");if("function"!=typeof kr("cordova.plugins.browsertab.openUrl",a))throw dc("cordova-plugin-browsertab is not installed");if("function"!=typeof kr("cordova.InAppBrowser.open",a))throw dc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new I("cordova-not-ready")}))},t.Lb=function(t,e){return e(new I("operation-not-supported-in-this-environment")),Ne()},t.Jb=function(){return Se(new I("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,e,n,r){if(this.c)return Se(new I("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,h=null;return this.c=Ne().then((function(){return Ro(e),gc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Mo(e,r,null,o,new I("no-auth-event"),null,i),u=kr("BuildInfo.packageName",a);if("string"!=typeof u)throw new I("invalid-cordova-configuration");var c=kr("BuildInfo.displayName",a),h={};if(Tr().toLowerCase().match(/iphone|ipad|ipod/))h.ibi=u;else{if(!Tr().toLowerCase().match(/android/))return Se(new I("operation-not-supported-in-this-environment"));h.apn=u}c&&(h.appDisplayName=c),o=vc(o),h.sessionId=o;var l=lu(t.u,t.i,t.l,e,n,null,r,t.m,h,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set(tc,s.v(),e)})).then((function(){var e=kr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new I("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=kr("cordova.plugins.browsertab.openUrl",a)))throw new I("invalid-cordova-configuration");n(l)}else{if("function"!=typeof(n=kr("cordova.InAppBrowser.open",a)))throw new I("invalid-cordova-configuration");e=Tr(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new we((function(t,e){u=function(){var e=kr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(u),c=function(){s||(s=In(2e3).then((function(){e(new I("redirect-cancelled-by-user"))})))},h=function(){Ur()&&c()},o.addEventListener("resume",c,!1),Tr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",h,!1)})).o((function(t){return yc(i).then((function(){throw t}))}))})).ma((function(){c&&o.removeEventListener("resume",c,!1),h&&o.removeEventListener("visibilitychange",h,!1),s&&s.cancel(),u&&i.Qa(u),i.c=null}))},t.Ca=function(t){this.b.push(t),gc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Mo("unknown",null,null,null,new I("no-auth-event")),t(e))}))},t.Qa=function(t){H(this.b,(function(e){return e==t}))};var wc={name:"pendingRedirect",F:"session"};function _c(t){return Xu(t.b,wc,t.a)}function Ec(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Mc,this.B=new Fc,this.g=new bc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=Ic(this.D,this.u,this.m,k)}function Ic(t,n,r,i){var o=e.SDK_VERSION||null;return dr()?new pc(t,n,r,o,i):new au(t,n,r,o,i)}function Tc(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function kc(t){t.a.Ub()&&Tc(t).o((function(e){var n=new Mo("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Dc(e)&&t.s(n)})),t.a.Qb()||jc(t.b)}function Ac(t,e){W(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(wc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?_c(t.g).then((function(){Tc(t).o((function(e){var n=new Mo("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Dc(e)&&t.s(n)}))})):kc(t)})).o((function(){kc(t)}))}function Nc(t,e){H(t.h,(function(t){return t==e}))}Ec.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=Ic(this.D,this.u,this.m),this.i={}},Ec.prototype.s=function(t){if(!t)throw new I("invalid-auth-event");if(6e5<=_()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=_())),e=!0;break}}return jc(this.b),e};var Sc=new jr(2e3,1e4),xc=new jr(3e4,6e4);function Oc(t,e,n,r,i,o,s){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,s)}function Dc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Cc(t,e,n,r,i){var o;return function(t){return t.b.set(wc,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(Dc(e))throw new I("operation-not-supported-in-this-environment");return o=e,_c(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new we((function(){})):_c(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Lc(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),Sc.get())}Ec.prototype.pa=function(){return this.b.pa()};var Pc={};function Rc(t,e,n){var r=e+":"+n;return Pc[r]||(Pc[r]=new Ec(t,e,n)),Pc[r]}function Mc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function jc(t){t.g||(t.g=!0,$c(t,!1,null,null))}function Uc(t){t.g&&!t.i&&$c(t,!1,null,null)}function Vc(t,e){if(t.b=function(){return Ne(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function $c(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Se(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Vc(t,n):Vc(t,{user:null}),t.f=[],t.c=[]}function Fc(){}function qc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function Bc(t,e){this.a=e,Wr(this,"verificationId",t)}function Gc(t,e,n,r){return new Co(t).cb(e,n).then((function(t){return new Bc(t,r)}))}function Wc(t){var e=$i(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");zr(this,{token:t,expirationTime:Vr(1e3*e.exp),authTime:Vr(1e3*e.auth_time),issuedAtTime:Vr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function zc(t,e,n){var r=e&&e[Kc];if(!r)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new eo(null,r),this.b=[];var i=this;F(e[Hc]||[],(function(t){(t=Xr(t))&&i.b.push(t)})),Wr(this,"auth",this.a),Wr(this,"session",this.c),Wr(this,"hints",this.b)}Mc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Mc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?($c(this,!0,null,t.a),Ne()):e.Da(n,r)?function(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){$c(t,a,e,null)})).o((function(e){$c(t,a,null,e)}))}(this,t,e):Se(new I("invalid-auth-event")):($c(this,!1,null,null),Ne())}else Se(new I("invalid-auth-event"))},Mc.prototype.pa=function(){var t=this;return new we((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new I("timeout");t.a&&t.a.cancel(),t.a=In(xc.get()).then((function(){t.b||(t.g=!0,$c(t,!0,null,e))}))}(t))}))},Fc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),Ne()):e.Da(n,r)?function(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(r,t,null,n)})).o((function(t){e.la(r,null,t,n)}))}(t,e):Se(new I("invalid-auth-event"))}else Se(new I("invalid-auth-event"))},Bc.prototype.confirm=function(t){return t=Lo(this.verificationId,t),this.a(t)};var Hc="mfaInfo",Kc="mfaPendingCredential";function Yc(t,e,n,r){I.call(this,"multi-factor-auth-required",r,e),this.b=new zc(t,e,n),Wr(this,"resolver",this.b)}function Xc(t,e,n){if(t&&d(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Yc(e,t.serverResponse,n,t.message)}catch(t){}return null}function Jc(){}function Qc(t){Wr(this,"factorId",t.ea),this.a=t}function Zc(t){if(Qc.call(this,t),this.a.ea!=Co.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function th(t,e){for(var n in He.call(this,t),e)this[n]=e[n]}function eh(t,e){this.a=t,this.b=[],this.c=b(this.wc,this),sn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&F(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Zr]=t.uid),t.displayName&&(r[Jr]=t.displayName),t.enrollmentTime&&(r[Qr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ti]=t.phoneNumber);try{e=new ei(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),nh(this,n)}function nh(t,e){t.b=e,Wr(t,"enrolledFactors",e)}function rh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ih(t){this.c=t,this.b=this.a=null}function oh(t){return t.b&&1e3*t.b.c||0}function sh(t,e){var n=e.refreshToken;t.b=Vi(e[Hs]||""),t.a=n}function ah(t,e){return function(t,e){return new we((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ta(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Qa(t)):t.access_token&&t.refresh_token?n(t):r(new I("internal-error")):r(new I("network-request-failed"))}),"POST",Kn(e).toString(),t.g,t.m.get()):r(new I("internal-error"))}))}(t.c,e).then((function(e){return t.b=Vi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function uh(t,e){this.a=t||null,this.b=e||null,zr(this,{lastSignInTime:Vr(e||null),creationTime:Vr(t||null)})}function ch(t,e,n,r,i,o){zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function hh(t,n,r){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=e.SDK_VERSION?Ir(e.SDK_VERSION):null,this.a=new Ws(this.l,x(k),t),this.b=new ih(this.a),gh(this,n[Hs]),sh(this.b,n),Wr(this,"refreshToken",this.b.a),wh(this,r||{}),yn.call(this),this.P=!1,this.s&&Nr()&&(this.i=Rc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new rh((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=oh(t.b)-_()-3e5;return 0<e?e:0}))}(this),this.Z=b(this.Ma,this);var i=this;this.oa=null,this.za=function(t){i.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){fh(i,t.c)},this.$=null,this.O=new eh(this,r),Wr(this,"multiFactor",this.O)}function lh(t,e){t.aa&&cn(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&sn(e,"languageCodeChanged",t.za)}function fh(t,n){t.W=n,Zs(t.a,e.SDK_VERSION?Ir(e.SDK_VERSION,t.W):null)}function ph(t,e){t.$&&cn(t.$,"frameworkChanged",t.ya),(t.$=e)&&sn(e,"frameworkChanged",t.ya)}function dh(t){try{return e.app(t.m).auth()}catch(e){throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function vh(t){t.D||t.B.b||(t.B.start(),cn(t,"tokenChanged",t.Z),sn(t,"tokenChanged",t.Z))}function mh(t){cn(t,"tokenChanged",t.Z),t.B.stop()}function gh(t,e){t.xa=e,Wr(t,"_lat",e)}function yh(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Oe(e).then((function(){return t}))}function bh(t){t.i&&!t.P&&(t.P=!0,Ac(t.i,t))}function wh(t,e){zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new uh(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function _h(){}function Eh(t){return Ne().then((function(){if(t.D)throw new I("app-deleted")}))}function Ih(t){return B(t.providerData,(function(t){return t.providerId}))}function Th(t,e){e&&(kh(t,e.providerId),t.providerData.push(e))}function kh(t,e){H(t.providerData,(function(t){return t.providerId==e}))}function Ah(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Wr(t,e,n)}function Nh(t,e){t!=e&&(zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Wr(t,"metadata",function(t){return new uh(t.a,t.b)}(e.metadata)):Wr(t,"metadata",new uh),F(e.providerData,(function(e){Th(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Wr(t,"refreshToken",t.b.a),nh(t.O,e.O.b))}function Sh(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Xa(t.a,Na,{idToken:e}).then(b(t.Ic,t))}(t,e).then((function(){return n||Ah(t,"isAnonymous",!1),e}))}))}function xh(t,e){e[Hs]&&t.xa!=e[Hs]&&(sh(t.b,e),t.dispatchEvent(new th("tokenChanged")),gh(t,e[Hs]),Ah(t,"refreshToken",t.b.a))}function Oh(t,e){return Sh(t).then((function(){if(W(Ih(t),e))return yh(t).then((function(){throw new I("provider-already-linked")}))}))}function Dh(t,e,n){return Hr({user:t,credential:Po(e),additionalUserInfo:e=Wi(e),operationType:n})}function Ch(t,e){return xh(t,e),t.reload().then((function(){return t}))}function Lh(t,n,r,i,o){if(!Nr())return Se(new I("operation-not-supported-in-this-environment"));if(t.h&&!o)return Se(t.h);var s=Gi(r.providerId),a=Pr(t.uid+":::"),u=null;(!Or()||vr())&&t.s&&r.isOAuthProvider&&(u=lu(t.s,t.l,t.m,n,r,null,a,e.SDK_VERSION||null,null,null,t.tenantId));var c=hr(u,s&&s.ta,s&&s.sa);return i=i().then((function(){if(Rh(t),!o)return t.I().then((function(){}))})).then((function(){return Oc(t.i,c,n,r,a,!!u,t.tenantId)})).then((function(){return new we((function(e,r){t.la(n,null,new I("cancelled-popup-request"),t.g||null),t.f=e,t.w=r,t.g=a,t.c=Lc(t.i,t,n,c,a)}))})).then((function(t){return c&&cr(c),t?Hr(t):null})).o((function(t){throw c&&cr(c),t})),Mh(t,i,o)}function Ph(t,e,n,r,i){if(!Nr())return Se(new I("operation-not-supported-in-this-environment"));if(t.h&&!i)return Se(t.h);var o=null,s=Pr(t.uid+":::");return r=r().then((function(){if(Rh(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=s,yh(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(Vh,t.v(),e.a)),e})).then((function(){return Cc(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ga)return $h(t.ga);throw o})).then((function(){if(o)throw o})),Mh(t,r,i)}function Rh(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new I("internal-error");throw new I("auth-domain-config-required")}}function Mh(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Se(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new th("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(r),r.ma((function(){z(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Xc(e.v(),dh(t),b(t.hc,t))),n||e}))}function jh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Hs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new hh(e,n,t);return t.providerData&&F(t.providerData,(function(t){t&&Th(r,Hr(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function Uh(t){this.a=t,this.b=Hu()}zc.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=ft(e.f);return delete n[Hc],delete n[Kc],dt(n,t),e.g(n)}))},E(Yc,I),Jc.prototype.ob=function(t,e,n){return e.type==no?function(t,e,n,r){return n.Fa().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),dt(n,{phoneVerificationInfo:Do(t.a)}),Xa(e,ka,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return dt(n={mfaPendingCredential:n},{phoneVerificationInfo:Do(t.a)}),Xa(e,Aa,n)}))}(this,t,e)},E(Qc,Jc),E(Zc,Qc),E(th,He),(t=eh.prototype).wc=function(t){nh(this,function(t){var e=[];return F(t.mfaInfo||[],(function(t){(t=Xr(t))&&e.push(t)})),e}(t.ed))},t.Ob=function(){return this.a.I().then((function(t){return new eo(t,null)}))},t.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return xh(n.a,t),n.a.reload()}))},t.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Xa(r,Ya,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=q(e.b,(function(t){return t.uid!=n}));return nh(e,r),xh(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.v=function(){return{multiFactor:{enrolledFactors:B(this.b,(function(t){return t.v()}))}}},rh.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=In(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=a.document,e=null;return Ur()||!t?Ne():new we((function(n){e=function(){Ur()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},rh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ih.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:oh(this)}},ih.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Se(new I("user-token-expired")):t||!this.b||_()>oh(this)-3e4?this.a?ah(this,{grant_type:"refresh_token",refresh_token:this.a}):Ne(null):Ne({accessToken:this.b.toString(),refreshToken:this.a})},uh.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(hh,yn),hh.prototype.va=function(t){this.oa=t,Qs(this.a,t)},hh.prototype.ja=function(){return this.oa},hh.prototype.Ea=function(){return Y(this.W)},hh.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Wr(hh.prototype,"providerId","firebase"),(t=hh.prototype).reload=function(){var t=this;return Mh(this,Eh(this).then((function(){return Sh(t).then((function(){return yh(t)})).then(_h)})))},t.mc=function(t){return this.I(t).then((function(t){return new Wc(t)}))},t.I=function(t){var e=this;return Mh(this,Eh(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new I("internal-error");return t.accessToken!=e.xa&&(gh(e,t.accessToken),e.dispatchEvent(new th("tokenChanged"))),Ah(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new I("internal-error");wh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?B(t,(function(t){return new ch(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Th(this,e[n]);Ah(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new th("userReloaded",{ed:t}))},t.Jc=function(t){return Br("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Mh(this,t.c(this.a,this.uid).then((function(t){return xh(e,t),n=Dh(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Ac=function(t){return Br("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(t){var e=this,n=null;return Mh(this,Oh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Dh(e,t,"link"),Ch(e,t)})).then((function(){return n})))},t.Bc=function(t,e){var n=this;return Mh(this,Oh(this,"phone").then((function(){return Gc(dh(n),t,e,b(n.mb,n))})))},t.Kc=function(t,e){var n=this;return Mh(this,Ne().then((function(){return Gc(dh(n),t,e,b(n.pb,n))})),!0)},t.xb=function(t){var e=this;return Mh(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return xh(e,t),e.reload()})))},t.cd=function(t){var e=this;return Mh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return xh(e,t),e.reload()})))},t.yb=function(t){var e=this;return Mh(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return xh(e,t),e.reload()})))},t.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Eh(this);var e=this;return Mh(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return xh(e,t),Ah(e,"displayName",t.displayName||null),Ah(e,"photoURL",t.photoUrl||null),F(e.providerData,(function(t){"password"===t.providerId&&(Wr(t,"displayName",e.displayName),Wr(t,"photoURL",e.photoURL))})),yh(e)})).then(_h))},t.ad=function(t){var e=this;return Mh(this,Sh(this).then((function(n){return W(Ih(e),t)?function(t,e,n){return Xa(t,Ea,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return F(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),F(Ih(e),(function(t){n[t]||kh(e,t)})),n[Co.PROVIDER_ID]||Wr(e,"phoneNumber",null),yh(e)})):yh(e).then((function(){throw new I("no-such-provider")}))})))},t.delete=function(){var t=this;return Mh(this,this.I().then((function(e){return Xa(t.a,_a,{idToken:e})})).then((function(){t.dispatchEvent(new th("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");lh(t,null),ph(t,null),t.N=[],t.D=!0,mh(t),Wr(t,"refreshToken",null),t.i&&Nc(t.i,t)}))},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?b(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?b(this.Ib,this):null},t.Cc=function(t){var e=this;return Lh(this,"linkViaPopup",t,(function(){return Oh(e,t.providerId).then((function(){return yh(e)}))}),!1)},t.Lc=function(t){return Lh(this,"reauthViaPopup",t,(function(){return Ne()}),!0)},t.Dc=function(t){var e=this;return Ph(this,"linkViaRedirect",t,(function(){return Oh(e,t.providerId)}),!1)},t.Mc=function(t){return Ph(this,"reauthViaRedirect",t,(function(){return Ne()}),!0)},t.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Mh(this,this.I().then((function(n){return da(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Dh(i,t,"link"),Ch(i,t)})).then((function(){return o})))},t.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Mh(this,Ne().then((function(){return oo(va(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Dh(i,t,"reauthenticate"),xh(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.qb=function(t){var e=this,n=null;return Mh(this,this.I().then((function(e){return n=e,void 0===t||lt(t)?{}:Ri(new ki(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Ab=function(t,e){var n=this,r=null;return Mh(this,this.I().then((function(t){return r=t,void 0===e||lt(e)?{}:Ri(new ki(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.hc=function(t){var e=null,n=this;return Mh(this,t=oo(Ne(t),n.uid).then((function(t){return e=Dh(n,t,"reauthenticate"),xh(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.v()},t.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&dt(t,this.metadata.v()),F(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),dt(t,this.O.v()),t};var Vh={name:"redirectUser",F:"session"};function $h(t){return Xu(t.b,Vh,t.a)}function Fh(t){this.a=t,this.b=Hu(),this.c=null,this.f=function(t){var e=Gh("local"),n=Gh("session"),r=Gh("none");return function(t,e,n){var r=Yu(e,n),i=Ku(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Lr(a.localStorage.getItem(r))}catch(t){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Bh,t.a).then((function(t){return t?Gh(t):e}))}))}))})).then((function(e){return t.c=e,qh(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Gh("local"),this.a,b(this.g,this))}function qh(t,e){var n,r=[];for(n in Wu)Wu[n]!==e&&r.push(Xu(t.b,Gh(Wu[n]),t.a));return r.push(Xu(t.b,Bh,t.a)),function(t){return new we((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)xe(t[a],w(o,a),s);else e(i)}))}(r)}Fh.prototype.g=function(){var t=this,e=Gh("local");Kh(this,(function(){return Ne().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return qh(t,"local").then((function(){t.c=e}))}))}))};var Bh={name:"persistence",F:"session"};function Gh(t){return{name:"authUser",F:t}}function Wh(t,e){return Kh(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function zh(t){return Kh(t,(function(){return Xu(t.b,t.c,t.a)}))}function Hh(t,e){return Kh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),jh(t||{})}))}))}function Kh(t,e){return t.f=t.f.then(e,e),t.f}function Yh(t){if(this.l=!1,Wr(this,"settings",new qc),Wr(this,"app",t),!rl(this).options||!rl(this).options.apiKey)throw new I("invalid-api-key");t=e.SDK_VERSION?Ir(e.SDK_VERSION):null,this.b=new Ws(rl(this).options&&rl(this).options.apiKey,x(k),t),this.P=[],this.m=[],this.O=[],this.$b=e.INTERNAL.createSubscribe(b(this.xc,this)),this.W=void 0,this.ac=e.INTERNAL.createSubscribe(b(this.yc,this)),el(this,null),this.i=new Fh(rl(this).options.apiKey+":"+rl(this).name),this.B=new Uh(rl(this).options.apiKey+":"+rl(this).name),this.Z=al(this,function(t){var e=rl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Vh,t.a).then((function(t){return t&&e&&(t.authDomain=e),jh(t||{})}))}(t.B,rl(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),$h(t.B)}));return al(t,e)}(t).then((function(){return Hh(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return Wh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:zh(t.i)}))):null})).then((function(e){el(t,e||null)}));return al(t,n)}(this)),this.h=al(this,function(t){return t.Z.then((function(){return Zh(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Gh("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=b(this.Xc,this),this.Ma=b(this.ca,this),this.xa=b(this.jc,this),this.ya=b(this.uc,this),this.za=b(this.vc,this),this.a=null,function(t){var e=rl(t).options.authDomain,n=rl(t).options.apiKey;e&&Nr()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Rc(e,n,rl(t).name),Ac(t.a,t),il(t)&&bh(il(t)),t.D){bh(t.D);var r=t.D;r.va(t.ja()),lh(r,t),fh(r=t.D,t.N),ph(r,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Ec,this),this.s=0,yn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function Xh(t){He.call(this,"languageCodeChanged"),this.g=t}function Jh(t){He.call(this,"frameworkChanged"),this.c=t}function Qh(t){return t.Zb||Se(new I("auth-domain-config-required"))}function Zh(t){if(!Nr())return Se(new I("operation-not-supported-in-this-environment"));var e=Qh(t).then((function(){return t.a.pa()})).then((function(t){return t?Hr(t):null}));return al(t,e)}function tl(t,e){var n={};return n.apiKey=rl(t).options.apiKey,n.authDomain=rl(t).options.authDomain,n.appName=rl(t).name,t.Z.then((function(){return function(t,e,n,r){var i=new hh(t,e);return n&&(i.ga=n),r&&fh(i,r),i.reload().then((function(){return i}))}(n,e,t.B,t.Ea())})).then((function(e){return il(t)&&e.uid==il(t).uid?(Nh(il(t),e),t.ca(e)):(el(t,e),bh(e),t.ca(e))})).then((function(){sl(t)}))}function el(t,e){il(t)&&(function(t,e){H(t.R,(function(t){return t==e}))}(il(t),t.Ma),cn(il(t),"tokenChanged",t.xa),cn(il(t),"userDeleted",t.ya),cn(il(t),"userInvalidated",t.za),mh(il(t))),e&&(e.R.push(t.Ma),sn(e,"tokenChanged",t.xa),sn(e,"userDeleted",t.ya),sn(e,"userInvalidated",t.za),0<t.s&&vh(e)),Wr(t,"currentUser",e),e&&(e.va(t.ja()),lh(e,t),fh(e,t.N),ph(e,t))}function nl(t,e){var n=null,r=null;return al(t,e.then((function(e){return n=Po(e),r=Wi(e),tl(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Xc(e.v(),t,b(t.ic,t))),n||e})).then((function(){return Hr({user:il(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function rl(t){return t.app}function il(t){return t.currentUser}function ol(t){return il(t)&&il(t)._lat||null}function sl(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](ol(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](ol(t))}}function al(t,e){return t.P.push(e),e.ma((function(){z(t.P,e)})),e}function ul(){}function cl(){this.a={},this.b=1e12}Fh.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new I("invalid-persistence-type"),n=new I("unsupported-persistence-type");t:{for(r in Wu)if(Wu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(gr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Tu()&&"none"!==t)throw n;break;default:if(!Ar()&&"none"!==t)throw n}}(t),Kh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,qh(n,t)})).then((function(){if(n.c=Gh(t),e)return n.b.set(n.c,e,n.a)})):Ne()}))},E(Yh,yn),E(Xh,He),E(Jh,He),(t=Yh.prototype).tb=function(t){return al(this,t=this.i.tb(t))},t.va=function(t){this.$===t||this.l||(this.$=t,Qs(this.b,this.$),this.dispatchEvent(new Xh(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=a.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),Zs(this.b,e.SDK_VERSION?Ir(e.SDK_VERSION,this.N):null),this.dispatchEvent(new Jh(this.N))},t.Ea=function(){return Y(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:rl(this).options.apiKey,authDomain:rl(this).options.authDomain,appName:rl(this).name,currentUser:il(this)&&il(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.gc,this):null},t.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return nl(i,pa(i.b,o))}))},t.Vc=function(t){if(!Nr())return Se(new I("operation-not-supported-in-this-environment"));var n=this,r=Gi(t.providerId),i=Pr(),o=null;(!Or()||vr())&&rl(this).options.authDomain&&t.isOAuthProvider&&(o=lu(rl(this).options.authDomain,rl(this).options.apiKey,rl(this).name,"signInViaPopup",t,null,i,e.SDK_VERSION||null,null,null,this.S()));var s=hr(o,r&&r.ta,r&&r.sa);return al(this,r=Qh(this).then((function(e){return Oc(e,s,"signInViaPopup",t,i,!!o,n.S())})).then((function(){return new we((function(t,e){n.la("signInViaPopup",null,new I("cancelled-popup-request"),n.g),n.f=t,n.w=e,n.g=i,n.c=Lc(n.a,n,"signInViaPopup",s,i)}))})).then((function(t){return s&&cr(s),t?Hr(t):null})).o((function(t){throw s&&cr(s),t})))},t.Wc=function(t){if(!Nr())return Se(new I("operation-not-supported-in-this-environment"));var e=this;return al(this,Qh(this).then((function(){return function(t){return Kh(t,(function(){return t.b.set(Bh,t.c.F,t.a)}))}(e.i)})).then((function(){return Cc(e.a,"signInViaRedirect",t,void 0,e.S())})))},t.pa=function(){var t=this;return Zh(this).then((function(e){return t.a&&Uc(t.a.b),e})).o((function(e){throw t.a&&Uc(t.a.b),e}))},t.bd=function(t){if(!t)return Se(new I("null-user"));if(this.R!=t.tenantId)return Se(new I("tenant-id-mismatch"));var e=this,n={};n.apiKey=rl(this).options.apiKey,n.authDomain=rl(this).options.authDomain,n.appName=rl(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Hs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new hh(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&fh(e,r),Nh(e,t),e}(t,n,e.B,e.Ea());return al(this,this.h.then((function(){if(rl(e).options.apiKey!=t.l)return r.reload()})).then((function(){return il(e)&&t.uid==il(e).uid?(Nh(il(e),t),e.ca(t)):(el(e,r),bh(r),e.ca(r))})).then((function(){sl(e)})))},t.wb=function(){var t=this;return al(this,this.h.then((function(){return t.a&&Uc(t.a.b),il(t)?(el(t,null),zh(t.i).then((function(){sl(t)}))):Ne()})))},t.Xc=function(){var t=this;return Hh(this.i,rl(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=il(t)&&e){n=il(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Nh(il(t),e),il(t).I();(il(t)||e)&&(el(t,e),e&&(bh(e),e.ga=t.B),t.a&&Ac(t.a,t),sl(t))}}))},t.ca=function(t){return Wh(this.i,t)},t.jc=function(){sl(this),this.ca(il(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then((function(){return nl(e,Ne(t))}))},t.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(il(e))}))},t.yc=function(t){var e=this;!function(t,e){t.O.push(e),al(t,t.h.then((function(){!t.l&&W(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(ol(t)))})))}(this,(function(){t.next(il(e))}))},t.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){p(t)?t(il(r)):p(t.next)&&t.next(il(r))})),this.$b(t,e,n)},t.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),p(t)?t(il(r)):p(t.next)&&t.next(il(r))})),this.ac(t,e,n)},t.kc=function(t){var e=this;return al(this,this.h.then((function(){return il(e)?il(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Rc=function(t){var e=this;return this.h.then((function(){return nl(e,Xa(e.b,Ga,{token:t}))})).then((function(t){var n=t.user;return Ah(n,"isAnonymous",!1),e.ca(n),t}))},t.Sc=function(t,e){var n=this;return this.h.then((function(){return nl(n,Xa(n.b,Wa,{email:t,password:e}))}))},t.cc=function(t,e){var n=this;return this.h.then((function(){return nl(n,Xa(n.b,ba,{email:t,password:e}))}))},t.Ya=function(t){var e=this;return this.h.then((function(){return nl(e,t.ia(e.b))}))},t.Qc=function(t){return Br("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var t=this;return this.h.then((function(){var e=il(t);if(e&&e.isAnonymous){var n=Hr({providerId:null,isNewUser:!1});return Hr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return nl(t,t.b.vb()).then((function(e){var n=e.user;return Ah(n,"isAnonymous",!0),t.ca(n),e}))}))},t.getUid=function(){return il(this)&&il(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&il(this)&&vh(il(this))},t.Nc=function(t){var e=this;F(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&il(this)&&mh(il(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),al(this,this.h.then((function(){e.l||W(e.m,t)&&t(ol(e))})))},t.removeAuthTokenListener=function(t){H(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Gh("local"),t.a,this.oa),this.a&&(Nc(this.a,this),Uc(this.a.b)),Promise.resolve()},t.fc=function(t){return al(this,function(t,e){return Xa(t,wa,{identifier:e,continueUri:Sr()?sr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.zc=function(t){return!!So(t)},t.sb=function(t,e){var n=this;return al(this,Ne().then((function(){var t=new ki(e);if(!t.c)throw new I("argument-error",Si+" must be true when sending sign in link to email");return Ri(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},t.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},t.jb=function(t,e){return al(this,this.b.jb(t,e).then((function(){})))},t.Pa=function(t){return al(this,this.b.Pa(t).then((function(t){return new ni(t)})))},t.fb=function(t){return al(this,this.b.fb(t).then((function(){})))},t.rb=function(t,e){var n=this;return al(this,Ne().then((function(){return void 0===e||lt(e)?{}:Ri(new ki(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},t.Uc=function(t,e){return al(this,Gc(this,t,e,b(this.Ya,this)))},t.Tc=function(t,e){var n=this;return al(this,Ne().then((function(){var r=e||sr(),i=No(t,r);if(!(r=So(r)))throw new I("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new I("tenant-id-mismatch");return n.Ya(i)})))},ul.prototype.render=function(){},ul.prototype.reset=function(){},ul.prototype.getResponse=function(){},ul.prototype.execute=function(){};var hl=null;function ll(t,e){return(e=fl(e))&&t.a[e]||null}function fl(t){return(t=void 0===t?1e12:t)?t.toString():null}function pl(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=oe(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():sn(this.f,"click",this.i)}function dl(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function vl(){}function ml(){}cl.prototype.render=function(t,e){return this.a[this.b.toString()]=new pl(t,e),this.b++},cl.prototype.reset=function(t){var e=ll(this,t);t=fl(t),e&&t&&(e.delete(),delete this.a[t])},cl.prototype.getResponse=function(t){return(t=ll(this,t))?t.getResponse():null},cl.prototype.execute=function(t){(t=ll(this,t))&&t.execute()},pl.prototype.getResponse=function(){return dl(this),this.b},pl.prototype.execute=function(){dl(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},pl.prototype.delete=function(){dl(this),this.g=!0,clearTimeout(this.a),this.a=null,cn(this.f,"click",this.i)},Wr(vl,"FACTOR_ID","phone"),ml.prototype.g=function(){return hl||(hl=new cl),Ne(hl)},ml.prototype.c=function(){};var gl=null;function yl(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var bl=new mt(bt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),wl=new jr(3e4,6e4);yl.prototype.g=function(t){var e=this;return new we((function(n,r){var i=setTimeout((function(){r(new I("network-request-failed"))}),wl.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new I("internal-error"));delete a[e.a]},Ne(Us(It(bl,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},yl.prototype.c=function(){this.b--};var _l=null;function El(t,e,n,r,i,o,s){if(Wr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,s?(gl||(gl=new ml),s=gl):(_l||(_l=new yl),s=_l),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[kl])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Al],!a.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!oe(e)||!this.i&&oe(e).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ws(t,o||null,i||null),this.w=r||function(){return null};var u=this;this.l=[];var c=this.a[Il];this.a[Il]=function(t){if(Nl(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=kr(c,a);"function"==typeof e&&e(t)}};var h=this.a[Tl];this.a[Tl]=function(){if(Nl(u,null),"function"==typeof h)h();else if("string"==typeof h){var t=kr(h,a);"function"==typeof t&&t()}}}var Il="callback",Tl="expired-callback",kl="sitekey",Al="size";function Nl(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Sl(t,e){return t.h.push(e),e.ma((function(){z(t.h,e)})),e}function xl(t){if(t.D)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ol(t,n,r){var i=!1;try{this.b=r||e.app()}catch(t){throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new I("invalid-api-key");r=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ea()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}s=e.SDK_VERSION?Ir(e.SDK_VERSION,s):null,El.call(this,r,t,n,(function(){try{var t=o.b.auth().ja()}catch(e){t=null}return t}),s,x(k),i)}function Dl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Cl.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");n=Cl[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new I("argument-error",t+" failed: "+r)}(t=El.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=Sl(this,Ne().then((function(){if(Sr()&&!mr())return pr();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,Xa(t.s,La,{})})).then((function(e){t.a[kl]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){xl(this);var t=this;return Sl(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=oe(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!re&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',$t(s.name),'"'),s.type){o.push(' type="',$t(s.type),'"');var a={};dt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=fe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):se(o,s)),2<r.length&&he(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){xl(this);var t=this;return Sl(this,this.render().then((function(e){return new we((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){H(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){xl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){xl(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=oe(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},E(Ol,El);var Cl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ll(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Pl(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Rl(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:d}}function Ml(t,e){return{name:t||"",J:"a function",optional:!!e,K:p}}function jl(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Ul(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ia||!n)}}}function Vl(t,e){return d(t)&&"string"==typeof t.type&&t.type===e&&p(t.Fa)}function $l(t){return d(t)&&"string"==typeof t.uid}function Fl(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||!p(t.verify))}}}function ql(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Bl(t,e){for(var n in e){var r=e[n].name;t[r]=zl(r,t[n],e[n].j)}}function Gl(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,r){Dl(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function Wl(t,e,n,r){t[e]=zl(e,n,r)}function zl(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Dl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Bl(Yh.prototype,{fb:{name:"applyActionCode",j:[Ll("code")]},Pa:{name:"checkActionCode",j:[Ll("code")]},jb:{name:"confirmPasswordReset",j:[Ll("code"),Ll("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Ll("email"),Ll("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Ll("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Ll("emailLink")]},Fc:{name:"onAuthStateChanged",j:[ql(Rl(),Ml(),"nextOrObserver"),Ml("opt_error",!0),Ml("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[ql(Rl(),Ml(),"nextOrObserver"),Ml("opt_error",!0),Ml("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Ll("email"),ql(Rl("opt_actionCodeSettings",!0),jl(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Ll("email"),Rl("actionCodeSettings")]},tb:{name:"setPersistence",j:[Ll("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Ul()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Ul()]},Rc:{name:"signInWithCustomToken",j:[Ll("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Ll("email"),Ll("password")]},Tc:{name:"signInWithEmailLink",j:[Ll("email"),Ll("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Ll("phoneNumber"),Fl()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[ql({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof hh)}},jl(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ll(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Ll("code")]}}),Gl(Yh.prototype,{lc:{name:"languageCode",gb:ql(Ll(),jl(),"languageCode")},ti:{name:"tenantId",gb:ql(Ll(),jl(),"tenantId")}}),Yh.Persistence=Wu,Yh.Persistence.LOCAL="local",Yh.Persistence.SESSION="session",Yh.Persistence.NONE="none",Bl(hh.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Pl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Pl("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Ul()]},mb:{name:"linkWithCredential",j:[Ul()]},Bc:{name:"linkWithPhoneNumber",j:[Ll("phoneNumber"),Fl()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ul()]},pb:{name:"reauthenticateWithCredential",j:[Ul()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Ll("phoneNumber"),Fl()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[ql(Rl("opt_actionCodeSettings",!0),jl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ll(null,!0)]},ad:{name:"unlink",j:[Ll("provider")]},xb:{name:"updateEmail",j:[Ll("email")]},yb:{name:"updatePassword",j:[Ll("password")]},cd:{name:"updatePhoneNumber",j:[Ul("phone")]},zb:{name:"updateProfile",j:[Rl("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Ll("email"),ql(Rl("opt_actionCodeSettings",!0),jl(null,!0),"opt_actionCodeSettings",!0)]}}),Bl(cl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Bl(ul.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Bl(we.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Gl(qc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Pl("appVerificationDisabledForTesting")}}),Bl(Bc.prototype,{confirm:{name:"confirm",j:[Ll("verificationCode")]}}),Wl(io,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[lo,ko,Oo,uo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[ql(Ll(),Rl(),"json")]),Wl(Ao,"credential",(function(t,e){return new To(t,e)}),[Ll("email"),Ll("password")]),Bl(To.prototype,{v:{name:"toJSON",j:[Ll(null,!0)]}}),Bl(mo.prototype,{Aa:{name:"addScope",j:[Ll("scope")]},Ia:{name:"setCustomParameters",j:[Rl("customOAuthParameters")]}}),Wl(mo,"credential",go,[ql(Ll(),Rl(),"token")]),Wl(Ao,"credentialWithLink",No,[Ll("email"),Ll("emailLink")]),Bl(yo.prototype,{Aa:{name:"addScope",j:[Ll("scope")]},Ia:{name:"setCustomParameters",j:[Rl("customOAuthParameters")]}}),Wl(yo,"credential",bo,[ql(Ll(),Rl(),"token")]),Bl(wo.prototype,{Aa:{name:"addScope",j:[Ll("scope")]},Ia:{name:"setCustomParameters",j:[Rl("customOAuthParameters")]}}),Wl(wo,"credential",_o,[ql(Ll(),ql(Rl(),jl()),"idToken"),ql(Ll(),jl(),"accessToken",!0)]),Bl(Eo.prototype,{Ia:{name:"setCustomParameters",j:[Rl("customOAuthParameters")]}}),Wl(Eo,"credential",Io,[ql(Ll(),Rl(),"token"),Ll("secret",!0)]),Bl(vo.prototype,{Aa:{name:"addScope",j:[Ll("scope")]},credential:{name:"credential",j:[ql(Ll(),ql(Rl(),jl()),"optionsOrIdToken"),ql(Ll(),jl(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Rl("customOAuthParameters")]}}),Bl(co.prototype,{v:{name:"toJSON",j:[Ll(null,!0)]}}),Bl(so.prototype,{v:{name:"toJSON",j:[Ll(null,!0)]}}),Wl(Co,"credential",Lo,[Ll("verificationId"),Ll("verificationCode")]),Bl(Co.prototype,{cb:{name:"verifyPhoneNumber",j:[ql(Ll(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Vl(t.session,no)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Vl(t.session,ro)&&$l(t.multiFactorHint):t.session&&t.multiFactorUid?Vl(t.session,ro)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Fl()]}}),Bl(xo.prototype,{v:{name:"toJSON",j:[Ll(null,!0)]}}),Bl(I.prototype,{toJSON:{name:"toJSON",j:[Ll(null,!0)]}}),Bl(qo.prototype,{toJSON:{name:"toJSON",j:[Ll(null,!0)]}}),Bl(Fo.prototype,{toJSON:{name:"toJSON",j:[Ll(null,!0)]}}),Bl(Yc.prototype,{toJSON:{name:"toJSON",j:[Ll(null,!0)]}}),Bl(zc.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Bl(eh.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Ll("displayName",!0)]},$c:{name:"unenroll",j:[ql({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:$l},Ll(),"multiFactorInfoIdentifier")]}}),Bl(Ol.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Wl(mi,"parseLink",Ti,[Ll("link")]),Wl(vl,"assertion",(function(t){return new Zc(t)}),[Ul("phone")]),function(){if(void 0===e||!e.INTERNAL||!e.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ii,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ri,VERIFY_AND_CHANGE_EMAIL:oi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Yh,AuthCredential:io,Error:I};Wl(t,"EmailAuthProvider",Ao,[]),Wl(t,"FacebookAuthProvider",mo,[]),Wl(t,"GithubAuthProvider",yo,[]),Wl(t,"GoogleAuthProvider",wo,[]),Wl(t,"TwitterAuthProvider",Eo,[]),Wl(t,"OAuthProvider",vo,[Ll("providerId")]),Wl(t,"SAMLAuthProvider",po,[Ll("providerId")]),Wl(t,"PhoneAuthProvider",Co,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Yh)}}]),Wl(t,"RecaptchaVerifier",Ol,[ql(Ll(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Rl("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof e.app.App)}}]),Wl(t,"ActionCodeURL",mi,[]),Wl(t,"PhoneMultiFactorGenerator",vl,[]),e.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Yh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),e.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.kc,t),addAuthTokenListener:b(t.bc,t),removeAuthTokenListener:b(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.registerVersion("@firebase/auth","0.14.6"),e.INTERNAL.extendNamespace({User:hh})}()}).apply(void 0!==ie?ie:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ge=se((function(t,e){!function(t){function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,s){n(i=t[e].apply(t,r)).then(o,s)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new h(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function s(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function a(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function c(t){this._index=t}function h(t,e){this._cursor=t,this._request=e}function l(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function d(t){this._db=t}o(c,"_index",["name","keyPath","multiEntry","unique"]),s(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(h,"_cursor",["direction","key","primaryKey","value"]),s(h,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(h.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new h(t,e._request)}))}))})})),l.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},l.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(l,"_store",["name","keyPath","indexNames","autoIncrement"]),s(l,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(l,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(l,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new l(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),a(f,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new l(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),a(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[l,c].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,l].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new p(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new d(t)}))},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)}));oe(ge);var ye=se((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n,r=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(le),i=((n={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',n["not-registered"]="Firebase Installation is not registered.",n["installation-not-found"]="Firebase Installation not found.",n["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',n["app-offline"]="Could not process request. Application offline.",n["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",n),o=new ue.ErrorFactory("installations","Installations",i);function s(t){return t instanceof ue.FirebaseError&&t.code.includes("request-failed")}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function a(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function u(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function c(t,e){return ae.__awaiter(this,void 0,void 0,(function(){var n,r;return ae.__generator(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,o.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function h(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function l(t,e){var n=e.refreshToken,r=h(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(n)),r}function f(t){return ae.__awaiter(this,void 0,void 0,(function(){var e;return ae.__generator(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function p(t,e){var n=e.fid;return ae.__awaiter(this,void 0,void 0,(function(){var e,r,i,o,s,l;return ae.__generator(this,(function(p){switch(p.label){case 0:return e=a(t),r=h(t),i={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.10"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,f((function(){return fetch(e,o)}))];case 1:return(s=p.sent()).ok?[4,s.json()]:[3,3];case 2:return l=p.sent(),[2,{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:u(l.authToken)}];case 3:return[4,c("Create Installation",s)];case 4:throw p.sent()}}))}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function d(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var v=/^[cdef][\w-]{21}$/;function m(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,ae.__spread(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t);return v.test(e)?e:""}catch(t){return""}}function g(t){return t.appName+"!"+t.appId}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var y=new Map;function b(t,e){var n=g(t);w(n,e),function(t,e){var n=E();n&&n.postMessage({key:t,fid:e});I()}(n,e)}function w(t,e){var n,r,i=y.get(t);if(i)try{for(var o=ae.__values(i),s=o.next();!s.done;s=o.next()){(0,s.value)(e)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var _=null;function E(){return!_&&"BroadcastChannel"in self&&((_=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){w(t.data.key,t.data.fid)}),_}function I(){0===y.size&&_&&(_.close(),_=null)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var T="firebase-installations-store",k=null;function A(){return k||(k=ge.openDb("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(T)}}))),k}function N(t,e){return ae.__awaiter(this,void 0,void 0,(function(){var n,r,i,o,s;return ae.__generator(this,(function(a){switch(a.label){case 0:return n=g(t),[4,A()];case 1:return r=a.sent(),i=r.transaction(T,"readwrite"),[4,(o=i.objectStore(T)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||b(t,e.fid),[2,e]}}))}))}function S(t){return ae.__awaiter(this,void 0,void 0,(function(){var e,n,r;return ae.__generator(this,(function(i){switch(i.label){case 0:return e=g(t),[4,A()];case 1:return n=i.sent(),[4,(r=n.transaction(T,"readwrite")).objectStore(T).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function x(t,e){return ae.__awaiter(this,void 0,void 0,(function(){var n,r,i,o,s,a;return ae.__generator(this,(function(u){switch(u.label){case 0:return n=g(t),[4,A()];case 1:return r=u.sent(),i=r.transaction(T,"readwrite"),[4,(o=i.objectStore(T)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||b(t,a.fid),[2,a]}}))}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function O(t){return ae.__awaiter(this,void 0,void 0,(function(){var e,n,r;return ae.__generator(this,(function(i){switch(i.label){case 0:return[4,x(t,(function(n){var r=function(t){return L(t||{fid:m(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){var n=Promise.reject(o.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function(t,e){return ae.__awaiter(this,void 0,void 0,(function(){var n,r;return ae.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,p(t,e)];case 1:return n=i.sent(),[2,N(t,n)];case 2:return s(r=i.sent())&&409===r.serverCode?[4,S(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,N(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,r);return{installationEntry:r,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:D(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function D(t){return ae.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return ae.__generator(this,(function(o){switch(o.label){case 0:return[4,C(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,d(100)];case 3:return o.sent(),[4,C(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,O(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function C(t){return x(t,(function(t){if(!t)throw o.create("installation-not-found");return L(t)}))}function L(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e;
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}function P(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return ae.__awaiter(this,void 0,void 0,(function(){var t,i,o,s,h,p,d;return ae.__generator(this,(function(v){switch(v.label){case 0:return t=function(t,e){var n=e.fid;return a(t)+"/"+n+"/authTokens:generate"}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(n,e),i=l(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={installation:{sdkVersion:"w:0.4.10"}},h={method:"POST",headers:i,body:JSON.stringify(s)},[4,f((function(){return fetch(t,h)}))];case 1:return(p=v.sent()).ok?[4,p.json()]:[3,3];case 2:return d=v.sent(),[2,u(d)];case 3:return[4,c("Generate Auth Token",p)];case 4:throw v.sent()}}))}))}function R(t,e){return void 0===e&&(e=!1),ae.__awaiter(this,void 0,void 0,(function(){var n,r,i;return ae.__generator(this,(function(a){switch(a.label){case 0:return[4,x(t.appConfig,(function(r){if(!j(r))throw o.create("not-registered");var i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(i))return r;if(1===i.requestStatus)return n=function(t,e){return ae.__awaiter(this,void 0,void 0,(function(){var n,r;return ae.__generator(this,(function(i){switch(i.label){case 0:return[4,M(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,d(100)];case 3:return i.sent(),[4,M(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,R(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw o.create("app-offline");var a=function(t){var e={requestStatus:1,requestTime:Date.now()};return ae.__assign(ae.__assign({},t),{authToken:e})}(r);return n=function(t,e){return ae.__awaiter(this,void 0,void 0,(function(){var n,r,i;return ae.__generator(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,P(t,e)];case 1:return n=o.sent(),i=ae.__assign(ae.__assign({},e),{authToken:n}),[4,N(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!s(r=o.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,S(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=ae.__assign(ae.__assign({},e),{authToken:{requestStatus:0}}),[4,N(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,a),a}))];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return i=a.sent(),[3,4];case 3:i=r.authToken,a.label=4;case 4:return[2,i]}}))}))}function M(t){return x(t,(function(t){if(!j(t))throw o.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+1e4<Date.now()?ae.__assign(ae.__assign({},t),{authToken:{requestStatus:0}}):t}))}function j(t){return void 0!==t&&2===t.registrationStatus}function U(t){return ae.__awaiter(this,void 0,void 0,(function(){var e;return ae.__generator(this,(function(n){switch(n.label){case 0:return[4,O(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function V(t,e){return ae.__awaiter(this,void 0,void 0,(function(){var n,r,i,o;return ae.__generator(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return a(t)+"/"+n}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(t,e),r=l(t,e),i={method:"DELETE",headers:r},[4,f((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,c("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function $(t,e){var n=t.appConfig;return function(t,e){E();var n=g(t),r=y.get(n);r||(r=new Set,y.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=g(t),r=y.get(n);r&&(r.delete(e),0===r.size&&y.delete(n),I())}(n,e)}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function F(t){return o.create("missing-app-config-values",{valueName:t})}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function q(t){t.INTERNAL.registerComponent(new ce.Component("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw F("App Configuration");if(!t.name)throw F("App Name");try{for(var r=ae.__values(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw F(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */return function(t){return ae.__awaiter(this,void 0,void 0,(function(){var e,n,r;return ae.__generator(this,(function(i){switch(i.label){case 0:return[4,O(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):R(t).catch(console.error),[2,n.fid]}}))}))}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),ae.__awaiter(this,void 0,void 0,(function(){return ae.__generator(this,(function(n){switch(n.label){case 0:return[4,U(t.appConfig)];case 1:return n.sent(),[4,R(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return ae.__awaiter(this,void 0,void 0,(function(){var e,n;return ae.__generator(this,(function(r){switch(r.label){case 0:return[4,x(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw o.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw o.create("app-offline");case 3:return[4,V(e,n)];case 4:return r.sent(),[4,S(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return $(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.10")}q(r),e.registerInstallations=q}));oe(ye);ye.registerInstallations;var be=se((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n,r,i,o,s=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(le),a=((n={})["trace started"]="Trace {$traceName} was started before.",n["trace stopped"]="Trace {$traceName} is not running.",n["no window"]="Window is not available.",n["no app id"]="App id is not available.",n["no project id"]="Project id is not available.",n["no api key"]="Api key is not available.",n["invalid cc log"]="Attempted to queue invalid cc event",n["FB not default"]="Performance can only start when Firebase app instance is the default one.",n["RC response not ok"]="RC response is not ok",n["invalid attribute name"]="Attribute name {$attributeName} is invalid.",n["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",n["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",n["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",n),u=new ue.ErrorFactory("performance","Performance",a),c=function(){function t(t){if(this.window=t,!t)throw u.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!!(fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===r&&(r=new t(i)),r},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function h(t,e){var n=t.length-e.length;if(n<0||n>1)throw u.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var l,f,p=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=h("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=h("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw u.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw u.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw u.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===o&&(o=new t),o},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function d(){return l}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(f||(f={}));var v=["firebase_","google_","ga_"],m=new RegExp("^[a-zA-Z]\\w*$");function g(){var t=c.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function y(){switch(c.getInstance().document.visibilityState){case"visible":return f.VISIBLE;case"hidden":return f.HIDDEN;default:return f.UNKNOWN}}function b(){var t=c.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var w=new he.Logger("Performance");w.logLevel=he.LogLevel.INFO;
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var _=!0;function E(t){var e=function(){var t=c.getInstance().localStorage;if(!t)return;var e=t.getItem("@firebase/performance/configexpire");if(!(e&&(n=e,Number(n)>Date.now())))return;var n;var r=t.getItem("@firebase/performance/config");if(!r)return;try{return JSON.parse(r)}catch(t){return}}();return e?(I(e),Promise.resolve()):function(t){return(e=p.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+p.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+p.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:p.getInstance().getAppId(),app_version:"0.3.5",sdk_version:"0.0.1"})});return fetch(r).then((function(t){if(t.ok)return t.json();throw u.create("RC response not ok")}))})).catch((function(){w.info("Could not fetch config, will use default configs")}));var e;
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */}(t).then(I).then((function(t){return function(t){var e=c.getInstance().localStorage;if(!t||!e)return;e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*p.getInstance().configTimeToLive*60*1e3))}(t)}),(function(){}))}function I(t){if(!t)return t;var e=p.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=_,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=T(e.tracesSamplingRate),e.logNetworkAfterSampling=T(e.networkRequestsSamplingRate),t}function T(t){return Math.random()<=t}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var k,A=1;function N(){return A=2,k=k||function(){var t=c.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}().then((function(){return(t=p.getInstance().installationsService.getId()).then((function(t){l=t})),t;var t})).then((function(t){return E(t)})).then((function(){return S()}),(function(){return S()}))}function S(){A=3}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var x,O=3,D=[],C=!1;function L(t){setTimeout((function(){if(0!==O)return D.length?void function(){var t=ae.__spreadArrays(D);D=[];var e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}));(function(t,e){return function(t){var e=p.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||w.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=1e4;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(D=ae.__spreadArrays(e,D),w.info("Retry transport request later.")),O=3,L(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:p.getInstance().logSource,log_event:e},t).catch((function(){D=ae.__spreadArrays(t,D),O--,w.info("Tries left: "+O+"."),L(1e4)}))}():L(1e4)}),t)}function P(t){if(!t.eventTime||!t.message)throw u.create("invalid cc log");D=ae.__spreadArrays(D,[t])}function R(t,e){x||(x=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);P({message:r,eventTime:Date.now()})}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(U)),x(t,e)}function M(t){var e=p.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&c.getInstance().requiredApisAvailable()&&(t.isAuto&&y()!==f.VISIBLE||e.loggingEnabled&&e.logTraceAfterSampling&&(3===A?j(t):N().then((function(){return j(t)}),(function(){return j(t)}))))}function j(t){d()&&setTimeout((function(){return R(t,1)}),0)}function U(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:V(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:V(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function V(){return{google_app_id:p.getInstance().getAppId(),app_instance_id:d(),web_app_info:{sdk_version:"0.3.5",page_url:c.getInstance().getUrl(),service_worker_status:g(),visibility_state:y(),effective_connection_type:b()},application_process_state:0}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var $=["_fp","_fcp","_fid"];
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var F=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=c.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw u.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw u.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),M(this)},t.prototype.record=function(t,e,n){if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=ae.__assign({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}M(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]&&this.putMetric(t,0),this.counters[t]+=e},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&$.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw u.create("invalid custom metric name",{customMetricName:t});this.counters[t]=e},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40)&&(!v.some((function(e){return t.startsWith(e)}))&&!!t.match(m))}(t),r=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw u.create("invalid attribute name",{attributeName:t});if(!r)throw u.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return ae.__assign({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=c.getInstance().getUrl();if(i){var o=new t("_wt_"+i,!0),s=Math.floor(1e3*c.getInstance().getTimeOrigin());o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var a=n.find((function(t){return"first-paint"===t.name}));a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var u=n.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}M(o)}},t.createUserTimingTrace=function(e){M(new t(e,!1,e))},t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function q(t){var e=t;if(e&&void 0!==e.responseStart){var n=c.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=p.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return R(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function B(){d()&&(setTimeout((function(){return function(){var t=c.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){F.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),F.createOobTrace(e,n,t))}))}else F.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=c.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){q(r[n])}t.setupObserver("resource",q)}()}),0),setTimeout((function(){return function(){for(var t=c.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){G(r[n])}t.setupObserver("measure",G)}()}),0))}function G(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&F.createUserTimingTrace(e)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var W=function(){function t(t){this.app=t,c.getInstance().requiredApisAvailable()?(C||(L(5500),C=!0),N().then(B,B)):w.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.")}return t.prototype.trace=function(t){return new F(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return p.getInstance().instrumentationEnabled},set:function(t){p.getInstance().instrumentationEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return p.getInstance().dataCollectionEnabled},set:function(t){p.getInstance().dataCollectionEnabled=t},enumerable:!0,configurable:!0}),t}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function z(t){var e=function(t,e){if("[DEFAULT]"!==t.name)throw u.create("FB not default");if("undefined"==typeof window)throw u.create("no window");return function(t){i=t}(window),p.getInstance().firebaseAppInstance=t,p.getInstance().installationsService=e,new W(t)};t.INTERNAL.registerComponent(new ce.Component("performance",(function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)}),"PUBLIC")),t.registerVersion("@firebase/performance","0.3.5")}z(s),e.registerPerformance=z}));oe(be);be.registerPerformance;var we=se((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n,r,i=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(le),o="https://www.googletagmanager.com/gtag/js";
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(n||(n={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(r||(r={}));
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var s,a=new he.Logger("@firebase/analytics");
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function u(t,e,r){var i=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];window[e].push(arguments)};return window[r]&&"function"==typeof window[r]&&(i=window[r]),window[r]=function(t,e){return function(r,i,o){if(r===n.EVENT){var s=[];if(o&&o.send_to){var u=o.send_to;Array.isArray(u)||(u=[u]);for(var c=0,h=u;c<h.length;c++){var l=h[c],f=e[l];if(!f){s=[];break}s.push(f)}}if(0===s.length)for(var p=0,d=Object.values(e);p<d.length;p++){var v=d[p];s.push(v)}Promise.all(s).then((function(){return t(n.EVENT,i,o||{})})).catch((function(t){return a.error(t)}))}else if(r===n.CONFIG){(e[i]||Promise.resolve()).then((function(){t(n.CONFIG,i,o)})).catch((function(t){return a.error(t)}))}else t(n.SET,i)}}(i,t),{gtagCore:i,wrappedGtag:window[r]}}var c,h,l=((s={})["no-ga-id"]='"measurementId" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',s["already-exists"]="A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.",s["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",s["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate",s),f=new ue.ErrorFactory("analytics","Analytics",l),p={},d="dataLayer",v="gtag",m=!1;function g(t){if(m)throw f.create("already-initialized");t.dataLayerName&&(d=t.dataLayerName),t.gtagName&&(v=t.gtagName)}function y(t,e){var r=t.options.measurementId;if(!r)throw f.create("no-ga-id");if(null!=p[r])throw f.create("already-exists",{id:r});if(!m){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(o))return r}return null}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */)()||function(t){var e=document.createElement("script");e.src=o+"?l="+t,e.async=!0,document.head.appendChild(e)}(d),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(d);var i=u(p,d,v),s=i.wrappedGtag,a=i.gtagCore;h=s,c=a,m=!0}return p[r]=function(t,e,r){return ae.__awaiter(this,void 0,void 0,(function(){var i,o;return ae.__generator(this,(function(s){switch(s.label){case 0:return[4,e.getId()];case 1:return i=s.sent(),r("js",new Date),r(n.CONFIG,t.options.measurementId,((o={}).firebase_id=i,o.origin="firebase",o.update=!0,o)),[2]}}))}))}(t,e,c),{app:t,logEvent:function(t,e,i){
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
return function(t,e,r,i,o){var s=i||{};o&&o.global||(s=ae.__assign(ae.__assign({},i),{send_to:e})),t(n.EVENT,r,s||{})}(h,r,t,e,i)},setCurrentScreen:function(t,e){return function(t,e,r,i){i&&i.global?t(n.SET,{screen_name:r}):t(n.CONFIG,e,{update:!0,screen_name:r})}(h,r,t,e)},setUserId:function(t,e){return function(t,e,r,i){i&&i.global?t(n.SET,{user_id:r}):t(n.CONFIG,e,{update:!0,user_id:r})}(h,r,t,e)},setUserProperties:function(t,e){return function(t,e,r,i){if(i&&i.global){for(var o={},s=0,a=Object.keys(r);s<a.length;s++){var u=a[s];o["user_properties."+u]=r[u]}t(n.SET,o)}else t(n.CONFIG,e,{update:!0,user_properties:r})}(h,r,t,e)},setAnalyticsCollectionEnabled:function(t){return function(t,e){window["ga-disable-"+t]=!e}(r,t)}}}function b(t){t.INTERNAL.registerComponent(new ce.Component("analytics",(function(t){return y(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:g,EventName:r})),t.INTERNAL.registerComponent(new ce.Component("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(t){throw f.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.3.5")}b(i),e.factory=y,e.getGlobalVars=function(){return{initializedIdPromisesMap:p}},e.registerAnalytics=b,e.resetGlobalVars=function(t,e){void 0===t&&(t=!1),void 0===e&&(e={}),m=t,p=e,d="dataLayer",v="gtag"},e.settings=g}));oe(we);we.factory,we.getGlobalVars,we.registerAnalytics,we.resetGlobalVars,we.settings;function _e(){var t,e;e=document.getElementById("buscar").value.toUpperCase(),t=document.getElementById("tabla").querySelectorAll("input");var n=[].slice.call(t).map((function(t){return t.value})),r=document.getElementById("tabla").getElementsByTagName("tbody")[0].rows;for(let t=0;t<n.length;t++){n[t].toUpperCase().indexOf(e)>-1?r[t].style.display="":r[t].style.display="none"}}function Ee(){document.querySelectorAll("#miTabla tbody tr").forEach(t=>{const e=t.querySelectorAll("td");let n=0;for(let t=1;t<e.length-1;t++)n+=parseFloat(e[t].innerHTML);e[e.length-1].getElementsByClassName("uk-label")[0].innerText=(n/3).toFixed(2)})}function Ie(t,e,n){const r=t.slice();return r[34]=e[n],r}function Te(t,e,n){const r=t.slice();return r[31]=e[n],r[32]=e,r[33]=n,r}function ke(t,e,n){const r=t.slice();return r[37]=e[n],r}function Ae(t){let e,n,r,i=t[37].data().nombre+"";return{c(){e=v("option"),n=m(i),e.__value=r=t[37].id,e.value=e.__value},m(t,r){f(t,e,r),l(e,n)},p(t,o){4&o[0]&&i!==(i=t[37].data().nombre+"")&&I(n,i),4&o[0]&&r!==(r=t[37].id)&&(e.__value=r),e.value=e.__value},d(t){t&&p(e)}}}function Ne(t){let e;return{c(){e=v("div"),e.innerHTML='<div uk-spinner=""></div>',_(e,"slot","loading")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function Se(t){let e,n,r,i=t[34].data().nombre+"";return{c(){e=v("option"),n=m(i),e.__value=r=t[34].id,e.value=e.__value},m(t,r){f(t,e,r),l(e,n)},p(t,o){4&o[0]&&i!==(i=t[34].data().nombre+"")&&I(n,i),4&o[0]&&r!==(r=t[34].id)&&(e.__value=r),e.value=e.__value},d(t){t&&p(e)}}}function xe(t){let e,n,r,i=t[34].data().nombre+"";return{c(){e=v("option"),n=m(i),e.__value=r=t[34].id,e.value=e.__value,e.selected=!0},m(t,r){f(t,e,r),l(e,n)},p(t,o){4&o[0]&&i!==(i=t[34].data().nombre+"")&&I(n,i),4&o[0]&&r!==(r=t[34].id)&&(e.__value=r),e.value=e.__value},d(t){t&&p(e)}}}function Oe(t){let e,n;function r(t,n){return(null==e||132&n[0])&&(e=!(t[31].clase!=t[34].data().nombre)),e?xe:Se}let i=r(t,-1),o=i(t);return{c(){o.c(),n=y()},m(t,e){o.m(t,e),f(t,n,e)},p(t,e){i===(i=r(t,e))&&o?o.p(t,e):(o.d(1),o=i(t),o&&(o.c(),o.m(n.parentNode,n)))},d(t){o.d(t),t&&p(n)}}}function De(t){let e,n,i,o,s,a,u,c,h,m,y,w,E,I,A,N,S,x,O=t[2],D=[];for(let e=0;e<O.length;e+=1)D[e]=Oe(Ie(t,O,e));function C(){t[20].call(o,t[31])}function L(){t[22].call(h,t[31])}function P(...e){return t[23](t[31],...e)}function R(...e){return t[24](t[31],...e)}return{c(){e=v("tr"),n=v("td"),i=v("div"),o=v("select");for(let t=0;t<D.length;t+=1)D[t].c();s=g(),a=v("button"),a.innerHTML='<span></span> \n            <span uk-icon="icon: chevron-down"></span>',u=g(),c=v("td"),h=v("input"),y=g(),w=v("td"),E=v("a"),I=g(),A=v("td"),N=v("a"),S=g(),void 0===t[31].clase&&$(C),_(a,"class","uk-button uk-button-default"),_(a,"type","button"),_(a,"tabindex","-1"),_(i,"uk-form-custom","target: > * > span:first-child"),_(n,"class","uk-table-shrink"),_(h,"class","uk-input uk-form-width-large"),_(h,"type","text"),_(h,"placeholder",m=t[31].nombre),_(c,"class","uk-table-expand"),_(E,"href","javascript:void(0)"),_(E,"uk-tooltip","title: Editar"),_(E,"uk-icon","pencil"),_(N,"href","javascript:void(0)"),_(N,"uk-tooltip","title: Eliminar"),_(N,"uk-icon","trash"),x=[b(o,"change",C),b(o,"change",t[21]),b(h,"input",L),b(E,"click",P),b(N,"click",R)]},m(r,p){f(r,e,p),l(e,n),l(n,i),l(i,o);for(let t=0;t<D.length;t+=1)D[t].m(o,null);k(o,t[31].clase),l(i,s),l(i,a),l(e,u),l(e,c),l(c,h),T(h,t[31].nombre),l(e,y),l(e,w),l(w,E),l(e,I),l(e,A),l(A,N),l(e,S)},p(e,n){if(t=e,132&n[0]){let e;for(O=t[2],e=0;e<O.length;e+=1){const r=Ie(t,O,e);D[e]?D[e].p(r,n):(D[e]=Oe(r),D[e].c(),D[e].m(o,null))}for(;e<D.length;e+=1)D[e].d(1);D.length=O.length}128&n[0]&&k(o,t[31].clase),128&n[0]&&m!==(m=t[31].nombre)&&_(h,"placeholder",m),128&n[0]&&h.value!==t[31].nombre&&T(h,t[31].nombre)},d(t){t&&p(e),d(D,t),r(x)}}}function Ce(t){let e,n,i,o,s,a,u,c,y,w,E,I,T,k,A,N,S,x,O,D,C,L,P=t[7],R=[];for(let e=0;e<P.length;e+=1)R[e]=De(Te(t,P,e));function M(...e){return t[25](t[29],...e)}function j(...e){return t[26](t[30],...e)}return{c(){e=g(),n=v("div"),i=v("table"),o=v("caption"),o.textContent="Lista de Alumnos",s=g(),a=v("thead"),a.innerHTML='<tr><th class="uk-table-shrink">Aula</th> \n        <th class="uk-table-expand">Alumno</th> \n        <th class="uk-table-shrink" colspan="2">Opciones</th></tr>',u=g(),c=v("tbody");for(let t=0;t<R.length;t+=1)R[t].c();y=g(),w=v("ul"),E=v("li"),I=v("a"),T=v("span"),k=m(" Atras"),N=g(),S=v("li"),x=v("a"),O=m("Siguiente "),D=v("span"),_(i,"class","uk-table uk-table-striped uk-table-condensed uk-text-nowrap"),_(i,"id","tabla"),_(n,"class","uk-overflow-auto"),_(T,"uk-pagination-previous",""),_(I,"class",A=h(t[4]?"disabled":"")+" svelte-lzcu5o"),_(I,"uk-tooltip","title: atras..; pos: bottom"),_(I,"href","javascript:void(0)"),_(D,"uk-pagination-next",""),_(x,"class",C=h(t[5]?"disabled":"")+" svelte-lzcu5o"),_(x,"uk-tooltip","title: siguiente..; pos: bottom"),_(x,"href","javascript:void(0)"),_(S,"class","uk-margin-auto-left"),_(w,"class","uk-pagination"),L=[b(I,"click",M),b(x,"click",j)]},m(t,r){f(t,e,r),f(t,n,r),l(n,i),l(i,o),l(i,s),l(i,a),l(i,u),l(i,c);for(let t=0;t<R.length;t+=1)R[t].m(c,null);f(t,y,r),f(t,w,r),l(w,E),l(E,I),l(I,T),l(I,k),l(w,N),l(w,S),l(S,x),l(x,O),l(x,D)},p(e,n){if(t=e,140&n[0]){let e;for(P=t[7],e=0;e<P.length;e+=1){const r=Te(t,P,e);R[e]?R[e].p(r,n):(R[e]=De(r),R[e].c(),R[e].m(c,null))}for(;e<R.length;e+=1)R[e].d(1);R.length=P.length}16&n[0]&&A!==(A=h(t[4]?"disabled":"")+" svelte-lzcu5o")&&_(I,"class",A),32&n[0]&&C!==(C=h(t[5]?"disabled":"")+" svelte-lzcu5o")&&_(x,"class",C)},d(t){t&&p(e),t&&p(n),d(R,t),t&&p(y),t&&p(w),r(L)}}}function Le(t){let e,n,i,o,s,a,u,c,h,y,E,I,A,N,S,x,O,D,C,L,P,R,M,j,U,V,F,q,B,G=t[2],W=[];for(let e=0;e<G.length;e+=1)W[e]=Ae(ke(t,G,e));function z(...e){return t[19](t[11],...e)}const Q=new re({props:{path:"alumnos",query:t[6],$$slots:{default:[Ce,({data:t,first:e,last:n})=>({7:t,29:e,30:n}),({data:t,first:e,last:n})=>[(t?128:0)|(e?536870912:0)|(n?1073741824:0)]],loading:[Ne,({data:t,first:e,last:n})=>({7:t,29:e,30:n}),({data:t,first:e,last:n})=>[(t?128:0)|(e?536870912:0)|(n?1073741824:0)]]},$$scope:{ctx:t}}});return{c(){e=v("div"),n=v("div"),i=v("form"),o=v("select"),s=v("option"),s.textContent="Seleccione el aula";for(let t=0;t<W.length;t+=1)W[t].c();a=g(),u=v("div"),c=v("input"),y=g(),E=v("button"),I=m("AGREGAR"),N=g(),S=v("div"),x=g(),O=v("div"),D=g(),C=v("hr"),L=g(),P=v("form"),R=v("span"),M=g(),j=v("input"),U=g(),V=v("hr"),F=g(),Y(Q.$$.fragment),s.__value="",s.value=s.__value,_(o,"class","uk-select"),_(o,"id","form-stacked-select"),void 0===t[0]&&$(()=>t[16].call(o)),_(c,"class","uk-input uk-form-width-large"),c.disabled=h=!t[0],_(c,"type","text"),_(c,"placeholder","Nombre del alumno"),_(u,"class","uk-margin"),_(E,"class","uk-button uk-button-primary"),E.disabled=A=!t[1],_(e,"class","uk-child-width-expand@s uk-text-center"),_(e,"uk-grid",""),_(R,"uk-search-icon",""),_(j,"class","uk-search-input"),_(j,"type","search"),_(j,"placeholder","Buscar alumno..."),_(j,"id","buscar"),_(P,"class","uk-search uk-search-navbar"),B=[b(o,"change",t[16]),b(o,"change",t[17]),b(c,"input",t[18]),b(i,"submit",w(z)),b(j,"keyup",_e)]},m(r,h){f(r,e,h),l(e,n),l(n,i),l(i,o),l(o,s);for(let t=0;t<W.length;t+=1)W[t].m(o,null);k(o,t[0]),l(i,a),l(i,u),l(u,c),T(c,t[1]),l(i,y),l(i,E),l(E,I),l(e,N),l(e,S),l(e,x),l(e,O),f(r,D,h),f(r,C,h),f(r,L,h),f(r,P,h),l(P,R),l(P,M),l(P,j),f(r,U,h),f(r,V,h),f(r,F,h),X(Q,r,h),q=!0},p(e,n){if(t=e,4&n[0]){let e;for(G=t[2],e=0;e<G.length;e+=1){const r=ke(t,G,e);W[e]?W[e].p(r,n):(W[e]=Ae(r),W[e].c(),W[e].m(o,null))}for(;e<W.length;e+=1)W[e].d(1);W.length=G.length}1&n[0]&&k(o,t[0]),(!q||1&n[0]&&h!==(h=!t[0]))&&(c.disabled=h),2&n[0]&&c.value!==t[1]&&T(c,t[1]),(!q||2&n[0]&&A!==(A=!t[1]))&&(E.disabled=A);const r={};64&n[0]&&(r.query=t[6]),60&n[0]|512&n[1]&&(r.$$scope={dirty:n,ctx:t}),Q.$set(r)},i(t){q||(H(Q.$$.fragment,t),q=!0)},o(t){K(Q.$$.fragment,t),q=!1},d(t){t&&p(e),d(W,t),t&&p(D),t&&p(C),t&&p(L),t&&p(P),t&&p(U),t&&p(V),t&&p(F),J(Q,t),r(B)}}}function Pe(t){let e;const n=new _t({props:{persist:sessionStorage,$$slots:{default:[Le,({user:t,auth:e})=>({11:t,28:e}),({user:t,auth:e})=>[(t?2048:0)|(e?268435456:0)]]},$$scope:{ctx:t}}});return n.$on("user",t[27]),{c(){Y(n.$$.fragment)},m(t,r){X(n,t,r),e=!0},p(t,e){const r={};127&e[0]|512&e[1]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(H(n.$$.fragment,t),e=!0)},o(t){K(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function Re(t){let e,n,r,i,o,s,a;const u=new it({props:{firebase:de,perf:!0,analytics:!0,$$slots:{default:[Pe]},$$scope:{ctx:t}}});return{c(){e=g(),n=v("div"),n.innerHTML='<div class="uk-container"><h1><img src="./img/student.svg" width="70" height="70" uk-svg="">\n      Alumnos\n    </h1></div>',r=g(),i=v("div"),Y(u.$$.fragment),o=g(),s=v("div"),s.innerHTML='<div class="uk-width-1-12@m"><div class="uk-card uk-card-default uk-card-body"><a href="#" uk-totop="" uk-scroll=""></a></div></div>',document.title="Alumnos",_(n,"class","uk-section uk-section-primary uk-text-center uk-section-xsmall"),_(i,"class","uk-container uk-container-expand uk-margin-top"),_(s,"class","uk-grid-match uk-grid-small uk-text-center"),_(s,"uk-grid","")},m(t,c){f(t,e,c),f(t,n,c),f(t,r,c),f(t,i,c),X(u,i,null),f(t,o,c),f(t,s,c),a=!0},p(t,e){const n={};127&e[0]|512&e[1]&&(n.$$scope={dirty:e,ctx:t}),u.$set(n)},i(t){a||(H(u.$$.fragment,t),a=!0)},o(t){K(u.$$.fragment,t),a=!1},d(t){t&&p(e),t&&p(n),t&&p(r),t&&p(i),J(u),t&&p(o),t&&p(s)}}}function Me(t,e,n){const r=de.firestore(),i=de.auth();let o,s,a="",u="",c=[];r.collection("alumnos").orderBy("created","desc").get().then(t=>{s=t.size});let h=!0,l=!1,f=[],p=t=>t.orderBy("created","desc").limit(50);function d(t){n(4,h=!1),n(6,p=e=>e.orderBy("created","desc").startAfter(t.created).limit(50)),f.splice(0,0,t.ref.id),(50*f.length+50>s||50*f.length+50===s)&&n(5,l=!0)}function v(t){n(5,l=!1),f.splice(0,1),n(6,p=e=>e.orderBy("created","desc").endBefore(t.created).limitToLast(50)),50*f.length+50==50&&n(4,h=!0)}r.collection("aulas").orderBy("nombre","asc").onSnapshot(t=>{n(2,c=t.docs)});const m=async t=>{const e=(new Date).getTime(),i=t;await r.collection("alumnos").add({created:e,clase:a,nombre:u,user:i}).then(t=>{n(0,a=""),n(1,u=""),console.log("Alumnos agregado con xito")})};let g=[];return[a,u,c,o,h,l,p,g,d,v,m,i,s,r,[],f,function(){a=A(this),n(0,a),n(2,c)},()=>n(3,o=""),function(){u=this.value,n(1,u)},t=>{m(t.uid)},function(t){t.clase=A(this),n(7,g),n(2,c)},()=>n(3,o=""),function(t){t.nombre=this.value,n(7,g),n(2,c)},t=>t.ref.update({clase:t.clase,nombre:t.nombre}).then(t=>{UIkit.notification({message:"<span uk-icon='icon: pencil'></span> Registro actualizado.",pos:"bottom-center",status:"primary"})}),t=>t.ref.delete().then(t=>{UIkit.notification({message:"<span uk-icon='icon: trash'></span> Registro eliminado.",pos:"bottom-center",status:"danger"})}),t=>v(t),t=>d(t),function(e){L(t,e)}]}class je extends tt{constructor(t){super(),Z(this,t,Me,Re,o,{},[-1,-1])}}function Ue(t,e,n){const r=t.slice();return r[23]=e[n],r}function Ve(t,e,n){const r=t.slice();return r[16]=e[n],r}function $e(t,e,n){const r=t.slice();return r[16]=e[n],r}function Fe(t){let e;return{c(){e=v("div"),e.innerHTML='<div uk-spinner=""></div>',_(e,"slot","loading")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function qe(t){let e,n,r,i,o,s,a,u=t[16].nombre+"";return{c(){e=v("label"),n=v("input"),i=g(),o=m(u),s=g(),_(n,"class","uk-checkbox"),_(n,"type","checkbox"),n.__value=r=t[16].id,n.value=n.__value,t[8][0].push(n),a=b(n,"change",t[7])},m(r,a){f(r,e,a),l(e,n),n.checked=~t[1].indexOf(n.__value),l(e,i),l(e,o),l(e,s)},p(t,e){32768&e&&r!==(r=t[16].id)&&(n.__value=r),n.value=n.__value,2&e&&(n.checked=~t[1].indexOf(n.__value)),32768&e&&u!==(u=t[16].nombre+"")&&I(o,u)},d(r){r&&p(e),t[8][0].splice(t[8][0].indexOf(n),1),a()}}}function Be(t){let e,n,i,o,s,a,u,c,h,y,w,E,I,k,A,N,S,x,O=t[15],D=[];for(let e=0;e<O.length;e+=1)D[e]=qe($e(t,O,e));return{c(){e=g(),n=v("div"),i=v("div");for(let t=0;t<D.length;t+=1)D[t].c();o=g(),s=v("div"),a=v("div"),u=v("input"),c=g(),h=v("div"),y=v("div"),w=v("input"),E=g(),I=v("div"),k=v("div"),A=v("button"),N=m("Agregar materia"),_(i,"class","uk-margin uk-grid-small uk-child-width-auto uk-grid"),_(u,"class","uk-input"),_(u,"type","text"),_(u,"placeholder","Ingrese la materia"),_(a,"class","uk-margin"),_(w,"class","uk-input"),_(w,"type","text"),_(w,"placeholder","Ingrese el responsable"),_(y,"class","uk-margin"),_(A,"class","uk-button uk-button-primary"),A.disabled=S=!t[0],_(k,"class","uk-margin"),x=[b(u,"input",t[9]),b(w,"input",t[10]),b(A,"click",t[11])]},m(r,p){f(r,e,p),f(r,n,p),l(n,i);for(let t=0;t<D.length;t+=1)D[t].m(i,null);f(r,o,p),f(r,s,p),l(s,a),l(a,u),T(u,t[0]),f(r,c,p),f(r,h,p),l(h,y),l(y,w),T(w,t[2]),f(r,E,p),f(r,I,p),l(I,k),l(k,A),l(A,N)},p(t,e){if(32770&e){let n;for(O=t[15],n=0;n<O.length;n+=1){const r=$e(t,O,n);D[n]?D[n].p(r,e):(D[n]=qe(r),D[n].c(),D[n].m(i,null))}for(;n<D.length;n+=1)D[n].d(1);D.length=O.length}1&e&&u.value!==t[0]&&T(u,t[0]),4&e&&w.value!==t[2]&&T(w,t[2]),1&e&&S!==(S=!t[0])&&(A.disabled=S)},d(t){t&&p(e),t&&p(n),d(D,t),t&&p(o),t&&p(s),t&&p(c),t&&p(h),t&&p(E),t&&p(I),r(x)}}}function Ge(t){let e;return{c(){e=v("div"),e.innerHTML='<div uk-spinner=""></div>',_(e,"slot","loading")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function We(t){let e,n,r,i,o,s,a,u,c,h=t[23].nombre+"";function d(...e){return t[14](t[23],...e)}return{c(){e=v("dd"),n=v("div"),r=v("div"),i=m(h),o=g(),s=v("div"),a=v("button"),u=g(),_(r,"class","uk-width-expand"),_(r,"uk-leader","fill: -"),_(a,"class","uk-float-right"),_(a,"uk-tooltip","title: Eliminar materia..; pos: left"),_(a,"uk-icon","icon: trash"),_(n,"class","uk-grid-small"),_(n,"uk-grid",""),c=b(a,"click",d)},m(t,c){f(t,e,c),l(e,n),l(n,r),l(r,i),l(n,o),l(n,s),l(s,a),l(e,u)},p(e,n){t=e,2097152&n&&h!==(h=t[23].nombre+"")&&I(i,h)},d(t){t&&p(e),c()}}}function ze(t){let e;return{c(){e=v("div"),e.textContent="Unable to display comments...",_(e,"slot","fallback")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function He(t){let e,n,r,i,o,s,a,u,c=t[16].nombre+"",h=t[21],y=[];for(let e=0;e<h.length;e+=1)y[e]=We(Ue(t,h,e));return{c(){e=g(),n=v("div"),r=v("dl"),i=v("dt"),o=v("span"),s=m(c),a=g();for(let t=0;t<y.length;t+=1)y[t].c();u=g(),_(o,"class","uk-label"),_(i,"class","uk-placeholder"),_(r,"class","uk-description-list uk-description-list-divider"),_(n,"class","uk-grid-match uk-child-width-1-1@m"),_(n,"uk-grid","")},m(t,c){f(t,e,c),f(t,n,c),l(n,r),l(r,i),l(i,o),l(o,s),l(i,a);for(let t=0;t<y.length;t+=1)y[t].m(r,null);f(t,u,c)},p(t,e){if(32768&e&&c!==(c=t[16].nombre+"")&&I(s,c),2097152&e){let n;for(h=t[21],n=0;n<h.length;n+=1){const i=Ue(t,h,n);y[n]?y[n].p(i,e):(y[n]=We(i),y[n].c(),y[n].m(r,null))}for(;n<y.length;n+=1)y[n].d(1);y.length=h.length}},d(t){t&&p(e),t&&p(n),d(y,t),t&&p(u)}}}function Ke(t){let e,n;const r=new re({props:{path:t[20].collection("materias"),log:!0,$$slots:{default:[He,({data:t,ref:e})=>({21:t,22:e}),({data:t,ref:e})=>(t?2097152:0)|(e?4194304:0)],fallback:[ze,({data:t,ref:e})=>({21:t,22:e}),({data:t,ref:e})=>(t?2097152:0)|(e?4194304:0)],loading:[Ge,({data:t,ref:e})=>({21:t,22:e}),({data:t,ref:e})=>(t?2097152:0)|(e?4194304:0)]},$$scope:{ctx:t}}});return{c(){Y(r.$$.fragment),e=g()},m(t,i){X(r,t,i),f(t,e,i),n=!0},p(t,e){const n={};1048576&e&&(n.path=t[20].collection("materias")),536870912&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n)},i(t){n||(H(r.$$.fragment,t),n=!0)},o(t){K(r.$$.fragment,t),n=!1},d(t){J(r,t),t&&p(e)}}}function Ye(t){let e;const n=new Ft({props:{path:"aulas/"+t[16].id,$$slots:{default:[Ke,({data:t,ref:e})=>({19:t,20:e}),({data:t,ref:e})=>(t?524288:0)|(e?1048576:0)]},$$scope:{ctx:t}}});return{c(){Y(n.$$.fragment)},m(t,r){X(n,t,r),e=!0},p(t,e){const r={};32768&e&&(r.path="aulas/"+t[16].id),536870912&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(H(n.$$.fragment,t),e=!0)},o(t){K(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function Xe(t){let e,n,r=t[15],i=[];for(let e=0;e<r.length;e+=1)i[e]=Ye(Ve(t,r,e));const o=t=>K(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=y()},m(t,r){for(let e=0;e<i.length;e+=1)i[e].m(t,r);f(t,e,r),n=!0},p(t,n){if(32768&n){let s;for(r=t[15],s=0;s<r.length;s+=1){const o=Ve(t,r,s);i[s]?(i[s].p(o,n),H(i[s],1)):(i[s]=Ye(o),i[s].c(),H(i[s],1),i[s].m(e.parentNode,e))}for(W(),s=r.length;s<i.length;s+=1)o(s);z()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)H(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)K(i[t]);n=!1},d(t){d(i,t),t&&p(e)}}}function Je(t){let e,n,r,i,o,s,a,u,c,h,d,m,y,b;const w=new re({props:{path:"/aulas/",query:Qe,$$slots:{default:[Be,({data:t,ref:e})=>({15:t,26:e}),({data:t,ref:e})=>(t?32768:0)|(e?67108864:0)],loading:[Fe,({data:t,ref:e})=>({15:t,26:e}),({data:t,ref:e})=>(t?32768:0)|(e?67108864:0)]},$$scope:{ctx:t}}});w.$on("ref",t[12]),w.$on("data",t[13]);const E=new re({props:{path:"aulas",query:Ze,$$slots:{default:[Xe,({data:t})=>({15:t}),({data:t})=>t?32768:0]},$$scope:{ctx:t}}});return{c(){e=g(),n=v("div"),n.innerHTML='<div class="uk-container"><h1><span uk-icon="icon: copy; ratio: 3.5"></span> Materias</h1></div>',r=g(),i=v("div"),o=v("div"),s=v("div"),Y(w.$$.fragment),a=g(),u=v("div"),c=v("div"),h=v("hr"),d=g(),Y(E.$$.fragment),m=g(),y=v("div"),y.innerHTML='<div class="uk-width-1-12@m"><div class="uk-card uk-card-default uk-card-body"><a href="javascript:void(0)" uk-totop="" uk-scroll=""></a></div></div>',document.title="Materias",_(n,"class","uk-section uk-section-primary uk-text-center uk-section-xsmall"),_(s,"class","uk-grid-match uk-child-width-1-3@m"),_(s,"uk-grid",""),_(o,"class","uk-container"),_(i,"class","uk-section uk-section-muted uk-section-xsmall"),_(h,"class","uk-divider-icon"),_(c,"class","uk-container"),_(u,"class","uk-section uk-section-muted uk-section-xsmall"),_(y,"class","uk-grid-match uk-grid-small uk-text-center"),_(y,"uk-grid","")},m(t,p){f(t,e,p),f(t,n,p),f(t,r,p),f(t,i,p),l(i,o),l(o,s),X(w,s,null),f(t,a,p),f(t,u,p),l(u,c),l(c,h),l(c,d),X(E,c,null),f(t,m,p),f(t,y,p),b=!0},p(t,[e]){const n={};536870919&e&&(n.$$scope={dirty:e,ctx:t}),w.$set(n);const r={};536870912&e&&(r.$$scope={dirty:e,ctx:t}),E.$set(r)},i(t){b||(H(w.$$.fragment,t),H(E.$$.fragment,t),b=!0)},o(t){K(w.$$.fragment,t),K(E.$$.fragment,t),b=!1},d(t){t&&p(e),t&&p(n),t&&p(r),t&&p(i),J(w),t&&p(a),t&&p(u),J(E),t&&p(m),t&&p(y)}}}const Qe=t=>t.orderBy("nombre","asc"),Ze=t=>t.orderBy("nombre","asc");function tn(t,e,n){let r,i,o,s,a=[];const u=de.firestore(),c=async(t,e,c)=>{for(let h=0;h<t.aulas.length;h++){const l=t.aulas[h];i=e.txtMateria,s=c.txtResponsable,await u.collection(`aulas/${l}/materias/`).add({nombre:i,profesor:s}).then(t=>{n(0,r=""),n(1,a=""),n(2,o=""),UIkit.notification({message:"<span uk-icon='icon: check'></span> Agregado con xito.",pos:"bottom-center",status:"primary"})})}},h=[[]];return[r,a,o,c,i,s,u,function(){a=function(t){const e=[];for(let n=0;n<t.length;n+=1)t[n].checked&&e.push(t[n].__value);return e}(h[0]),n(1,a)},h,function(){r=this.value,n(0,r)},function(){o=this.value,n(2,o)},()=>{c({aulas:a},{txtMateria:r},{txtResponsable:o})},function(e){L(t,e)},function(e){L(t,e)},t=>UIkit.modal.confirm("Esta seguro que desea eliminar este registro!").then((function(){t.ref.delete().then(()=>{UIkit.notification({message:`<span uk-icon='icon: trash'></span> ${t.nombre} eliminado xitosamente.`,pos:"bottom-center",status:"primary"})})}),(function(){UIkit.notification({message:"<span uk-icon='icon: warning'></span> Operacin cancelada.",pos:"bottom-center",status:"danger"})}))]}class en extends tt{constructor(t){super(),Z(this,t,tn,Je,o,{})}}function nn(t,e,n){const r=t.slice();return r[10]=e[n],r[11]=e,r[12]=n,r}function rn(t){let e;return{c(){e=v("div"),e.innerHTML='<div uk-spinner=""></div>',_(e,"slot","loading")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function on(t){let e,n,i,o,s,a,u,c,h,d,m,y,w,E,I,k;function A(...e){return t[2](t[10],...e)}function N(...e){return t[3](t[10],...e)}function S(){t[4].call(E,t[10])}return{c(){e=v("div"),n=v("div"),i=v("a"),o=g(),s=v("div"),a=v("ul"),u=v("li"),c=v("a"),h=g(),d=v("li"),m=v("a"),y=g(),w=v("div"),E=v("input"),I=g(),_(i,"href","javascript:void(0)"),_(i,"class","uk-float-right"),_(i,"uk-icon","more-vertical"),_(c,"uk-tooltip","title: Editar;pos: left"),_(c,"href","javascript:void(0)"),_(c,"uk-icon","pencil"),_(m,"uk-tooltip","title: Eliminar;pos: left"),_(m,"href","javascript:void(0)"),_(m,"uk-icon","trash"),_(a,"class","uk-list uk-link-text"),_(s,"uk-drop","pos: bottom-justify; animation: uk-animation-slide-top-small; duration: 1000"),_(E,"class","uk-input uk-form-blank uk-form-expand"),_(E,"type","text"),_(w,"class","uk-card-footer"),_(n,"class","uk-card uk-card-hover uk-card-primary uk-card-body"),k=[b(c,"click",A),b(m,"click",N),b(E,"input",S)]},m(r,p){f(r,e,p),l(e,n),l(n,i),l(n,o),l(n,s),l(s,a),l(a,u),l(u,c),l(a,h),l(a,d),l(d,m),l(n,y),l(n,w),l(w,E),T(E,t[10].nombre),l(e,I)},p(e,n){t=e,256&n&&E.value!==t[10].nombre&&T(E,t[10].nombre)},d(t){t&&p(e),r(k)}}}function sn(t){let e;return{c(){e=v("div"),e.textContent="No data found..",_(e,"slot","fallback")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function an(t){let e,n,i,o,s,a,u,c,h,m,y,w,E,I,k,A,N=t[8],S=[];for(let e=0;e<N.length;e+=1)S[e]=on(nn(t,N,e));function x(...e){return t[6](t[9],...e)}return{c(){e=g(),n=v("div");for(let t=0;t<S.length;t+=1)S[t].c();i=g(),o=v("div"),s=v("div"),a=v("div"),u=v("button"),c=g(),h=v("div"),m=v("div"),y=v("input"),w=g(),E=v("button"),k=g(),_(n,"class","uk-child-width-1-1 uk-child-width-1-3@s uk-grid-match uk-grid-small"),_(n,"uk-grid",""),_(u,"class","uk-modal-close-outside"),_(u,"type","button"),_(u,"uk-close",""),_(y,"class","uk-input uk-form-width-large"),_(y,"type","text"),_(y,"placeholder","Agregar nuevo"),y.required=!0,_(E,"class","uk-form-icon uk-form-icon-flip"),_(E,"uk-icon","icon: check"),E.disabled=I=!t[0],_(m,"class","uk-inline"),_(h,"class","uk-margin"),_(a,"class","uk-modal-body"),_(s,"class","uk-modal-dialog"),_(o,"id","my-id"),_(o,"uk-modal",""),A=[b(y,"input",t[5]),b(E,"click",x)]},m(r,p){f(r,e,p),f(r,n,p);for(let t=0;t<S.length;t+=1)S[t].m(n,null);f(r,i,p),f(r,o,p),l(o,s),l(s,a),l(a,u),l(a,c),l(a,h),l(h,m),l(m,y),T(y,t[0]),l(m,w),l(m,E),f(r,k,p)},p(e,r){if(t=e,256&r){let e;for(N=t[8],e=0;e<N.length;e+=1){const i=nn(t,N,e);S[e]?S[e].p(i,r):(S[e]=on(i),S[e].c(),S[e].m(n,null))}for(;e<S.length;e+=1)S[e].d(1);S.length=N.length}1&r&&y.value!==t[0]&&T(y,t[0]),1&r&&I!==(I=!t[0])&&(E.disabled=I)},d(t){t&&p(e),t&&p(n),d(S,t),t&&p(i),t&&p(o),t&&p(k),r(A)}}}function un(t){let e,n,r,i,o,s,a,u;const c=new re({props:{path:"aulas",query:cn,$$slots:{default:[an,({data:t,ref:e})=>({8:t,9:e}),({data:t,ref:e})=>(t?256:0)|(e?512:0)],fallback:[sn,({data:t,ref:e})=>({8:t,9:e}),({data:t,ref:e})=>(t?256:0)|(e?512:0)],loading:[rn,({data:t,ref:e})=>({8:t,9:e}),({data:t,ref:e})=>(t?256:0)|(e?512:0)]},$$scope:{ctx:t}}});return c.$on("ref",t[7]),{c(){e=g(),n=v("div"),n.innerHTML='<div class="uk-container"><h1><span uk-icon="icon: album; ratio: 3.5"></span> Seccin </h1></div>',r=g(),i=v("div"),o=v("div"),s=v("div"),s.innerHTML='<a href="javascript:void(0)" uk-toggle="target: #my-id" uk-icon="icon: plus; ratio: 2"></a>',a=g(),Y(c.$$.fragment),document.title="Seccin",_(n,"class","uk-section uk-section-primary uk-text-center uk-section-xsmall"),_(s,"class","btn-flotante"),_(o,"class","uk-container"),_(i,"class","uk-section uk-section-muted")},m(t,h){f(t,e,h),f(t,n,h),f(t,r,h),f(t,i,h),l(i,o),l(o,s),l(o,a),X(c,o,null),u=!0},p(t,[e]){const n={};8193&e&&(n.$$scope={dirty:e,ctx:t}),c.$set(n)},i(t){u||(H(c.$$.fragment,t),u=!0)},o(t){K(c.$$.fragment,t),u=!1},d(t){t&&p(e),t&&p(n),t&&p(r),t&&p(i),J(c)}}}const cn=t=>t.orderBy("nombre","asc");function hn(t,e,n){let r;return[r,void 0,t=>{t.ref.update({nombre:""+t.nombre,updatedAt:(new Date).getTime()}).then(t=>{UIkit.notification({message:"<span uk-icon='icon: pencil'></span> Registro actualizado con xito.",pos:"bottom-center",status:"primary"})})},t=>{UIkit.modal.confirm("Esta seguro que desea eliminar este registro!").then((function(){t.ref.delete().then(()=>{UIkit.notification({message:`<span uk-icon='icon: trash'></span> ${t.nombre} eliminado xitosamente.`,pos:"bottom-center",status:"primary"})})}),(function(){UIkit.notification({message:"<span uk-icon='icon: warning'></span> Operacin cancelada.",pos:"bottom-center",status:"danger"})}))},function(t){t.nombre=this.value,n(8,data)},function(){r=this.value,n(0,r)},t=>{t.add({nombre:""+r,createdAt:(new Date).getTime()}).then(t=>{UIkit.modal("#my-id").hide().then(()=>{UIkit.notification({message:"<span uk-icon='icon: check'></span> Agregado con xito.",pos:"bottom-center",status:"primary"}),n(0,r="")})})},function(e){L(t,e)}]}class ln extends tt{constructor(t){super(),Z(this,t,hn,un,o,{})}}function fn(e){let n,r,i,o;return{c(){n=g(),r=v("div"),r.innerHTML='<div class="uk-container"><div class="uk-grid-match uk-child-width-1-1@m" uk-grid=""><div></div> \n            <div><div class="uk-card uk-card-primary uk-width-1-1@m"><div class="uk-card-header"><div class="uk-grid-small uk-flex-middle" uk-grid=""><div class="uk-width-auto"><span uk-icon="icon: file-edit; ratio: 3.5"></span></div> \n                            <div class="uk-width-expand"><h3 class="uk-card-title uk-margin-remove-bottom">NOTAS</h3> \n                                <p></p></div></div></div> \n                    <div class="uk-card-body"><p>( Eclesiasts 1 )</p> \n                        <ol type="i"><li>Palabras del Predicador, hijo de David, rey en Jerusaln.</li> \n\n                        <li>Vanidad de vanidades, dijo el Predicador; vanidad de vanidades, todo es vanidad.</li> \n\n                        <li>Qu provecho tiene el hombre de todo su trabajo con que se afana debajo del sol?</li> \n\n                        <li>Generacin va, y generacin viene; mas la tierra siempre permanece.</li>  \n\n                        <li>Sale el sol, y se pone el sol, y se apresura a volver al lugar de donde se levanta.</li> \n\n                        <li>El viento tira hacia el sur, y rodea al norte; va girando de continuo, y a sus giros vuelve el viento de nuevo.</li> \n\n                        <li>Los ros todos van al mar, y el mar no se llena; al lugar de donde los ros vinieron, all vuelven para correr de nuevo.</li> \n\n                        <li>Todas las cosas son fatigosas ms de lo que el hombre puede expresar; nunca se sacia el ojo de ver, ni el odo de or.</li> \n\n                        <li>Qu es lo que fue? Lo mismo que ser. Qu es lo que ha sido hecho? Lo mismo que se har; y nada hay nuevo debajo del sol.</li> \n\n                        <li>Hay algo de que se puede decir: He aqu esto es nuevo? Ya fue en los siglos que nos han precedido.</li> \n\n                        <li>No hay memoria de lo que precedi, ni tampoco de lo que suceder habr memoria en los que sern despus.</li></ol></div> \n                    <div class="uk-card-footer"></div></div></div> \n            <div></div></div></div>',i=g(),o=v("hr"),document.title="Home",_(r,"class","uk-section uk-section-muted"),_(o,"class","uk-divider-icon")},m(t,e){f(t,n,e),f(t,r,e),f(t,i,e),f(t,o,e)},p:t,i:t,o:t,d(t){t&&p(n),t&&p(r),t&&p(i),t&&p(o)}}}class pn extends tt{constructor(t){super(),Z(this,t,null,fn,o,{})}}function dn(t,e,n){const r=t.slice();return r[13]=e[n],r}function vn(t){let e;return{c(){e=v("div"),e.innerHTML='<div uk-spinner=""></div>',_(e,"slot","loading")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function mn(t){let e;return{c(){e=v("div"),e.innerHTML='<div uk-spinner=""></div>',_(e,"slot","loading")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function gn(t){let e,n,r,i,o,s,a,u,c,h,d,y,w,E,T,k=new Date(t[13].created).toLocaleString("es-ar",{year:"numeric",month:"2-digit",day:"2-digit"})+"",A=t[13].trimestre+"",N=t[13].nota+"";function S(...e){return t[6](t[13],...e)}return{c(){e=v("tr"),n=v("td"),r=m(k),i=g(),o=v("td"),s=m(A),a=m(" Trimestre"),u=g(),c=v("td"),h=m(N),d=g(),y=v("td"),w=v("button"),E=g(),_(w,"uk-icon","icon: close"),_(w,"uk-tooltip","Eliminar.."),T=b(w,"click",S)},m(t,p){f(t,e,p),l(e,n),l(n,r),l(e,i),l(e,o),l(o,s),l(o,a),l(e,u),l(e,c),l(c,h),l(e,d),l(e,y),l(y,w),l(e,E)},p(e,n){t=e,2048&n&&k!==(k=new Date(t[13].created).toLocaleString("es-ar",{year:"numeric",month:"2-digit",day:"2-digit"})+"")&&I(r,k),2048&n&&A!==(A=t[13].trimestre+"")&&I(s,A),2048&n&&N!==(N=t[13].nota+"")&&I(h,N)},d(t){t&&p(e),T()}}}function yn(t){let e,n,r,i,o,s,a,u,c=t[11],h=[];for(let e=0;e<c.length;e+=1)h[e]=gn(dn(t,c,e));return{c(){e=g(),n=v("div"),r=v("table"),i=v("caption"),o=g(),s=v("thead"),s.innerHTML="<tr><th>Fecha</th> \n              <th>Trimestre</th> \n              <th>Nota</th> \n              <th>Op</th></tr>",a=g(),u=v("tbody");for(let t=0;t<h.length;t+=1)h[t].c();_(r,"class","uk-table uk-table-striped uk-table-condensed uk-text-nowrap"),_(n,"class","uk-overflow-auto")},m(t,c){f(t,e,c),f(t,n,c),l(n,r),l(r,i),l(r,o),l(r,s),l(r,a),l(r,u);for(let t=0;t<h.length;t+=1)h[t].m(u,null)},p(t,e){if(2048&e){let n;for(c=t[11],n=0;n<c.length;n+=1){const r=dn(t,c,n);h[n]?h[n].p(r,e):(h[n]=gn(r),h[n].c(),h[n].m(u,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=c.length}},d(t){t&&p(e),t&&p(n),d(h,t)}}}function bn(t){let e,n;const r=new re({props:{path:t[10].collection("notas"),query:t[5],log:!0,$$slots:{default:[yn,({data:t,ref:e})=>({11:t,12:e}),({data:t,ref:e})=>(t?2048:0)|(e?4096:0)],loading:[mn,({data:t,ref:e})=>({11:t,12:e}),({data:t,ref:e})=>(t?2048:0)|(e?4096:0)]},$$scope:{ctx:t}}});return r.$on("data",t[7]),r.$on("ref",t[8]),{c(){e=g(),Y(r.$$.fragment)},m(t,i){f(t,e,i),X(r,t,i),n=!0},p(t,e){const n={};1024&e&&(n.path=t[10].collection("notas")),2&e&&(n.query=t[5]),65536&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n)},i(t){n||(H(r.$$.fragment,t),n=!0)},o(t){K(r.$$.fragment,t),n=!1},d(t){t&&p(e),J(r,t)}}}function wn(t){let e;const n=new Ft({props:{path:"alumnos/"+t[0],$$slots:{default:[bn,({data:t,ref:e})=>({9:t,10:e}),({data:t,ref:e})=>(t?512:0)|(e?1024:0)],loading:[vn,({data:t,ref:e})=>({9:t,10:e}),({data:t,ref:e})=>(t?512:0)|(e?1024:0)]},$$scope:{ctx:t}}});return{c(){Y(n.$$.fragment)},m(t,r){X(n,t,r),e=!0},p(t,[e]){const r={};1&e&&(r.path="alumnos/"+t[0]),65538&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(H(n.$$.fragment,t),e=!0)},o(t){K(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function _n(t,e,n){const r=de.firestore();let{alumno:i}=e,{materia:o}=e;var s=new Date,a=s.getFullYear();return t.$set=t=>{"alumno"in t&&n(0,i=t.alumno),"materia"in t&&n(1,o=t.materia)},[i,o,a,r,s,t=>t.where("materia","==",""+o).where("cicloLectivo","==",a).orderBy("trimestre","asc"),t=>t.ref.delete().then(t=>{UIkit.notification({message:"<span uk-icon='icon: check'></span> Nota eliminada con xito.",pos:"top-center",status:"danger"})}),function(e){L(t,e)},function(e){L(t,e)}]}class En extends tt{constructor(t){super(),Z(this,t,_n,wn,o,{alumno:0,materia:1})}}function In(t,e,n){const r=t.slice();return r[6]=e[n],r}function Tn(t,e,n){const r=t.slice();return r[7]=e[n],r}function kn(t,e,n){const r=t.slice();return r[46]=e[n],r}function An(t){let e;return{c(){e=v("div"),e.innerHTML='<div uk-spinner=""></div>',_(e,"slot","loading")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function Nn(t){let e,n,r,i=t[46].nombre+"";return{c(){e=v("option"),n=m(i),e.__value=r=t[46].id,e.value=e.__value},m(t,r){f(t,e,r),l(e,n)},p(t,o){2048&o[0]&&i!==(i=t[46].nombre+"")&&I(n,i),2048&o[0]&&r!==(r=t[46].id)&&(e.__value=r),e.value=e.__value},d(t){t&&p(e)}}}function Sn(t){let e;return{c(){e=v("div"),e.innerHTML='<div uk-spinner=""></div>',_(e,"slot","loading")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function xn(t){let e,n,r,i=t[7].nombre+"";return{c(){e=v("option"),n=m(i),e.__value=r=t[7].id,e.value=e.__value},m(t,r){f(t,e,r),l(e,n)},p(t,o){1024&o[0]&&i!==(i=t[7].nombre+"")&&I(n,i),1024&o[0]&&r!==(r=t[7].id)&&(e.__value=r),e.value=e.__value},d(t){t&&p(e)}}}function On(t){let e,n,r=t[42]+"";return{c(){e=v("div"),n=m(r),_(e,"slot","fallback")},m(t,r){f(t,e,r),l(e,n)},p(t,e){2048&e[1]&&r!==(r=t[42]+"")&&I(n,r)},d(t){t&&p(e)}}}function Dn(t){let e,n,i,o,s,a=t[10],u=[];for(let e=0;e<a.length;e+=1)u[e]=xn(Tn(t,a,e));return{c(){e=g(),n=v("div"),i=v("select");for(let t=0;t<u.length;t+=1)u[t].c();o=g(),_(i,"class","uk-select"),void 0===t[7]&&$(()=>t[23].call(i)),_(n,"class","uk-width-1-1"),s=[b(i,"change",t[23]),b(i,"change",t[24])]},m(r,s){f(r,e,s),f(r,n,s),l(n,i);for(let t=0;t<u.length;t+=1)u[t].m(i,null);k(i,t[7]),f(r,o,s)},p(t,e){if(1024&e[0]){let n;for(a=t[10],n=0;n<a.length;n+=1){const r=Tn(t,a,n);u[n]?u[n].p(r,e):(u[n]=xn(r),u[n].c(),u[n].m(i,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=a.length}128&e[0]&&k(i,t[7])},d(t){t&&p(e),t&&p(n),d(u,t),t&&p(o),r(s)}}}function Cn(t){let e;const n=new re({props:{path:t[41].collection("materias"),log:!0,$$slots:{default:[Dn,({data:t,ref:e})=>({10:t,43:e}),({data:t,ref:e})=>[t?1024:0,e?4096:0]],fallback:[On,({data:t,ref:e})=>({10:t,43:e}),({data:t,ref:e})=>[t?1024:0,e?4096:0]],loading:[Sn,({data:t,ref:e})=>({10:t,43:e}),({data:t,ref:e})=>[t?1024:0,e?4096:0]]},$$scope:{ctx:t}}});return{c(){Y(n.$$.fragment)},m(t,r){X(n,t,r),e=!0},p(t,e){const r={};1024&e[1]&&(r.path=t[41].collection("materias")),130&e[0]|262144&e[1]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(H(n.$$.fragment,t),e=!0)},o(t){K(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function Ln(t){let e;return{c(){e=v("div"),e.innerHTML='<div uk-spinner=""></div>',_(e,"slot","loading")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function Pn(t){let e,n,r,i=t[6].nombre+"";return{c(){e=v("option"),n=m(i),e.__value=r=t[6].id,e.value=e.__value},m(t,r){f(t,e,r),l(e,n)},p(t,o){512&o[0]&&i!==(i=t[6].nombre+"")&&I(n,i),512&o[0]&&r!==(r=t[6].id)&&(e.__value=r),e.value=e.__value},d(t){t&&p(e)}}}function Rn(t){let e,n,i,o,s=t[9],a=[];for(let e=0;e<s.length;e+=1)a[e]=Pn(In(t,s,e));return{c(){e=g(),n=v("div"),i=v("select");for(let t=0;t<a.length;t+=1)a[t].c();_(i,"class","uk-select"),void 0===t[6]&&$(()=>t[26].call(i)),_(n,"class","uk-width-1-1"),o=[b(i,"change",t[26]),b(i,"change",t[27])]},m(r,o){f(r,e,o),f(r,n,o),l(n,i);for(let t=0;t<a.length;t+=1)a[t].m(i,null);k(i,t[6])},p(t,e){if(512&e[0]){let n;for(s=t[9],n=0;n<s.length;n+=1){const r=In(t,s,n);a[n]?a[n].p(r,e):(a[n]=Pn(r),a[n].c(),a[n].m(i,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}64&e[0]&&k(i,t[6])},d(t){t&&p(e),t&&p(n),d(a,t),r(o)}}}function Mn(t){let e,n,i,o,s,a,u,c=t[11],h=[];for(let e=0;e<c.length;e+=1)h[e]=Nn(kn(t,c,e));const m=new Ft({props:{path:"aulas/"+t[4],$$slots:{default:[Cn,({data:t,ref:e,error:n})=>({40:t,41:e,42:n}),({data:t,ref:e,error:n})=>[0,(t?512:0)|(e?1024:0)|(n?2048:0)]]},$$scope:{ctx:t}}}),y=new re({props:{path:"alumnos",query:t[25],$$slots:{default:[Rn,({data:t,ref:e})=>({9:t,37:e}),({data:t,ref:e})=>[t?512:0,e?64:0]],loading:[Ln,({data:t,ref:e})=>({9:t,37:e}),({data:t,ref:e})=>[t?512:0,e?64:0]]},$$scope:{ctx:t}}});return y.$on("data",(function(){t[28].apply(this,arguments)})),{c(){e=g(),n=v("div"),i=v("select");for(let t=0;t<h.length;t+=1)h[t].c();o=g(),Y(m.$$.fragment),s=g(),Y(y.$$.fragment),_(i,"class","uk-select"),void 0===t[4]&&$(()=>t[21].call(i)),_(n,"class","uk-width-1-1"),u=[b(i,"change",t[21]),b(i,"change",t[22])]},m(r,u){f(r,e,u),f(r,n,u),l(n,i);for(let t=0;t<h.length;t+=1)h[t].m(i,null);k(i,t[4]),f(r,o,u),X(m,r,u),f(r,s,u),X(y,r,u),a=!0},p(e,n){if(t=e,2048&n[0]){let e;for(c=t[11],e=0;e<c.length;e+=1){const r=kn(t,c,e);h[e]?h[e].p(r,n):(h[e]=Nn(r),h[e].c(),h[e].m(i,null))}for(;e<h.length;e+=1)h[e].d(1);h.length=c.length}16&n[0]&&k(i,t[4]);const r={};16&n[0]&&(r.path="aulas/"+t[4]),130&n[0]|262144&n[1]&&(r.$$scope={dirty:n,ctx:t}),m.$set(r);const o={};16&n[0]&&(o.query=t[25]),65&n[0]|262144&n[1]&&(o.$$scope={dirty:n,ctx:t}),y.$set(o)},i(t){a||(H(m.$$.fragment,t),H(y.$$.fragment,t),a=!0)},o(t){K(m.$$.fragment,t),K(y.$$.fragment,t),a=!1},d(t){t&&p(e),t&&p(n),d(h,t),t&&p(o),J(m,t),t&&p(s),J(y,t),r(u)}}}function jn(t){let e,n,r,i,o,s;function a(...e){return t[32](t[34],...e)}return{c(){e=v("div"),n=v("form"),r=v("button"),i=m("Agregar Nota"),_(r,"class","uk-button uk-button-primary uk-button-large uk-width-1-1"),r.disabled=o=!t[2],_(e,"class","uk-width-1-1"),s=b(n,"submit",w(a))},m(t,o){f(t,e,o),l(e,n),l(n,r),l(r,i)},p(e,n){t=e,4&n[0]&&o!==(o=!t[2])&&(r.disabled=o)},d(t){t&&p(e),s()}}}function Un(t){let e,n,i,o,s,a,u,c,h,d,y,w,E,I,k,A,N,S,x,O,D,C,L,P,R,M,j,U,V,$,F,q,B,G,W,z,Q,Z,tt,et,nt,rt,it,ot=!1;const st=new re({props:{path:"aulas",query:Vn,log:!0,$$slots:{default:[Mn,({data:t,ref:e})=>({11:t,36:e}),({data:t,ref:e})=>[t?2048:0,e?32:0]],loading:[An,({data:t,ref:e})=>({11:t,36:e}),({data:t,ref:e})=>[t?2048:0,e?32:0]]},$$scope:{ctx:t}}});function at(){ot=!0,t[30].call(q)}st.$on("data",(function(){t[29].apply(this,arguments)}));const ut=new _t({props:{persist:sessionStorage,$$slots:{default:[jn,({user:t,auth:e})=>({34:t,35:e}),({user:t,auth:e})=>[0,(t?8:0)|(e?16:0)]]},$$scope:{ctx:t}}});ut.$on("user",t[33]);const ct=new En({props:{alumno:t[6],materia:t[7]}});return{c(){e=g(),n=v("div"),n.innerHTML='<div class="uk-container"><h1><span uk-icon="icon: file-text; ratio: 3.5"></span> Notas</h1></div>',i=g(),o=v("div"),s=v("div"),a=v("div"),u=v("div"),c=v("div"),h=v("div"),d=g(),y=v("div"),w=v("div"),E=v("div"),I=v("label"),k=v("input"),N=m(" 1 Trimestre"),S=g(),x=v("label"),O=v("input"),C=m(" 2 Trimestre"),L=g(),P=v("label"),R=v("input"),j=m(" 3 Trimestre"),U=g(),Y(st.$$.fragment),V=g(),$=v("div"),F=v("div"),q=v("input"),B=g(),G=v("div"),W=v("input"),z=g(),Y(ut.$$.fragment),Q=g(),Z=v("div"),tt=v("div"),et=v("div"),nt=g(),Y(ct.$$.fragment),document.title="Notas",_(n,"class","uk-section uk-section-primary uk-text-center uk-section-xsmall"),_(h,"class","uk-card-title"),k.__value=A=1,k.value=k.__value,_(k,"class","uk-radio"),_(k,"type","radio"),t[18][0].push(k),O.__value=D=2,O.value=O.__value,_(O,"class","uk-radio"),_(O,"type","radio"),t[18][0].push(O),R.__value=M=3,R.value=R.__value,_(R,"class","uk-radio"),_(R,"type","radio"),t[18][0].push(R),_(E,"class","uk-margin uk-grid-small uk-child-width-auto uk-grid"),_(w,"class","uk-width-1-1"),_(q,"class","uk-input"),_(q,"type","number"),_(q,"min","0"),_(q,"max","10"),_(q,"placeholder","Nota"),_(F,"class","uk-margin"),_(W,"class","uk-range"),_(W,"type","range"),_(W,"min","0"),_(W,"max","10"),_(W,"step","0.5"),_(G,"class","uk-margin"),_($,"class","uk-width-1-1"),_(y,"uk-grid",""),_(c,"class","uk-card uk-card-default uk-card-large uk-card-body"),_(et,"class","uk-card-title"),_(tt,"class","uk-card uk-card-default uk-card-large uk-card-body"),_(a,"class","uk-child-width-1-2@s"),_(a,"uk-grid",""),_(s,"class","uk-container"),_(o,"class","uk-section uk-section-muted"),it=[b(k,"change",t[17]),b(O,"change",t[19]),b(R,"change",t[20]),b(q,"input",at),b(W,"change",t[31]),b(W,"input",t[31])]},m(r,p){f(r,e,p),f(r,n,p),f(r,i,p),f(r,o,p),l(o,s),l(s,a),l(a,u),l(u,c),l(c,h),l(c,d),l(c,y),l(y,w),l(w,E),l(E,I),l(I,k),k.checked=k.__value===t[3],l(I,N),l(E,S),l(E,x),l(x,O),O.checked=O.__value===t[3],l(x,C),l(E,L),l(E,P),l(P,R),R.checked=R.__value===t[3],l(P,j),l(y,U),X(st,y,null),l(y,V),l(y,$),l($,F),l(F,q),T(q,t[2]),l($,B),l($,G),l(G,W),T(W,t[2]),l(y,z),X(ut,y,null),l(a,Q),l(a,Z),l(Z,tt),l(tt,et),l(tt,nt),X(ct,tt,null),rt=!0},p(e,n){t=e,8&n[0]&&(k.checked=k.__value===t[3]),8&n[0]&&(O.checked=O.__value===t[3]),8&n[0]&&(R.checked=R.__value===t[3]);const r={};243&n[0]|262144&n[1]&&(r.$$scope={dirty:n,ctx:t}),st.$set(r),!ot&&4&n[0]&&T(q,t[2]),ot=!1,4&n[0]&&T(W,t[2]);const i={};204&n[0]|262144&n[1]&&(i.$$scope={dirty:n,ctx:t}),ut.$set(i);const o={};64&n[0]&&(o.alumno=t[6]),128&n[0]&&(o.materia=t[7]),ct.$set(o)},i(t){rt||(H(st.$$.fragment,t),H(ut.$$.fragment,t),H(ct.$$.fragment,t),rt=!0)},o(t){K(st.$$.fragment,t),K(ut.$$.fragment,t),K(ct.$$.fragment,t),rt=!1},d(s){s&&p(e),s&&p(n),s&&p(i),s&&p(o),t[18][0].splice(t[18][0].indexOf(k),1),t[18][0].splice(t[18][0].indexOf(O),1),t[18][0].splice(t[18][0].indexOf(R),1),J(st),J(ut),J(ct),r(it)}}}const Vn=t=>t.orderBy("nombre","asc");function $n(t,e,n){var r=de.firestore();let i,o,s=[],a=[],u=0,c=1,h=[],l="",f=[];var p=new Date,d=p.getFullYear();const v=async(t,e,i,o)=>{(await r.collection(`alumnos/${t}/notas/`).where("cicloLectivo","==",d).where("materia","==",i).where("trimestre","==",o)).get().then(s=>{s.forEach(t=>{console.log("Found subcollection with id:",t.id),UIkit.notification({message:"<span uk-icon='icon: warning'></span>  Error! Nota almacenada",status:"danger"})}),s.empty&&r.collection(`alumnos/${t}/notas/`).add({cicloLectivo:(new Date).getFullYear(),trimestre:o,aula:h,materia:i,nota:u,user:e,created:(new Date).getTime()}).then(t=>{n(2,u=0),UIkit.notification({message:"<span uk-icon='icon: check'></span> Nota agregada con xito.",pos:"top-center",status:"primary"})})})};return[s,a,u,c,h,l,i,o,v,void 0,void 0,f,r,void 0,void 0,p,d,function(){c=this.__value,n(3,c)},[[]],function(){c=this.__value,n(3,c)},function(){c=this.__value,n(3,c)},function(){h=A(this),n(4,h),n(11,f)},()=>n(5,l=""),function(){o=A(this),n(7,o),n(10,void 0)},()=>n(1,a=""),t=>t.where("clase","==",""+h).orderBy("nombre","asc"),function(){i=A(this),n(6,i),n(9,void 0)},()=>n(0,s=""),t=>n(6,i=t.detail.data),t=>n(4,h=t.detail.data[0].id),function(){u=E(this.value),n(2,u)},function(){u=E(this.value),n(2,u)},t=>{v(i,t.uid,o,c)},function(e){L(t,e)}]}class Fn extends tt{constructor(t){super(),Z(this,t,$n,Un,o,{},[-1,-1])}}function qn(t,e,n){const r=t.slice();return r[19]=e[n],r[25]=n,r}function Bn(t,e,n){const r=t.slice();return r[19]=e[n],r}function Gn(t,e,n){const r=t.slice();return r[27]=e[n],r}function Wn(t,e,n){const r=t.slice();return r[30]=e[n],r}function zn(t){let e;return{c(){e=v("div"),e.innerHTML='<div uk-spinner=""></div>',_(e,"slot","loading")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function Hn(t){let e,n,r,i=t[30].nombre+"";return{c(){e=v("option"),n=m(i),e.__value=r=t[30].id,e.value=e.__value},m(t,r){f(t,e,r),l(e,n)},p(t,o){8&o[0]&&i!==(i=t[30].nombre+"")&&I(n,i),8&o[0]&&r!==(r=t[30].id)&&(e.__value=r),e.value=e.__value},d(t){t&&p(e)}}}function Kn(t){let e;return{c(){e=v("div"),e.innerHTML='<div uk-spinner=""></div>',_(e,"slot","loading")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function Yn(t){let e,n,r,i=t[27].nombre+"";return{c(){e=v("option"),n=m(i),e.__value=r=t[27].id,e.value=e.__value},m(t,r){f(t,e,r),l(e,n)},p(t,o){16&o[0]&&i!==(i=t[27].nombre+"")&&I(n,i),16&o[0]&&r!==(r=t[27].id)&&(e.__value=r),e.value=e.__value},d(t){t&&p(e)}}}function Xn(t){let e,n,i,o,s,a=t[4],u=[];for(let e=0;e<a.length;e+=1)u[e]=Yn(Gn(t,a,e));return{c(){e=g(),n=v("div"),i=v("select"),o=v("option"),o.textContent="Seleccionar materia...";for(let t=0;t<u.length;t+=1)u[t].c();o.__value="Seleccionar materia...",o.value=o.__value,_(i,"class","uk-select"),void 0===t[1]&&$(()=>t[10].call(i)),_(n,"class","uk-width-1-1"),s=[b(i,"change",t[10]),b(i,"change",hr)]},m(r,s){f(r,e,s),f(r,n,s),l(n,i),l(i,o);for(let t=0;t<u.length;t+=1)u[t].m(i,null);k(i,t[1])},p(t,e){if(16&e[0]){let n;for(a=t[4],n=0;n<a.length;n+=1){const r=Gn(t,a,n);u[n]?u[n].p(r,e):(u[n]=Yn(r),u[n].c(),u[n].m(i,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=a.length}2&e[0]&&k(i,t[1])},d(t){t&&p(e),t&&p(n),d(u,t),r(s)}}}function Jn(t){let e;const n=new re({props:{path:t[16].collection("materias"),log:!0,$$slots:{default:[Xn,({data:t,ref:e})=>({4:t,26:e}),({data:t,ref:e})=>[(t?16:0)|(e?67108864:0)]],loading:[Kn,({data:t,ref:e})=>({4:t,26:e}),({data:t,ref:e})=>[(t?16:0)|(e?67108864:0)]]},$$scope:{ctx:t}}});return{c(){Y(n.$$.fragment)},m(t,r){X(n,t,r),e=!0},p(t,e){const r={};65536&e[0]&&(r.path=t[16].collection("materias")),2&e[0]|4&e[1]&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(H(n.$$.fragment,t),e=!0)},o(t){K(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function Qn(t){let e,n,i,o,s,a,u,c,h,m,y,w,E=t[3],I=[];for(let e=0;e<E.length;e+=1)I[e]=Hn(Wn(t,E,e));const T=new Ft({props:{path:"aulas/"+t[0],$$slots:{default:[Jn,({data:t,ref:e})=>({15:t,16:e}),({data:t,ref:e})=>[(t?32768:0)|(e?65536:0)]]},$$scope:{ctx:t}}});return{c(){e=g(),n=v("div"),i=v("select");for(let t=0;t<I.length;t+=1)I[t].c();o=g(),s=v("div"),Y(T.$$.fragment),a=g(),u=v("div"),c=v("button"),h=g(),m=v("button"),_(i,"class","uk-select"),void 0===t[0]&&$(()=>t[9].call(i)),_(c,"uk-icon","file-pdf"),_(c,"uk-tooltip","title: Descargar PDF; pos: bottom"),_(m,"uk-tooltip","title: Promedio; pos: bottom"),_(m,"uk-icon","icon: info"),w=[b(i,"change",t[9]),b(c,"click",t[11]),b(m,"click",Ee)]},m(r,p){f(r,e,p),f(r,n,p),l(n,i);for(let t=0;t<I.length;t+=1)I[t].m(i,null);k(i,t[0]),f(r,o,p),f(r,s,p),X(T,s,null),f(r,a,p),f(r,u,p),l(u,c),l(u,h),l(u,m),y=!0},p(t,e){if(8&e[0]){let n;for(E=t[3],n=0;n<E.length;n+=1){const r=Wn(t,E,n);I[n]?I[n].p(r,e):(I[n]=Hn(r),I[n].c(),I[n].m(i,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=E.length}1&e[0]&&k(i,t[0]);const n={};1&e[0]&&(n.path="aulas/"+t[0]),2&e[0]|4&e[1]&&(n.$$scope={dirty:e,ctx:t}),T.$set(n)},i(t){y||(H(T.$$.fragment,t),y=!0)},o(t){K(T.$$.fragment,t),y=!1},d(t){t&&p(e),t&&p(n),d(I,t),t&&p(o),t&&p(s),J(T),t&&p(a),t&&p(u),r(w)}}}function Zn(t){let e;return{c(){e=v("div"),e.innerHTML='<div uk-spinner=""></div>',_(e,"slot","loading")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function tr(t){let e;return{c(){e=v("div"),e.innerHTML='<div uk-spinner=""></div>',_(e,"slot","loading")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function er(t){let e,n,r,i=t[17].nombre+"";return{c(){e=v("caption"),n=m(i),r=g()},m(t,i){f(t,e,i),l(e,n),f(t,r,i)},p(t,e){131072&e[0]&&i!==(i=t[17].nombre+"")&&I(n,i)},d(t){t&&p(e),t&&p(r)}}}function nr(t){let e;return{c(){e=v("div"),e.innerHTML='<div uk-spinner=""></div>',_(e,"slot","loading")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function rr(t){let e,n,r=t[19].nota+"";return{c(){e=v("td"),n=m(r)},m(t,r){f(t,e,r),l(e,n)},p(t,e){4194304&e[0]&&r!==(r=t[19].nota+"")&&I(n,r)},d(t){t&&p(e)}}}function ir(t){let e,n,r=t[22],i=[];for(let e=0;e<r.length;e+=1)i[e]=rr(qn(t,r,e));return{c(){e=g();for(let t=0;t<i.length;t+=1)i[t].c();n=y()},m(t,r){f(t,e,r);for(let e=0;e<i.length;e+=1)i[e].m(t,r);f(t,n,r)},p(t,e){if(4194304&e[0]){let o;for(r=t[22],o=0;o<r.length;o+=1){const s=qn(t,r,o);i[o]?i[o].p(s,e):(i[o]=rr(s),i[o].c(),i[o].m(n.parentNode,n))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},d(t){t&&p(e),d(i,t),t&&p(n)}}}function or(t){let e,n,r,i,o,s,a,u,c=t[19].nombre+"";function h(...e){return t[14](t[19],...e)}const d=new re({props:{path:`alumnos/${t[19].id}/notas`,query:h,$$slots:{default:[ir,({data:t,ref:e})=>({22:t,23:e}),({data:t,ref:e})=>[(t?4194304:0)|(e?8388608:0)]],loading:[nr,({data:t,ref:e})=>({22:t,23:e}),({data:t,ref:e})=>[(t?4194304:0)|(e?8388608:0)]]},$$scope:{ctx:t}}});return{c(){e=v("tr"),n=v("td"),r=m(c),i=g(),Y(d.$$.fragment),o=g(),s=v("td"),s.innerHTML='<span class="uk-label"></span>',a=g(),_(n,"class","uk-align-left")},m(t,c){f(t,e,c),l(e,n),l(n,r),l(e,i),X(d,e,null),l(e,o),l(e,s),l(e,a),u=!0},p(e,n){t=e,(!u||32768&n[0])&&c!==(c=t[19].nombre+"")&&I(r,c);const i={};32768&n[0]&&(i.path=`alumnos/${t[19].id}/notas`),32770&n[0]&&(i.query=h),4&n[1]&&(i.$$scope={dirty:n,ctx:t}),d.$set(i)},i(t){u||(H(d.$$.fragment,t),u=!0)},o(t){K(d.$$.fragment,t),u=!1},d(t){t&&p(e),J(d)}}}function sr(t){let e;return{c(){e=v("div"),e.innerHTML='<div uk-spinner=""></div>',_(e,"slot","loading")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function ar(t){let e,n,r,i,o,s,a,u,c,h,d,y,b,w=t[17].nombre+"",E=t[17].profesor+"";return{c(){e=g(),n=v("tr"),r=v("th"),r.textContent="Ciclo Lectivo: "+(new Date).getFullYear(),i=g(),o=v("tr"),s=v("th"),a=m("Asignatura: "),u=m(w),c=g(),h=v("tr"),d=v("th"),y=m("Docente: "),b=m(E),_(r,"class","uk-width-*"),_(r,"colspan","5"),_(s,"class","uk-width-*"),_(s,"colspan","5"),_(d,"class","uk-width-*"),_(d,"colspan","5")},m(t,p){f(t,e,p),f(t,n,p),l(n,r),f(t,i,p),f(t,o,p),l(o,s),l(s,a),l(s,u),f(t,c,p),f(t,h,p),l(h,d),l(d,y),l(d,b)},p(t,e){131072&e[0]&&w!==(w=t[17].nombre+"")&&I(u,w),131072&e[0]&&E!==(E=t[17].profesor+"")&&I(b,E)},d(t){t&&p(e),t&&p(n),t&&p(i),t&&p(o),t&&p(c),t&&p(h)}}}function ur(t){let e,n,r,i,o,s,a,u,c,h;const m=new Ft({props:{path:`aulas/${t[0]}/materias/${t[1]}`,$$slots:{default:[er,({data:t})=>({17:t}),({data:t})=>[t?131072:0]],loading:[tr,({data:t})=>({17:t}),({data:t})=>[t?131072:0]]},$$scope:{ctx:t}}});let y=t[15],b=[];for(let e=0;e<y.length;e+=1)b[e]=or(Bn(t,y,e));const w=t=>K(b[t],1,1,()=>{b[t]=null}),E=new Ft({props:{path:`aulas/${t[0]}/materias/${t[1]}`,log:!0,$$slots:{default:[ar,({data:t,ref:e})=>({17:t,18:e}),({data:t,ref:e})=>[(t?131072:0)|(e?262144:0)]],loading:[sr,({data:t,ref:e})=>({17:t,18:e}),({data:t,ref:e})=>[(t?131072:0)|(e?262144:0)]]},$$scope:{ctx:t}}});return{c(){e=g(),n=v("div"),r=v("table"),Y(m.$$.fragment),i=g(),o=v("thead"),o.innerHTML='<tr><th class="uk-width-*">Estudiante</th> \n              <th class="uk-table-shrink">1</th> \n              <th class="uk-table-shrink">2</th> \n              <th class="uk-table-shrink">3</th> \n              <th class="uk-table-shrink"></th></tr>',s=g(),a=v("tbody");for(let t=0;t<b.length;t+=1)b[t].c();u=g(),c=v("tfoot"),Y(E.$$.fragment),_(r,"class","uk-table uk-table-divider"),_(r,"id","miTabla"),_(n,"class","uk-overflow-auto")},m(t,p){f(t,e,p),f(t,n,p),l(n,r),X(m,r,null),l(r,i),l(r,o),l(r,s),l(r,a);for(let t=0;t<b.length;t+=1)b[t].m(a,null);l(r,u),l(r,c),X(E,c,null),h=!0},p(t,e){const n={};if(3&e[0]&&(n.path=`aulas/${t[0]}/materias/${t[1]}`),4&e[1]&&(n.$$scope={dirty:e,ctx:t}),m.$set(n),32770&e[0]){let n;for(y=t[15],n=0;n<y.length;n+=1){const r=Bn(t,y,n);b[n]?(b[n].p(r,e),H(b[n],1)):(b[n]=or(r),b[n].c(),H(b[n],1),b[n].m(a,null))}for(W(),n=y.length;n<b.length;n+=1)w(n);z()}const r={};3&e[0]&&(r.path=`aulas/${t[0]}/materias/${t[1]}`),4&e[1]&&(r.$$scope={dirty:e,ctx:t}),E.$set(r)},i(t){if(!h){H(m.$$.fragment,t);for(let t=0;t<y.length;t+=1)H(b[t]);H(E.$$.fragment,t),h=!0}},o(t){K(m.$$.fragment,t),b=b.filter(Boolean);for(let t=0;t<b.length;t+=1)K(b[t]);K(E.$$.fragment,t),h=!1},d(t){t&&p(e),t&&p(n),J(m),d(b,t),J(E)}}}function cr(t){let e,n,r,i,o,s,a,u,c,h,d,m,y,b,w,E,I,T;const k=new re({props:{path:"aulas",query:lr,log:!0,$$slots:{default:[Qn,({data:t,ref:e})=>({3:t,16:e}),({data:t,ref:e})=>[(t?8:0)|(e?65536:0)]],loading:[zn,({data:t,ref:e})=>({3:t,16:e}),({data:t,ref:e})=>[(t?8:0)|(e?65536:0)]]},$$scope:{ctx:t}}});k.$on("data",(function(){t[12].apply(this,arguments)}));const A=new re({props:{path:"alumnos",query:t[13],$$slots:{default:[ur,({data:t,ref:e})=>({15:t,16:e}),({data:t,ref:e})=>[(t?32768:0)|(e?65536:0)]],loading:[Zn,({data:t,ref:e})=>({15:t,16:e}),({data:t,ref:e})=>[(t?32768:0)|(e?65536:0)]]},$$scope:{ctx:t}}});return{c(){e=v("script"),r=v("script"),o=g(),s=v("div"),s.innerHTML='<div class="uk-container"><h1><span uk-icon="icon: file-edit; ratio: 3.5"></span>\n      Lista de Notas\n    </h1></div>',a=g(),u=v("div"),c=v("div"),h=v("div"),Y(k.$$.fragment),d=g(),m=v("hr"),y=g(),b=v("div"),w=v("div"),Y(A.$$.fragment),E=g(),I=v("div"),I.innerHTML='<div class="uk-width-1-12@m"><div class="uk-card uk-card-default uk-card-body"><a href="#" uk-totop="" uk-scroll=""></a></div></div>',document.title="Lista de notas",e.src!==(n="./js/jspdf.min.js")&&_(e,"src","./js/jspdf.min.js"),r.src!==(i="./js/jspdf.plugin.autotable.js")&&_(r,"src","./js/jspdf.plugin.autotable.js"),_(s,"class","uk-section uk-section-primary uk-text-center uk-section-xsmall"),_(h,"class","uk-child-width-1-2@s uk-child-width-1-3@m"),_(h,"uk-grid",""),_(c,"class","uk-container"),_(u,"class","uk-section uk-text-center uk-section-xsmall"),_(m,"class","uk-divider-icon"),_(w,"class","uk-container"),_(b,"class","uk-section uk-section-muted uk-text-center uk-section-xsmall"),_(I,"class","uk-grid-match uk-grid-small uk-text-center"),_(I,"uk-grid","")},m(t,n){l(document.head,e),l(document.head,r),f(t,o,n),f(t,s,n),f(t,a,n),f(t,u,n),l(u,c),l(c,h),X(k,h,null),f(t,d,n),f(t,m,n),f(t,y,n),f(t,b,n),l(b,w),X(A,w,null),f(t,E,n),f(t,I,n),T=!0},p(e,n){t=e;const r={};3&n[0]|4&n[1]&&(r.$$scope={dirty:n,ctx:t}),k.$set(r);const i={};1&n[0]&&(i.query=t[13]),3&n[0]|4&n[1]&&(i.$$scope={dirty:n,ctx:t}),A.$set(i)},i(t){T||(H(k.$$.fragment,t),H(A.$$.fragment,t),T=!0)},o(t){K(k.$$.fragment,t),K(A.$$.fragment,t),T=!1},d(t){p(e),p(r),t&&p(o),t&&p(s),t&&p(a),t&&p(u),J(k),t&&p(d),t&&p(m),t&&p(y),t&&p(b),J(A),t&&p(E),t&&p(I)}}}async function hr(){await void document.querySelectorAll("#miTabla tbody tr").forEach(t=>{const e=t.querySelectorAll("td");e[e.length-1].getElementsByClassName("uk-label")[0].innerText=""})}const lr=t=>t.orderBy("nombre","asc");function fr(t,e,n){const r=de.firestore();let i,o;var s=new Date,a=s.getFullYear();const u=async(t,e)=>{var n=await new jsPDF("p","pt","letter");n.autoTable({html:"#miTabla"}),n.save(`${t}${e}.pdf`)};return[i,o,u,void 0,void 0,r,void 0,s,a,function(){i=A(this),n(0,i),n(3,void 0)},function(){o=A(this),n(1,o),n(4,void 0)},()=>{u(i,o)},t=>n(0,i=t.detail.data[0].id),t=>t.where("clase","==",""+i).orderBy("nombre","asc"),(t,e)=>e.where("materia","==",""+o).where("cicloLectivo","==",new Date(t.created).getFullYear())]}class pr extends tt{constructor(t){super(),Z(this,t,fr,cr,o,{},[-1,-1])}}function dr(t,e,n){const r=t.slice();return r[8]=e[n],r[10]=n,r}function vr(t){let e;return{c(){e=v("div"),e.innerHTML='<div uk-spinner=""></div>',_(e,"slot","loading")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function mr(t){let e,n,r,i=t[11].useruid[0]+"";return{c(){e=m("Usuario "),n=m(i),r=m(" No Activo")},m(t,i){f(t,e,i),f(t,n,i),f(t,r,i)},p(t,e){2048&e&&i!==(i=t[11].useruid[0]+"")&&I(n,i)},d(t){t&&p(e),t&&p(n),t&&p(r)}}}function gr(t){let e,n,r,i=t[11].useruid[0]+"";return{c(){e=m("Usuario "),n=m(i),r=m(" activo")},m(t,i){f(t,e,i),f(t,n,i),f(t,r,i)},p(t,e){2048&e&&i!==(i=t[11].useruid[0]+"")&&I(n,i)},d(t){t&&p(e),t&&p(n),t&&p(r)}}}function yr(t){let e,n,r,i,o;return{c(){e=v("option"),e.textContent="Si",r=v("option"),r.textContent="No",e.__value=n=!0,e.value=e.__value,r.__value=i=!1,r.value=r.__value,r.selected=o=!0},m(t,n){f(t,e,n),f(t,r,n)},d(t){t&&p(e),t&&p(r)}}}function br(t){let e,n,r,i,o;return{c(){e=v("option"),e.textContent="Si",i=v("option"),i.textContent="No",e.__value=n=!0,e.value=e.__value,e.selected=r=!0,i.__value=o=!1,i.value=i.__value},m(t,n){f(t,e,n),f(t,i,n)},d(t){t&&p(e),t&&p(i)}}}function wr(t){let e,n,i,o,s,a,u,c,h,d,y,w,E,I,T,A,N,S,x,O,D,C,L,P,R,M,j,U,V,F,q,B,G,W,z,H,K,Y,X,J,Q,Z,tt,et,nt,rt,it,ot,st,at,ut,ct,ht,lt,ft,pt,dt,vt;function mt(t,e){return t[11].useruid[4]?gr:mr}let gt=mt(t),yt=gt(t);function bt(t,e){return t[11].useruid[4]?br:yr}let wt=bt(t),_t=wt(t);function Et(){t[4].call(E,t[10])}function It(){t[5].call(x,t[10])}function Tt(...e){return t[6](t[12],t[10],t[11],...e)}function kt(...e){return t[7](t[12],...e)}return{c(){e=g(),n=v("div"),i=v("div"),o=v("div"),s=v("div"),yt.c(),a=g(),u=v("div"),c=v("div"),h=v("div"),d=v("label"),d.textContent="Estado.",y=g(),w=v("div"),E=v("select"),_t.c(),I=g(),T=v("div"),A=v("label"),A.textContent="Rol de usuario.",N=g(),S=v("div"),x=v("select"),O=v("option"),D=m("Administrativo"),L=v("option"),P=m("Personal"),M=g(),j=v("div"),U=v("label"),U.textContent="UID",V=g(),F=v("div"),q=v("input"),W=g(),z=v("div"),H=v("label"),H.textContent="Email",K=g(),Y=v("div"),X=v("input"),Z=g(),tt=v("div"),et=v("label"),et.textContent="Nombre",nt=g(),rt=v("div"),it=v("input"),at=g(),ut=v("div"),ct=v("button"),ct.textContent="Actualizar Usuario",ht=m(" | \r\n              "),lt=v("button"),lt.textContent="Eliminar Usuario",dt=g(),_(s,"class","uk-card-badge uk-label"),_(o,"class","uk-card-header"),_(d,"class","uk-form-label"),_(d,"for","form-horizontal-rol"),_(E,"class","uk-select uk-form-blank"),void 0===t[2][t[10]]&&$(Et),_(w,"class","uk-form-controls"),_(h,"class","uk-margin"),_(A,"class","uk-form-label"),_(A,"for","form-horizontal-rol"),O.__value="admin",O.value=O.__value,O.selected=C="admin"===t[11].useruid[0],L.__value="staff",L.value=L.__value,L.selected=R="staff"===t[11].useruid[0],_(x,"class","uk-select uk-form-blank"),void 0===t[1][t[10]]&&$(It),_(S,"class","uk-form-controls"),_(T,"class","uk-margin"),_(U,"class","uk-form-label"),_(U,"for","uidtxt"),_(q,"class","uk-input uk-form-blank"),q.value=B=t[11].useruid[1],_(q,"type","text"),_(q,"placeholder",G=t[11].useruid[1]),q.disabled=!0,_(F,"class","uk-form-controls"),_(j,"class","uk-margin"),_(H,"class","uk-form-label"),_(H,"for","emailtxt"),_(X,"class","uk-input uk-form-blank"),X.value=J=t[11].useruid[2],_(X,"type","text"),_(X,"placeholder",Q=t[11].useruid[2]),X.disabled=!0,_(Y,"class","uk-form-controls"),_(z,"class","uk-margin"),_(et,"class","uk-form-label"),_(et,"for","nametxt"),_(it,"class","uk-input uk-form-blank"),it.value=ot=t[11].useruid[3],_(it,"type","text"),_(it,"placeholder",st=t[11].useruid[3]),it.disabled=!0,_(rt,"class","uk-form-controls"),_(tt,"class","uk-margin"),_(c,"class","uk-form-horizontal uk-margin-large"),_(u,"class","uk-card-body"),_(ct,"class","uk-button uk-button-text"),_(lt,"class","uk-button uk-button-text"),_(ut,"class","uk-card-footer"),_(i,"class","uk-card uk-card-primary uk-card-hover uk-width-1-1@m"),_(n,"data-filter",ft=t[11].useruid[4]),_(n,"data-rol",pt=t[11].useruid[0]),vt=[b(E,"change",Et),b(x,"change",It),b(ct,"click",Tt),b(lt,"click",kt)]},m(r,p){f(r,e,p),f(r,n,p),l(n,i),l(i,o),l(o,s),yt.m(s,null),l(i,a),l(i,u),l(u,c),l(c,h),l(h,d),l(h,y),l(h,w),l(w,E),_t.m(E,null),k(E,t[2][t[10]]),l(c,I),l(c,T),l(T,A),l(T,N),l(T,S),l(S,x),l(x,O),l(O,D),l(x,L),l(L,P),k(x,t[1][t[10]]),l(c,M),l(c,j),l(j,U),l(j,V),l(j,F),l(F,q),l(c,W),l(c,z),l(z,H),l(z,K),l(z,Y),l(Y,X),l(c,Z),l(c,tt),l(tt,et),l(tt,nt),l(tt,rt),l(rt,it),l(i,at),l(i,ut),l(ut,ct),l(ut,ht),l(ut,lt),f(r,dt,p)},p(e,r){gt===(gt=mt(t=e))&&yt?yt.p(t,r):(yt.d(1),yt=gt(t),yt&&(yt.c(),yt.m(s,null))),wt!==(wt=bt(t))&&(_t.d(1),_t=wt(t),_t&&(_t.c(),_t.m(E,null))),4&r&&k(E,t[2][t[10]]),2048&r&&C!==(C="admin"===t[11].useruid[0])&&(O.selected=C),2048&r&&R!==(R="staff"===t[11].useruid[0])&&(L.selected=R),2&r&&k(x,t[1][t[10]]),2048&r&&B!==(B=t[11].useruid[1])&&(q.value=B),2048&r&&G!==(G=t[11].useruid[1])&&_(q,"placeholder",G),2048&r&&J!==(J=t[11].useruid[2])&&(X.value=J),2048&r&&Q!==(Q=t[11].useruid[2])&&_(X,"placeholder",Q),2048&r&&ot!==(ot=t[11].useruid[3])&&(it.value=ot),2048&r&&st!==(st=t[11].useruid[3])&&_(it,"placeholder",st),2048&r&&ft!==(ft=t[11].useruid[4])&&_(n,"data-filter",ft),2048&r&&pt!==(pt=t[11].useruid[0])&&_(n,"data-rol",pt)},d(t){t&&p(e),t&&p(n),yt.d(),_t.d(),t&&p(dt),r(vt)}}}function _r(t){let e;const n=new Ft({props:{path:"usuarios/"+t[8].id,log:!0,$$slots:{default:[wr,({data:t,ref:e})=>({11:t,12:e}),({data:t,ref:e})=>(t?2048:0)|(e?4096:0)],loading:[vr,({data:t,ref:e})=>({11:t,12:e}),({data:t,ref:e})=>(t?2048:0)|(e?4096:0)]},$$scope:{ctx:t}}});return{c(){Y(n.$$.fragment)},m(t,r){X(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.path="usuarios/"+t[8].id),8198&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(H(n.$$.fragment,t),e=!0)},o(t){K(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function Er(t){let e,n,r,i,o,s,a=t[0],u=[];for(let e=0;e<a.length;e+=1)u[e]=_r(dr(t,a,e));const c=t=>K(u[t],1,1,()=>{u[t]=null});return{c(){e=v("div"),n=v("div"),r=v("ul"),r.innerHTML='<li class="uk-active" uk-filter-control=""><a href="#">Todos los Usuarios</a></li> \n    <li uk-filter-control="filter: [data-filter=&#39;true&#39;]; group: filter"><a href="#">Usuarios Activos</a></li> \n    <li uk-filter-control="filter: [data-filter=&#39;false&#39;]; group: filter"><a href="#">Usuarios No Activos</a></li> \n    <li uk-filter-control="filter: [data-rol=&#39;admin&#39;]; group: rol"><a uk-tooltip="title: Adminitrativos" href="#" uk-icon="icon: user"></a></li> \n    <li uk-filter-control="filter: [data-rol=&#39;staff&#39;]; group: rol"><a uk-tooltip="title: Personal" href="#" uk-icon="icon: users"></a></li>',i=g(),o=v("div");for(let t=0;t<u.length;t+=1)u[t].c();_(r,"class","uk-subnav uk-subnav-pill"),_(o,"class","js-filter uk-child-width-1-2@s uk-grid-match"),_(o,"uk-grid",""),_(n,"uk-filter","target: .js-filter"),_(e,"class","uk-container")},m(t,a){f(t,e,a),l(e,n),l(n,r),l(n,i),l(n,o);for(let t=0;t<u.length;t+=1)u[t].m(o,null);s=!0},p(t,[e]){if(7&e){let n;for(a=t[0],n=0;n<a.length;n+=1){const r=dr(t,a,n);u[n]?(u[n].p(r,e),H(u[n],1)):(u[n]=_r(r),u[n].c(),H(u[n],1),u[n].m(o,null))}for(W(),n=a.length;n<u.length;n+=1)c(n);z()}},i(t){if(!s){for(let t=0;t<a.length;t+=1)H(u[t]);s=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)K(u[t]);s=!1},d(t){t&&p(e),d(u,t)}}}function Ir(t,e,n){const r=de.firestore();let{arrUsuarios:i=[]}=e;r.collection("usuarios").orderBy("useruid","desc").onSnapshot(async t=>{n(0,i=await t.docs)});let o=[],s=[];return t.$set=t=>{"arrUsuarios"in t&&n(0,i=t.arrUsuarios)},[i,o,s,r,function(t){s[t]=A(this),n(2,s)},function(t){o[t]=A(this),n(1,o)},(t,e,n)=>t.update({useruid:[o[e],n.useruid[1],n.useruid[2],n.useruid[3],s[e]]}).then(t=>{UIkit.notification({message:"<span uk-icon='icon: pencil'></span> Registro actualizado con xito.",pos:"top-center",status:"primary"})}),t=>UIkit.modal.confirm("Esta seguro que desea eliminar este usuario?").then((function(){t.delete().then(()=>{UIkit.notification({message:"<span uk-icon='icon: trash'></span> Registro eliminado xitosamente.",pos:"top-center",status:"primary"})})}),(function(){UIkit.notification({message:"<span uk-icon='icon: warning'></span> Operacin cancelada.",pos:"top-center",status:"danger"})}))]}class Tr extends tt{constructor(t){super(),Z(this,t,Ir,Er,o,{arrUsuarios:0})}}function kr(t){let e;return{c(){e=v("div"),e.innerHTML='<div uk-spinner=""></div>',_(e,"slot","loading")},m(t,n){f(t,e,n)},d(t){t&&p(e)}}}function Ar(t){let e,n,i,o,s,a,u,c,h,d,y,w,E,I,A,N,S,x,O,D,C,L,P,R,M,j,U,V,F,q,B,G,W,z,H,K,Y,X,J,Q,Z,tt,et,nt,rt,it,ot,st,at,ut,ct,ht,lt,ft,pt,dt,vt;function mt(...e){return t[13](t[15],...e)}return{c(){e=g(),n=v("div"),i=v("div"),o=v("div"),s=v("label"),s.textContent="Rol de usuario",a=g(),u=v("div"),c=v("select"),h=v("option"),h.textContent="Administrativo",d=v("option"),d.textContent="Personal",y=g(),w=v("div"),E=v("div"),I=v("div"),I.textContent="Activo",A=g(),N=v("div"),S=v("label"),x=v("input"),D=m(" Si"),C=v("br"),L=g(),P=v("label"),R=v("input"),j=m(" No"),U=g(),V=v("div"),F=v("div"),q=v("label"),q.textContent="UID*",B=g(),G=v("div"),W=v("input"),H=g(),K=v("div"),Y=v("div"),X=v("label"),X.textContent="Email*",J=g(),Q=v("div"),Z=v("input"),et=g(),nt=v("div"),rt=v("div"),it=v("label"),it.textContent="Nombre*",ot=g(),st=v("div"),at=v("input"),ct=g(),ht=v("div"),lt=v("div"),ft=v("button"),pt=m("Nuevo usuario"),_(s,"class","uk-form-label"),_(s,"for","form-stacked-select"),h.__value="admin",h.value=h.__value,d.__value="staff",d.value=d.__value,_(c,"class","uk-select"),_(c,"id","form-stacked-select"),void 0===t[0]&&$(()=>t[6].call(c)),_(u,"class","uk-form-controls"),_(o,"class","uk-margin"),_(I,"class","uk-form-label"),_(x,"class","uk-radio"),_(x,"type","radio"),x.__value=O=!0,x.value=x.__value,t[8][0].push(x),_(R,"class","uk-radio"),_(R,"type","radio"),R.__value=M=!1,R.value=R.__value,t[8][0].push(R),_(N,"class","uk-form-controls"),_(E,"class","uk-margin"),_(q,"class","uk-form-label"),_(q,"for","form-uid"),_(W,"class","uk-input"),_(W,"id","form-uid"),_(W,"type","text"),_(W,"placeholder","UID"),W.disabled=z=!t[0],_(G,"class","uk-form-controls"),_(F,"class","uk-margin"),_(X,"class","uk-form-label"),_(X,"for","form-email"),_(Z,"class","uk-input"),_(Z,"id","form-email"),_(Z,"type","email"),_(Z,"placeholder","Email"),Z.disabled=tt=!t[2],_(Q,"class","uk-form-controls"),_(Y,"class","uk-margin"),_(it,"class","uk-form-label"),_(it,"for","form-name"),_(at,"class","uk-input"),_(at,"id","form-name"),_(at,"type","text"),_(at,"placeholder","Nombre"),at.disabled=ut=!t[2],_(st,"class","uk-form-controls"),_(rt,"class","uk-margin"),_(ft,"class","uk-button uk-button-primary uk-width-1-1 uk-margin-small-bottom"),ft.disabled=dt=!t[2],_(lt,"class","uk-margin"),_(n,"class","uk-form-stacked"),vt=[b(c,"change",t[6]),b(x,"change",t[7]),b(R,"change",t[9]),b(W,"input",t[10]),b(Z,"input",t[11]),b(at,"input",t[12]),b(ft,"click",(function(){mt.apply(this,arguments)}))]},m(r,p){f(r,e,p),f(r,n,p),l(n,i),l(i,o),l(o,s),l(o,a),l(o,u),l(u,c),l(c,h),l(c,d),k(c,t[0]),l(n,y),l(n,w),l(w,E),l(E,I),l(E,A),l(E,N),l(N,S),l(S,x),x.checked=x.__value===t[1],l(S,D),l(N,C),l(N,L),l(N,P),l(P,R),R.checked=R.__value===t[1],l(P,j),l(n,U),l(n,V),l(V,F),l(F,q),l(F,B),l(F,G),l(G,W),T(W,t[2]),l(n,H),l(n,K),l(K,Y),l(Y,X),l(Y,J),l(Y,Q),l(Q,Z),T(Z,t[3]),l(n,et),l(n,nt),l(nt,rt),l(rt,it),l(rt,ot),l(rt,st),l(st,at),T(at,t[4]),l(n,ct),l(n,ht),l(ht,lt),l(lt,ft),l(ft,pt)},p(e,n){t=e,1&n&&k(c,t[0]),2&n&&(x.checked=x.__value===t[1]),2&n&&(R.checked=R.__value===t[1]),1&n&&z!==(z=!t[0])&&(W.disabled=z),4&n&&W.value!==t[2]&&T(W,t[2]),4&n&&tt!==(tt=!t[2])&&(Z.disabled=tt),8&n&&Z.value!==t[3]&&T(Z,t[3]),4&n&&ut!==(ut=!t[2])&&(at.disabled=ut),16&n&&at.value!==t[4]&&T(at,t[4]),4&n&&dt!==(dt=!t[2])&&(ft.disabled=dt)},d(i){i&&p(e),i&&p(n),t[8][0].splice(t[8][0].indexOf(x),1),t[8][0].splice(t[8][0].indexOf(R),1),r(vt)}}}function Nr(t){let e,n,r,i,o,s,a,u,c,h,d;const m=new re({props:{path:"usuarios",log:!0,query:Sr,$$slots:{default:[Ar,({data:t,ref:e})=>({14:t,15:e}),({data:t,ref:e})=>(t?16384:0)|(e?32768:0)],loading:[kr,({data:t,ref:e})=>({14:t,15:e}),({data:t,ref:e})=>(t?16384:0)|(e?32768:0)]},$$scope:{ctx:t}}}),y=new Tr({});return{c(){e=v("div"),n=v("div"),r=v("h1"),r.textContent="Usuarios",i=g(),o=v("p"),o.innerHTML='<span class="uk-label">Importante!!</span> El <code>UID*</code> de usuario debe ser agregado de forma manual.',s=g(),a=v("div"),Y(m.$$.fragment),u=g(),Y(y.$$.fragment),c=g(),h=v("div"),h.innerHTML='<div class="uk-width-1-12@m"><div class="uk-card uk-card-default uk-card-body"><a href="#" uk-totop="" uk-scroll=""></a></div></div>',_(a,"class","uk-grid-match uk-child-width-1-1@m"),_(a,"uk-grid",""),_(n,"class","uk-container"),_(e,"class","uk-section uk-section-muted"),_(h,"class","uk-grid-match uk-grid-small uk-text-center"),_(h,"uk-grid","")},m(t,p){f(t,e,p),l(e,n),l(n,r),l(n,i),l(n,o),l(n,s),l(n,a),X(m,a,null),f(t,u,p),X(y,t,p),f(t,c,p),f(t,h,p),d=!0},p(t,[e]){const n={};65567&e&&(n.$$scope={dirty:e,ctx:t}),m.$set(n)},i(t){d||(H(m.$$.fragment,t),H(y.$$.fragment,t),d=!0)},o(t){K(m.$$.fragment,t),K(y.$$.fragment,t),d=!1},d(t){t&&p(e),J(m),t&&p(u),J(y,t),t&&p(c),t&&p(h)}}}const Sr=t=>t.orderBy("useruid","desc");function xr(t,e,n){const r=de.firestore();let i,o,s,a="staff",u=!1;return[a,u,i,o,s,r,function(){a=A(this),n(0,a)},function(){u=this.__value,n(1,u)},[[]],function(){u=this.__value,n(1,u)},function(){i=this.value,n(2,i)},function(){o=this.value,n(3,o)},function(){s=this.value,n(4,s)},(t,e)=>{t.add({useruid:[a,i,o,s,u]}).then(t=>{UIkit.notification({message:'<span uk-icon="icon: check"></span> Agregado a la lista de usuarios.',status:"primary",pos:"top-center"}),n(0,a="staff"),n(1,u=!1),n(2,i=""),n(3,o=""),n(4,s="")})}]}class Or extends tt{constructor(t){super(),Z(this,t,xr,Nr,o,{})}}function Dr(t,e,n){const r=t.slice();return r[21]=e[n],r[23]=n,r}function Cr(t,e,n){const r=t.slice();return r[18]=e[n],r}function Lr(t){let e,n,r,i,o,s,a=t[21].title+"";function u(...e){return t[11](t[23],...e)}return{c(){e=v("li"),n=v("a"),r=v("span"),i=g(),o=m(a),_(r,"uk-icon","chevron-double-right"),_(n,"href","javascript:void(0)"),s=b(n,"click",u)},m(t,s){f(t,e,s),l(e,n),l(n,r),l(n,i),l(n,o)},p(e,n){t=e},d(t){t&&p(e),s()}}}function Pr(t){let e,n,r,i,o,s,a=t[21].title+"";function u(...e){return t[10](t[23],...e)}return{c(){e=v("li"),n=v("a"),r=v("span"),i=g(),o=m(a),_(r,"uk-icon","chevron-double-right"),_(n,"href","javascript:void(0)"),s=b(n,"click",u)},m(t,s){f(t,e,s),l(e,n),l(n,r),l(n,i),l(n,o)},p(e,n){t=e},d(t){t&&p(e),s()}}}function Rr(t){let e;function n(t,e){return t[14].uid===t[18].useruid[1]&&t[21].admin&&"admin"===t[18].useruid[0]&&t[21].status===t[18].useruid[4]?Pr:t[14].uid===t[18].useruid[1]&&t[21].staff&&"staff"===t[18].useruid[0]&&t[21].status===t[18].useruid[4]?Lr:void 0}let r=n(t),i=r&&r(t);return{c(){i&&i.c(),e=y()},m(t,n){i&&i.m(t,n),f(t,e,n)},p(t,o){r===(r=n(t))&&i?i.p(t,o):(i&&i.d(1),i=r&&r(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i&&i.d(t),t&&p(e)}}}function Mr(t){let e,n=t[1],r=[];for(let e=0;e<n.length;e+=1)r[e]=Rr(Dr(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=y()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);f(t,e,n)},p(t,i){if(81938&i){let o;for(n=t[1],o=0;o<n.length;o+=1){const s=Dr(t,n,o);r[o]?r[o].p(s,i):(r[o]=Rr(s),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){d(r,t),t&&p(e)}}}function jr(t){let e,n=t[16],r=[];for(let e=0;e<n.length;e+=1)r[e]=Mr(Cr(t,n,e));return{c(){e=v("ul");for(let t=0;t<r.length;t+=1)r[t].c();_(e,"class","uk-nav uk-dropdown-nav")},m(t,n){f(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,i){if(81938&i){let o;for(n=t[16],o=0;o<n.length;o+=1){const s=Cr(t,n,o);r[o]?r[o].p(s,i):(r[o]=Mr(s),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(t){t&&p(e),d(r,t)}}}function Ur(t){let e,n,r,i,o,s,a,u,c,h,d,m,y,w,E,I,T,k,A;function N(...e){return t[13](t[15],...e)}return{c(){e=v("div"),n=v("div"),r=v("div"),i=v("div"),o=v("div"),s=g(),a=v("div"),u=v("div"),c=v("div"),c.innerHTML='<span uk-icon="icon: google; ratio: 3.5"></span>',h=g(),d=v("div"),m=v("h3"),y=v("button"),y.textContent="Google account.",w=g(),E=v("p"),I=v("time"),I.textContent=""+t[3],T=g(),k=v("div"),_(o,"class","uk-card-header"),_(c,"class","uk-width-auto"),_(y,"class","uk-button uk-button-text"),_(y,"uk-tooltip","title: Ingresar..; pos: bottom"),_(m,"class","uk-card-title uk-margin-remove-bottom"),_(I,"datetime",""),_(E,"class","uk-text-meta uk-margin-remove-top"),_(d,"class","uk-width-expand"),_(u,"class","uk-grid-small uk-flex-middle"),_(u,"uk-grid",""),_(a,"class","uk-card-body uk-card-hover"),_(k,"class","uk-card-footer"),_(i,"class","uk-card uk-card-default uk-width-1-1@m "),_(r,"class","uk-position-small uk-position-center uk-overlay uk-overlay-default"),_(n,"class","uk-child-width-1-3@m"),_(n,"uk-grid",""),_(n,"uk-scrollspy","cls: uk-animation-fade; target: .uk-card; delay: 500; repeat: true"),_(e,"slot","signed-out"),A=b(y,"click",N)},m(t,p){f(t,e,p),l(e,n),l(n,r),l(r,i),l(i,o),l(i,s),l(i,a),l(a,u),l(u,c),l(u,h),l(u,d),l(d,m),l(m,y),l(d,w),l(d,E),l(E,I),l(i,T),l(i,k)},p(e,n){t=e},d(t){t&&p(e),A()}}}function Vr(t){let e,n,r,i,o,s,a,u,c,h,d,w,E,T,k,A,N,S,x,O,D,C,L,P,R,M,j,U=t[14].displayName+"",V=t[14].email+"";const $=new re({props:{path:"usuarios",query:function(...e){return t[9](t[14],...e)},log:!0,$$slots:{default:[jr,({data:t,ref:e})=>({16:t,17:e}),({data:t,ref:e})=>(t?65536:0)|(e?131072:0)]},$$scope:{ctx:t}}});function F(...e){return t[12](t[15],...e)}var q=t[0].component;if(q)var B=new q({});return{c(){e=v("div"),n=v("nav"),r=v("div"),i=v("div"),o=v("img"),a=g(),u=v("div"),c=v("div"),h=v("h4"),d=m(U),w=g(),E=v("p"),T=m(V),k=g(),A=v("div"),N=v("div"),S=v("span"),x=g(),O=v("div"),Y($.$$.fragment),D=g(),C=v("button"),L=g(),P=g(),B&&Y(B.$$.fragment),R=y(),_(o,"class","uk-border-circle"),_(o,"width","35"),_(o,"height","35"),o.src!==(s=t[14].photoURL)&&_(o,"src",s),_(o,"alt",""),_(i,"class","uk-navbar-item uk-logo"),_(h,"class","uk-comment-title uk-margin-remove"),_(E,"class","uk-comment-meta uk-margin-remove-top"),_(c,"class","uk-width-expand"),_(u,"class","uk-navbar-nav uk-width-auto uk-margin-top"),_(r,"class","uk-navbar-left"),_(S,"uk-icon","grid"),_(O,"uk-dropdown","pos: top-right"),_(C,"uk-tooltip","title: Salir; pos: bottom"),_(C,"uk-icon","sign-out"),_(N,"class","uk-inline"),_(A,"class","uk-navbar-right uk-margin-right"),_(n,"class","uk-navbar-container"),_(n,"uk-navbar",""),_(e,"uk-sticky","sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky"),j=b(C,"click",F)},m(t,s){f(t,e,s),l(e,n),l(n,r),l(r,i),l(i,o),l(r,a),l(r,u),l(u,c),l(c,h),l(h,d),l(c,w),l(c,E),l(E,T),l(n,k),l(n,A),l(A,N),l(N,S),l(N,x),l(N,O),X($,O,null),l(N,D),l(N,C),f(t,L,s),f(t,P,s),B&&X(B,t,s),f(t,R,s),M=!0},p(e,n){t=e,(!M||16384&n&&o.src!==(s=t[14].photoURL))&&_(o,"src",s),(!M||16384&n)&&U!==(U=t[14].displayName+"")&&I(d,U),(!M||16384&n)&&V!==(V=t[14].email+"")&&I(T,V);const r={};if(16777216&n&&(r.$$scope={dirty:n,ctx:t}),$.$set(r),q!==(q=t[0].component)){if(B){W();const t=B;K(t.$$.fragment,1,0,()=>{J(t,1)}),z()}q?(Y((B=new q({})).$$.fragment),H(B.$$.fragment,1),X(B,R.parentNode,R)):B=null}},i(t){M||(H($.$$.fragment,t),B&&H(B.$$.fragment,t),M=!0)},o(t){K($.$$.fragment,t),B&&K(B.$$.fragment,t),M=!1},d(t){t&&p(e),J($),t&&p(L),t&&p(P),t&&p(R),B&&J(B,t),j()}}}function $r(t){let e;const n=new _t({props:{$$slots:{default:[Vr,({user:t,auth:e})=>({14:t,15:e}),({user:t,auth:e})=>(t?16384:0)|(e?32768:0)],"signed-out":[Ur,({user:t,auth:e})=>({14:t,15:e}),({user:t,auth:e})=>(t?16384:0)|(e?32768:0)]},$$scope:{ctx:t}}});return{c(){Y(n.$$.fragment)},m(t,r){X(n,t,r),e=!0},p(t,e){const r={};16777217&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(H(n.$$.fragment,t),e=!0)},o(t){K(n.$$.fragment,t),e=!1},d(t){J(n,t)}}}function Fr(t){let e,n;const r=new it({props:{firebase:de,$$slots:{default:[$r]},$$scope:{ctx:t}}});return{c(){e=g(),Y(r.$$.fragment),document.title="Home"},m(t,i){f(t,e,i),X(r,t,i),n=!0},p(t,[e]){const n={};16777217&e&&(n.$$scope={dirty:e,ctx:t}),r.$set(n)},i(t){n||(H(r.$$.fragment,t),n=!0)},o(t){K(r.$$.fragment,t),n=!1},d(t){t&&p(e),J(r,t)}}}function qr(t,e,n){var r={apiKey:"AIzaSyA-yOx6yYkcsCSK5kIffXt5_Cue7-ZaLmI",authDomain:"notas-app-f5b3d.firebaseapp.com",databaseURL:"https://notas-app-f5b3d.firebaseio.com",projectId:"notas-app-f5b3d",storageBucket:"notas-app-f5b3d.appspot.com",messagingSenderId:"989237850176",appId:"1:989237850176:web:56ff53f51616ee0338afa5",measurementId:"G-VFBBEP14V2"};de.initializeApp(r),de.analytics();const i=[{title:"Home",component:pn,admin:!0,staff:!0,status:!0},{title:"Alumnos",component:je,admin:!0,staff:!1,status:!0},{title:"Materias",component:en,admin:!0,staff:!1,status:!0},{title:"Seccion",component:ln,admin:!0,staff:!1,status:!0},{title:"Nueva Nota",component:Fn,admin:!0,staff:!0,status:!0},{title:"Lista de Notas",component:pr,admin:!0,staff:!0,status:!0},{title:"Usuarios",component:Or,admin:!0,staff:!1,status:!0}];var o=new de.auth.GoogleAuthProvider;let s=i[0];var a=new Array("Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"),u=new Date;let c=u.getDate()+" de "+a[u.getMonth()]+" de "+u.getFullYear();const h=t=>{n(0,s=i[t])},l=t=>{UIkit.modal.confirm("Esta seguro que desea salir de la aplicacin...").then((function(){t.signOut().then(t=>{UIkit.notification({message:"<span uk-icon='icon: check'></span> Desconexin satisfactoria.",status:"primary"})})}),(function(){}))};return[s,i,o,c,h,l,r,a,u,(t,e)=>e.where("useruid","array-contains-any",[t.uid]),t=>{h(t)},t=>{h(t)},t=>{l(t)},t=>t.signInWithPopup(o)]}return new class extends tt{constructor(t){super(),Z(this,t,qr,Fr,o,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
